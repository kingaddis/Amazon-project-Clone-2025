function Xk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function CC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Uv={exports:{}},Lh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function Jk(){if(GA)return Lh;GA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Lh.Fragment=e,Lh.jsx=t,Lh.jsxs=t,Lh}var KA;function Zk(){return KA||(KA=1,Uv.exports=Jk()),Uv.exports}var K=Zk(),Bv={exports:{}},Uh={},Fv={exports:{}},zv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function eM(){return WA||(WA=1,function(n){function e($,ee){var oe=$.length;$.push(ee);e:for(;0<oe;){var we=oe-1>>>1,j=$[we];if(0<i(j,ee))$[we]=ee,$[oe]=j,oe=we;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ee=$[0],oe=$.pop();if(oe!==ee){$[0]=oe;e:for(var we=0,j=$.length,le=j>>>1;we<le;){var ye=2*(we+1)-1,me=$[ye],Te=ye+1,ke=$[Te];if(0>i(me,oe))Te<j&&0>i(ke,me)?($[we]=ke,$[Te]=oe,we=Te):($[we]=me,$[ye]=oe,we=ye);else if(Te<j&&0>i(ke,oe))$[we]=ke,$[Te]=oe,we=Te;else break e}}return ee}function i($,ee){var oe=$.sortIndex-ee.sortIndex;return oe!==0?oe:$.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,_=null,v=3,T=!1,w=!1,I=!1,D=!1,U=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function q($){for(var ee=t(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=$)r(d),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=t(d)}}function B($){if(I=!1,q($),!w)if(t(f)!==null)w=!0,G||(G=!0,P());else{var ee=t(d);ee!==null&&F(B,ee.startTime-$)}}var G=!1,M=-1,R=5,C=-1;function b(){return D?!0:!(n.unstable_now()-C<R)}function x(){if(D=!1,G){var $=n.unstable_now();C=$;var ee=!0;try{e:{w=!1,I&&(I=!1,L(M),M=-1),T=!0;var oe=v;try{t:{for(q($),_=t(f);_!==null&&!(_.expirationTime>$&&b());){var we=_.callback;if(typeof we=="function"){_.callback=null,v=_.priorityLevel;var j=we(_.expirationTime<=$);if($=n.unstable_now(),typeof j=="function"){_.callback=j,q($),ee=!0;break t}_===t(f)&&r(f),q($)}else r(f);_=t(f)}if(_!==null)ee=!0;else{var le=t(d);le!==null&&F(B,le.startTime-$),ee=!1}}break e}finally{_=null,v=oe,T=!1}ee=void 0}}finally{ee?P():G=!1}}}var P;if(typeof V=="function")P=function(){V(x)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,se=O.port2;O.port1.onmessage=x,P=function(){se.postMessage(null)}}else P=function(){U(x,0)};function F($,ee){M=U(function(){$(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var oe=v;v=ee;try{return $()}finally{v=oe}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=v;v=$;try{return ee()}finally{v=oe}},n.unstable_scheduleCallback=function($,ee,oe){var we=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?we+oe:we):oe=we,$){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=oe+j,$={id:g++,callback:ee,priorityLevel:$,startTime:oe,expirationTime:j,sortIndex:-1},oe>we?($.sortIndex=oe,e(d,$),t(f)===null&&$===t(d)&&(I?(L(M),M=-1):I=!0,F(B,oe-we))):($.sortIndex=j,e(f,$),w||T||(w=!0,G||(G=!0,P()))),$},n.unstable_shouldYield=b,n.unstable_wrapCallback=function($){var ee=v;return function(){var oe=v;v=ee;try{return $.apply(this,arguments)}finally{v=oe}}}}(zv)),zv}var QA;function tM(){return QA||(QA=1,Fv.exports=eM()),Fv.exports}var jv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function nM(){if(YA)return Le;YA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,I={};function D(j,le,ye){this.props=j,this.context=le,this.refs=I,this.updater=ye||T}D.prototype.isReactComponent={},D.prototype.setState=function(j,le){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,le,"setState")},D.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=D.prototype;function L(j,le,ye){this.props=j,this.context=le,this.refs=I,this.updater=ye||T}var V=L.prototype=new U;V.constructor=L,w(V,D.prototype),V.isPureReactComponent=!0;var q=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function M(j,le,ye,me,Te,ke){return ye=ke.ref,{$$typeof:n,type:j,key:le,ref:ye!==void 0?ye:null,props:ke}}function R(j,le){return M(j.type,le,void 0,void 0,void 0,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function b(j){var le={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ye){return le[ye]})}var x=/\/+/g;function P(j,le){return typeof j=="object"&&j!==null&&j.key!=null?b(""+j.key):le.toString(36)}function O(){}function se(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(O,O):(j.status="pending",j.then(function(le){j.status==="pending"&&(j.status="fulfilled",j.value=le)},function(le){j.status==="pending"&&(j.status="rejected",j.reason=le)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function F(j,le,ye,me,Te){var ke=typeof j;(ke==="undefined"||ke==="boolean")&&(j=null);var Pe=!1;if(j===null)Pe=!0;else switch(ke){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(j.$$typeof){case n:case e:Pe=!0;break;case g:return Pe=j._init,F(Pe(j._payload),le,ye,me,Te)}}if(Pe)return Te=Te(j),Pe=me===""?"."+P(j,0):me,q(Te)?(ye="",Pe!=null&&(ye=Pe.replace(x,"$&/")+"/"),F(Te,le,ye,"",function(Ir){return Ir})):Te!=null&&(C(Te)&&(Te=R(Te,ye+(Te.key==null||j&&j.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+Pe)),le.push(Te)),1;Pe=0;var qt=me===""?".":me+":";if(q(j))for(var nt=0;nt<j.length;nt++)me=j[nt],ke=qt+P(me,nt),Pe+=F(me,le,ye,ke,Te);else if(nt=v(j),typeof nt=="function")for(j=nt.call(j),nt=0;!(me=j.next()).done;)me=me.value,ke=qt+P(me,nt++),Pe+=F(me,le,ye,ke,Te);else if(ke==="object"){if(typeof j.then=="function")return F(se(j),le,ye,me,Te);throw le=String(j),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function $(j,le,ye){if(j==null)return j;var me=[],Te=0;return F(j,me,"","",function(ke){return le.call(ye,ke,Te++)}),me}function ee(j){if(j._status===-1){var le=j._result;le=le(),le.then(function(ye){(j._status===0||j._status===-1)&&(j._status=1,j._result=ye)},function(ye){(j._status===0||j._status===-1)&&(j._status=2,j._result=ye)}),j._status===-1&&(j._status=0,j._result=le)}if(j._status===1)return j._result.default;throw j._result}var oe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function we(){}return Le.Children={map:$,forEach:function(j,le,ye){$(j,function(){le.apply(this,arguments)},ye)},count:function(j){var le=0;return $(j,function(){le++}),le},toArray:function(j){return $(j,function(le){return le})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Le.Component=D,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=L,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Le.__COMPILER_RUNTIME={__proto__:null,c:function(j){return B.H.useMemoCache(j)}},Le.cache=function(j){return function(){return j.apply(null,arguments)}},Le.cloneElement=function(j,le,ye){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=w({},j.props),Te=j.key,ke=void 0;if(le!=null)for(Pe in le.ref!==void 0&&(ke=void 0),le.key!==void 0&&(Te=""+le.key),le)!G.call(le,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&le.ref===void 0||(me[Pe]=le[Pe]);var Pe=arguments.length-2;if(Pe===1)me.children=ye;else if(1<Pe){for(var qt=Array(Pe),nt=0;nt<Pe;nt++)qt[nt]=arguments[nt+2];me.children=qt}return M(j.type,Te,void 0,void 0,ke,me)},Le.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Le.createElement=function(j,le,ye){var me,Te={},ke=null;if(le!=null)for(me in le.key!==void 0&&(ke=""+le.key),le)G.call(le,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=le[me]);var Pe=arguments.length-2;if(Pe===1)Te.children=ye;else if(1<Pe){for(var qt=Array(Pe),nt=0;nt<Pe;nt++)qt[nt]=arguments[nt+2];Te.children=qt}if(j&&j.defaultProps)for(me in Pe=j.defaultProps,Pe)Te[me]===void 0&&(Te[me]=Pe[me]);return M(j,ke,void 0,void 0,null,Te)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:h,render:j}},Le.isValidElement=C,Le.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:ee}},Le.memo=function(j,le){return{$$typeof:d,type:j,compare:le===void 0?null:le}},Le.startTransition=function(j){var le=B.T,ye={};B.T=ye;try{var me=j(),Te=B.S;Te!==null&&Te(ye,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(we,oe)}catch(ke){oe(ke)}finally{B.T=le}},Le.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Le.use=function(j){return B.H.use(j)},Le.useActionState=function(j,le,ye){return B.H.useActionState(j,le,ye)},Le.useCallback=function(j,le){return B.H.useCallback(j,le)},Le.useContext=function(j){return B.H.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j,le){return B.H.useDeferredValue(j,le)},Le.useEffect=function(j,le,ye){var me=B.H;if(typeof ye=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(j,le)},Le.useId=function(){return B.H.useId()},Le.useImperativeHandle=function(j,le,ye){return B.H.useImperativeHandle(j,le,ye)},Le.useInsertionEffect=function(j,le){return B.H.useInsertionEffect(j,le)},Le.useLayoutEffect=function(j,le){return B.H.useLayoutEffect(j,le)},Le.useMemo=function(j,le){return B.H.useMemo(j,le)},Le.useOptimistic=function(j,le){return B.H.useOptimistic(j,le)},Le.useReducer=function(j,le,ye){return B.H.useReducer(j,le,ye)},Le.useRef=function(j){return B.H.useRef(j)},Le.useState=function(j){return B.H.useState(j)},Le.useSyncExternalStore=function(j,le,ye){return B.H.useSyncExternalStore(j,le,ye)},Le.useTransition=function(){return B.H.useTransition()},Le.version="19.1.0",Le}var XA;function Wa(){return XA||(XA=1,jv.exports=nM()),jv.exports}var qv={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function rM(){if(JA)return Mn;JA=1;var n=Wa();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Mn.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Mn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Mn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Mn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Mn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Mn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Mn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Mn.requestFormReset=function(f){r.d.r(f)},Mn.unstable_batchedUpdates=function(f,d){return f(d)},Mn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Mn.version="19.1.0",Mn}var ZA;function iM(){if(ZA)return qv.exports;ZA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qv.exports=rM(),qv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function sM(){if(eI)return Uh;eI=1;var n=tM(),e=Wa(),t=iM();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),s;if(y===c)return h(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var A=!1,N=m.child;N;){if(N===l){A=!0,l=m,c=y;break}if(N===c){A=!0,c=m,l=y;break}N=N.sibling}if(!A){for(N=y.child;N;){if(N===l){A=!0,l=y,c=m;break}if(N===c){A=!0,c=y,l=m;break}N=N.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=x&&s[x]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case D:return"Profiler";case I:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case V:return(s.displayName||"Context")+".Provider";case L:return(s._context.displayName||"Context")+".Consumer";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:se(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return se(s(a))}catch{}}return null}var F=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},we=[],j=-1;function le(s){return{current:s}}function ye(s){0>j||(s.current=we[j],we[j]=null,j--)}function me(s,a){j++,we[j]=s.current,s.current=a}var Te=le(null),ke=le(null),Pe=le(null),qt=le(null);function nt(s,a){switch(me(Pe,a),me(ke,s),me(Te,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?EA(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=EA(a),s=bA(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ye(Te),me(Te,s)}function Ir(){ye(Te),ye(ke),ye(Pe)}function ai(s){s.memoizedState!==null&&me(qt,s);var a=Te.current,l=bA(a,s.type);a!==l&&(me(ke,s),me(Te,l))}function Rr(s){ke.current===s&&(ye(Te),ye(ke)),qt.current===s&&(ye(qt),Dh._currentValue=oe)}var ur=Object.prototype.hasOwnProperty,Nn=n.unstable_scheduleCallback,Gr=n.unstable_cancelCallback,no=n.unstable_shouldYield,Al=n.unstable_requestPaint,Xn=n.unstable_now,Oc=n.unstable_getCurrentPriorityLevel,ro=n.unstable_ImmediatePriority,Ki=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,yt=n.unstable_LowPriority,bt=n.unstable_IdlePriority,oi=n.log,Kr=n.unstable_setDisableYieldValue,it=null,Ue=null;function Ht(s){if(typeof oi=="function"&&Kr(s),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(it,s)}catch{}}var Jt=Math.clz32?Math.clz32:io,zf=Math.log,Fy=Math.LN2;function io(s){return s>>>=0,s===0?32:31-(zf(s)/Fy|0)|0}var so=256,ao=4194304;function Wr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Il(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var N=c&134217727;return N!==0?(c=N&~y,c!==0?m=Wr(c):(A&=N,A!==0?m=Wr(A):l||(l=N&~s,l!==0&&(m=Wr(l))))):(N=c&~y,N!==0?m=Wr(N):A!==0?m=Wr(A):l||(l=c&~s,l!==0&&(m=Wr(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function oo(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Dc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(){var s=so;return so<<=1,(so&4194048)===0&&(so=256),s}function kc(){var s=ao;return ao<<=1,(ao&62914560)===0&&(ao=4194304),s}function Wi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Qi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Mc(s,a,l,c,m,y){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var N=s.entanglements,z=s.expirationTimes,Z=s.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-Jt(l),de=1<<ce;N[ce]=0,z[ce]=-1;var te=Z[ce];if(te!==null)for(Z[ce]=null,ce=0;ce<te.length;ce++){var ne=te[ce];ne!==null&&(ne.lane&=-536870913)}l&=~de}c!==0&&li(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function li(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Jt(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Vc(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-Jt(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function zs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Rl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function js(){var s=ee.p;return s!==0?s:(s=window.event,s===void 0?32:FA(s.type))}function jf(s,a){var l=ee.p;try{return ee.p=s,a()}finally{ee.p=l}}var wt=Math.random().toString(36).slice(2),ln="__reactFiber$"+wt,Zt="__reactProps$"+wt,Cr="__reactContainer$"+wt,Lc="__reactEvents$"+wt,zy="__reactListeners$"+wt,qs="__reactHandles$"+wt,qf="__reactResources$"+wt,lo="__reactMarker$"+wt;function Hs(s){delete s[ln],delete s[Zt],delete s[Lc],delete s[zy],delete s[qs]}function Yi(s){var a=s[ln];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Cr]||l[ln]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=AA(s);s!==null;){if(l=s[ln])return l;s=AA(s)}return a}s=l,l=s.parentNode}return null}function ui(s){if(s=s[ln]||s[Cr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ci(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function jn(s){var a=s[qf];return a||(a=s[qf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function $t(s){s[lo]=!0}var Uc=new Set,Cl={};function Qr(s,a){Xi(s,a),Xi(s+"Capture",a)}function Xi(s,a){for(Cl[s]=a,s=0;s<a.length;s++)Uc.add(a[s])}var Hf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$f={},uo={};function Gf(s){return ur.call(uo,s)?!0:ur.call($f,s)?!1:Hf.test(s)?uo[s]=!0:($f[s]=!0,!1)}function $s(s,a,l){if(Gf(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function hi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Sn(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var co,Kf;function Ji(s){if(co===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);co=a&&a[1]||"",Kf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+co+s+Kf}var Pl=!1;function xl(s,a){if(!s||Pl)return"";Pl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(s,[],de)}else{try{de.call()}catch(ne){te=ne}s.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),A=y[0],N=y[1];if(A&&N){var z=A.split(`
`),Z=N.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===Z.length)for(c=z.length-1,m=Z.length-1;1<=c&&0<=m&&z[c]!==Z[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==Z[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==Z[m]){var ce=`
`+z[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{Pl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ji(l):""}function Bc(s){switch(s.tag){case 26:case 27:case 5:return Ji(s.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 15:return xl(s.type,!1);case 11:return xl(s.type.render,!1);case 1:return xl(s.type,!0);case 31:return Ji("Activity");default:return""}}function Ol(s){try{var a="";do a+=Bc(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function qn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function jy(s){var a=Fc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Dl(s){s._valueTracker||(s._valueTracker=jy(s))}function zc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Fc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function ho(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qy=/[\n"\\]/g;function en(s){return s.replace(qy,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function cr(s,a,l,c,m,y,A,N){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+qn(a)):s.value!==""+qn(a)&&(s.value=""+qn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?Gs(s,A,qn(a)):l!=null?Gs(s,A,qn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+qn(N):s.removeAttribute("name")}function fo(s,a,l,c,m,y,A,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+qn(l):"",a=a!=null?""+qn(a):l,N||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=N?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Gs(s,a,l){a==="number"&&ho(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Zi(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+qn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function ut(s,a,l){if(a!=null&&(a=""+qn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+qn(l):""}function po(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(F(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=qn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Pr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wf(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||mo.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function jc(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&Wf(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&Wf(s,y,a[y])}function qc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(s){return $y.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var es=null;function xr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ts=null,ns=null;function Hc(s){var a=ui(s);if(a&&(s=a.stateNode)){var l=s[Zt]||null;e:switch(s=a.stateNode,a.type){case"input":if(cr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+en(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[Zt]||null;if(!m)throw Error(r(90));cr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&zc(c)}break e;case"textarea":ut(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Zi(s,!!l.multiple,a,!1)}}}var di=!1;function Qf(s,a,l){if(di)return s(a,l);di=!0;try{var c=s(a);return c}finally{if(di=!1,(ts!==null||ns!==null)&&(jp(),ts&&(a=ts,s=ns,ns=ts=null,Hc(a),s)))for(a=0;a<s.length;a++)Hc(s[a])}}function go(s,a){var l=s.stateNode;if(l===null)return null;var c=l[Zt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(Yr)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){Or=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{Or=!1}var fi=null,Ks=null,rs=null;function $c(){if(rs)return rs;var s,a=Ks,l=a.length,c,m="value"in fi?fi.value:fi.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var A=l-s;for(c=1;c<=A&&a[l-c]===m[y-c];c++);return rs=m.slice(s,1<c?1-c:void 0)}function pi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function mi(){return!0}function Gc(){return!1}function mn(s){function a(l,c,m,y,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?mi:Gc,this.isPropagationStopped=Gc,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),a}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=mn(rt),_o=g({},rt,{view:0,detail:0}),Yf=mn(_o),Ml,Vl,gi,vo=g({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gi&&(gi&&s.type==="mousemove"?(Ml=s.screenX-gi.screenX,Vl=s.screenY-gi.screenY):Vl=Ml=0,gi=s),Ml)},movementY:function(s){return"movementY"in s?s.movementY:Vl}}),Dr=mn(vo),Xf=g({},vo,{dataTransfer:0}),Gy=mn(Xf),Eo=g({},_o,{relatedTarget:0}),Ll=mn(Eo),Kc=g({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ul=mn(Kc),Jf=g({},rt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bl=mn(Jf),Ky=g({},rt,{data:0}),Wc=mn(Ky),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ep[s])?!!a[s]:!1}function wo(){return Qc}var tp=g({},_o,{key:function(s){if(s.key){var a=bo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=pi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(s){return s.type==="keypress"?pi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Fl=mn(tp),np=g({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=mn(np),is=g({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),rp=mn(is),ip=g({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),sp=mn(ip),ap=g({},vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),zl=mn(ap),Hn=g({},rt,{newState:0,oldState:0}),op=mn(Hn),lp=[9,13,27,32],yi=Yr&&"CompositionEvent"in window,p=null;Yr&&"documentMode"in document&&(p=document.documentMode);var E=Yr&&"TextEvent"in window&&!p,S=Yr&&(!yi||p&&8<p&&11>=p),k=" ",Y=!1;function ie(s,a){switch(s){case"keyup":return lp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ke=!1;function un(s,a){switch(s){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(Y=!0,k);case"textInput":return s=a.data,s===k&&Y?null:s;default:return null}}function We(s,a){if(Ke)return s==="compositionend"||!yi&&ie(s,a)?(s=$c(),rs=Ks=fi=null,Ke=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!gn[s.type]:a==="textarea"}function ss(s,a,l,c){ts?ns?ns.push(c):ns=[c]:ts=c,a=Wp(a,"onChange"),0<a.length&&(l=new kl("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var An=null,_i=null;function Xc(s){mA(s,0)}function up(s){var a=ci(s);if(zc(a))return s}function Vw(s,a){if(s==="change")return a}var Lw=!1;if(Yr){var Wy;if(Yr){var Qy="oninput"in document;if(!Qy){var Uw=document.createElement("div");Uw.setAttribute("oninput","return;"),Qy=typeof Uw.oninput=="function"}Wy=Qy}else Wy=!1;Lw=Wy&&(!document.documentMode||9<document.documentMode)}function Bw(){An&&(An.detachEvent("onpropertychange",Fw),_i=An=null)}function Fw(s){if(s.propertyName==="value"&&up(_i)){var a=[];ss(a,_i,s,xr(s)),Qf(Xc,a)}}function RN(s,a,l){s==="focusin"?(Bw(),An=a,_i=l,An.attachEvent("onpropertychange",Fw)):s==="focusout"&&Bw()}function CN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return up(_i)}function PN(s,a){if(s==="click")return up(a)}function xN(s,a){if(s==="input"||s==="change")return up(a)}function ON(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var hr=typeof Object.is=="function"?Object.is:ON;function Jc(s,a){if(hr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!ur.call(a,m)||!hr(s[m],a[m]))return!1}return!0}function zw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function jw(s,a){var l=zw(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zw(l)}}function qw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?qw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Hw(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ho(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=ho(s.document)}return a}function Yy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var DN=Yr&&"documentMode"in document&&11>=document.documentMode,jl=null,Xy=null,Zc=null,Jy=!1;function $w(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jy||jl==null||jl!==ho(c)||(c=jl,"selectionStart"in c&&Yy(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Zc&&Jc(Zc,c)||(Zc=c,c=Wp(Xy,"onSelect"),0<c.length&&(a=new kl("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=jl)))}function To(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var ql={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionrun:To("Transition","TransitionRun"),transitionstart:To("Transition","TransitionStart"),transitioncancel:To("Transition","TransitionCancel"),transitionend:To("Transition","TransitionEnd")},Zy={},Gw={};Yr&&(Gw=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function So(s){if(Zy[s])return Zy[s];if(!ql[s])return s;var a=ql[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Gw)return Zy[s]=a[l];return s}var Kw=So("animationend"),Ww=So("animationiteration"),Qw=So("animationstart"),NN=So("transitionrun"),kN=So("transitionstart"),MN=So("transitioncancel"),Yw=So("transitionend"),Xw=new Map,e_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");e_.push("scrollEnd");function Xr(s,a){Xw.set(s,a),Qr(a,[s])}var Jw=new WeakMap;function Nr(s,a){if(typeof s=="object"&&s!==null){var l=Jw.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Ol(a)},Jw.set(s,a),a)}return{value:s,source:a,stack:Ol(a)}}var kr=[],Hl=0,t_=0;function cp(){for(var s=Hl,a=t_=Hl=0;a<s;){var l=kr[a];kr[a++]=null;var c=kr[a];kr[a++]=null;var m=kr[a];kr[a++]=null;var y=kr[a];if(kr[a++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}y!==0&&Zw(l,m,y)}}function hp(s,a,l,c){kr[Hl++]=s,kr[Hl++]=a,kr[Hl++]=l,kr[Hl++]=c,t_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function n_(s,a,l,c){return hp(s,a,l,c),dp(s)}function $l(s,a){return hp(s,null,null,a),dp(s)}function Zw(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&a!==null&&(m=31-Jt(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[a]:c.push(a),a.lane=l|536870912),y):null}function dp(s){if(50<Sh)throw Sh=0,lv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Gl={};function VN(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(s,a,l,c){return new VN(s,a,l,c)}function r_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function as(s,a){var l=s.alternate;return l===null?(l=dr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function eT(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function fp(s,a,l,c,m,y){var A=0;if(c=s,typeof s=="function")r_(s)&&(A=1);else if(typeof s=="string")A=Uk(s,l,Te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=dr(31,l,a,m),s.elementType=C,s.lanes=y,s;case w:return Ao(l.children,m,y,a);case I:A=8,m|=24;break;case D:return s=dr(12,l,a,m|2),s.elementType=D,s.lanes=y,s;case B:return s=dr(13,l,a,m),s.elementType=B,s.lanes=y,s;case G:return s=dr(19,l,a,m),s.elementType=G,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:case V:A=10;break e;case L:A=9;break e;case q:A=11;break e;case M:A=14;break e;case R:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=dr(A,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function Ao(s,a,l,c){return s=dr(7,s,c,a),s.lanes=l,s}function i_(s,a,l){return s=dr(6,s,null,a),s.lanes=l,s}function s_(s,a,l){return a=dr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Kl=[],Wl=0,pp=null,mp=0,Mr=[],Vr=0,Io=null,os=1,ls="";function Ro(s,a){Kl[Wl++]=mp,Kl[Wl++]=pp,pp=s,mp=a}function tT(s,a,l){Mr[Vr++]=os,Mr[Vr++]=ls,Mr[Vr++]=Io,Io=s;var c=os;s=ls;var m=32-Jt(c)-1;c&=~(1<<m),l+=1;var y=32-Jt(a)+m;if(30<y){var A=m-m%5;y=(c&(1<<A)-1).toString(32),c>>=A,m-=A,os=1<<32-Jt(a)+m|l<<m|c,ls=y+s}else os=1<<y|l<<m|c,ls=s}function a_(s){s.return!==null&&(Ro(s,1),tT(s,1,0))}function o_(s){for(;s===pp;)pp=Kl[--Wl],Kl[Wl]=null,mp=Kl[--Wl],Kl[Wl]=null;for(;s===Io;)Io=Mr[--Vr],Mr[Vr]=null,ls=Mr[--Vr],Mr[Vr]=null,os=Mr[--Vr],Mr[Vr]=null}var $n=null,Vt=null,Ze=!1,Co=null,vi=!1,l_=Error(r(519));function Po(s){var a=Error(r(418,""));throw nh(Nr(a,s)),l_}function nT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[ln]=s,a[Zt]=c,l){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(l=0;l<Ih.length;l++)qe(Ih[l],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),fo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Dl(a);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),po(a,c.value,c.defaultValue,c.children),Dl(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||vA(a.textContent,l)?(c.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),c.onScroll!=null&&qe("scroll",a),c.onScrollEnd!=null&&qe("scrollend",a),c.onClick!=null&&(a.onclick=Qp),a=!0):a=!1,a||Po(s)}function rT(s){for($n=s.return;$n;)switch($n.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:$n=$n.return}}function eh(s){if(s!==$n)return!1;if(!Ze)return rT(s),Ze=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Sv(s.type,s.memoizedProps)),l=!l),l&&Vt&&Po(s),rT(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Vt=Zr(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Vt=null}}else a===27?(a=Vt,ua(s.type)?(s=Cv,Cv=null,Vt=s):Vt=a):Vt=$n?Zr(s.stateNode.nextSibling):null;return!0}function th(){Vt=$n=null,Ze=!1}function iT(){var s=Co;return s!==null&&(er===null?er=s:er.push.apply(er,s),Co=null),s}function nh(s){Co===null?Co=[s]:Co.push(s)}var u_=le(null),xo=null,us=null;function Ws(s,a,l){me(u_,a._currentValue),a._currentValue=l}function cs(s){s._currentValue=u_.current,ye(u_)}function c_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function h_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=m;for(var z=0;z<a.length;z++)if(N.context===a[z]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),c_(y.return,l,s),c||(A=null);break e}y=N.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),c_(A,l,s),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===s){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function rh(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var N=m.type;hr(m.pendingProps.value,A.value)||(s!==null?s.push(N):s=[N])}}else if(m===qt.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Dh):s=[Dh])}m=m.return}s!==null&&h_(a,s,l,c),a.flags|=262144}function gp(s){for(s=s.firstContext;s!==null;){if(!hr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Oo(s){xo=s,us=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function kn(s){return sT(xo,s)}function yp(s,a){return xo===null&&Oo(s),sT(s,a)}function sT(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},us===null){if(s===null)throw Error(r(308));us=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else us=us.next=a;return l}var LN=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},UN=n.unstable_scheduleCallback,BN=n.unstable_NormalPriority,hn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function d_(){return{controller:new LN,data:new Map,refCount:0}}function ih(s){s.refCount--,s.refCount===0&&UN(BN,function(){s.controller.abort()})}var sh=null,f_=0,Ql=0,Yl=null;function FN(s,a){if(sh===null){var l=sh=[];f_=0,Ql=mv(),Yl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return f_++,a.then(aT,aT),a}function aT(){if(--f_===0&&sh!==null){Yl!==null&&(Yl.status="fulfilled");var s=sh;sh=null,Ql=0,Yl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function zN(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var oT=$.S;$.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&FN(s,a),oT!==null&&oT(s,a)};var Do=le(null);function p_(){var s=Do.current;return s!==null?s:_t.pooledCache}function _p(s,a){a===null?me(Do,Do.current):me(Do,a.pool)}function lT(){var s=p_();return s===null?null:{parent:hn._currentValue,pool:s}}var ah=Error(r(460)),uT=Error(r(474)),vp=Error(r(542)),m_={then:function(){}};function cT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ep(){}function hT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Ep,Ep),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,fT(s),s;default:if(typeof a.status=="string")a.then(Ep,Ep);else{if(s=_t,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,fT(s),s}throw oh=a,ah}}var oh=null;function dT(){if(oh===null)throw Error(r(459));var s=oh;return oh=null,s}function fT(s){if(s===ah||s===vp)throw Error(r(483))}var Qs=!1;function g_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function y_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ys(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Xs(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=dp(s),Zw(s,null,l),a}return hp(s,c,a,l),dp(s)}function lh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Vc(s,l)}}function __(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var v_=!1;function uh(){if(v_){var s=Yl;if(s!==null)throw s}}function ch(s,a,l,c){v_=!1;var m=s.updateQueue;Qs=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var z=N,Z=z.next;z.next=null,A===null?y=Z:A.next=Z,A=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==A&&(N===null?ce.firstBaseUpdate=Z:N.next=Z,ce.lastBaseUpdate=z))}if(y!==null){var de=m.baseState;A=0,ce=Z=z=null,N=y;do{var te=N.lane&-536870913,ne=te!==N.lane;if(ne?(Qe&te)===te:(c&te)===te){te!==0&&te===Ql&&(v_=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ne=s,xe=N;te=a;var dt=l;switch(xe.tag){case 1:if(Ne=xe.payload,typeof Ne=="function"){de=Ne.call(dt,de,te);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=xe.payload,te=typeof Ne=="function"?Ne.call(dt,de,te):Ne,te==null)break e;de=g({},de,te);break e;case 2:Qs=!0}}te=N.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(Z=ce=ne,z=de):ce=ce.next=ne,A|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ce===null&&(z=de),m.baseState=z,m.firstBaseUpdate=Z,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),sa|=A,s.lanes=A,s.memoizedState=de}}function pT(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function mT(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)pT(l[s],a)}var Xl=le(null),bp=le(0);function gT(s,a){s=ys,me(bp,s),me(Xl,a),ys=s|a.baseLanes}function E_(){me(bp,ys),me(Xl,Xl.current)}function b_(){ys=bp.current,ye(Xl),ye(bp)}var Js=0,Be=null,ct=null,tn=null,wp=!1,Jl=!1,No=!1,Tp=0,hh=0,Zl=null,jN=0;function Gt(){throw Error(r(321))}function w_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!hr(s[l],a[l]))return!1;return!0}function T_(s,a,l,c,m,y){return Js=y,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=s===null||s.memoizedState===null?ZT:eS,No=!1,y=l(c,m),No=!1,Jl&&(y=_T(a,l,c,m)),yT(s),y}function yT(s){$.H=Pp;var a=ct!==null&&ct.next!==null;if(Js=0,tn=ct=Be=null,wp=!1,hh=0,Zl=null,a)throw Error(r(300));s===null||yn||(s=s.dependencies,s!==null&&gp(s)&&(yn=!0))}function _T(s,a,l,c){Be=s;var m=0;do{if(Jl&&(Zl=null),hh=0,Jl=!1,25<=m)throw Error(r(301));if(m+=1,tn=ct=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=QN,y=a(l,c)}while(Jl);return y}function qN(){var s=$.H,a=s.useState()[0];return a=typeof a.then=="function"?dh(a):a,s=s.useState()[0],(ct!==null?ct.memoizedState:null)!==s&&(Be.flags|=1024),a}function S_(){var s=Tp!==0;return Tp=0,s}function A_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function I_(s){if(wp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}wp=!1}Js=0,tn=ct=Be=null,Jl=!1,hh=Tp=0,Zl=null}function Jn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Be.memoizedState=tn=s:tn=tn.next=s,tn}function nn(){if(ct===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=ct.next;var a=tn===null?Be.memoizedState:tn.next;if(a!==null)tn=a,ct=s;else{if(s===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ct=s,s={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},tn===null?Be.memoizedState=tn=s:tn=tn.next=s}return tn}function R_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dh(s){var a=hh;return hh+=1,Zl===null&&(Zl=[]),s=hT(Zl,s,a),a=Be,(tn===null?a.memoizedState:tn.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?ZT:eS),s}function Sp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return dh(s);if(s.$$typeof===V)return kn(s)}throw Error(r(438,String(s)))}function C_(s){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=R_(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=b;return a.index++,l}function hs(s,a){return typeof a=="function"?a(s):a}function Ap(s){var a=nn();return P_(a,ct,s)}function P_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var N=A=null,z=null,Z=a,ce=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(Qe&de)===de:(Js&de)===de){var te=Z.revertLane;if(te===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===Ql&&(ce=!0);else if((Js&te)===te){Z=Z.next,te===Ql&&(ce=!0);continue}else de={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(N=z=de,A=y):z=z.next=de,Be.lanes|=te,sa|=te;de=Z.action,No&&l(y,de),y=Z.hasEagerState?Z.eagerState:l(y,de)}else te={lane:de,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(N=z=te,A=y):z=z.next=te,Be.lanes|=de,sa|=de;Z=Z.next}while(Z!==null&&Z!==a);if(z===null?A=y:z.next=N,!hr(y,s.memoizedState)&&(yn=!0,ce&&(l=Yl,l!==null)))throw l;s.memoizedState=y,s.baseState=A,s.baseQueue=z,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function x_(s){var a=nn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=s(y,A.action),A=A.next;while(A!==m);hr(y,a.memoizedState)||(yn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function vT(s,a,l){var c=Be,m=nn(),y=Ze;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!hr((ct||m).memoizedState,l);A&&(m.memoizedState=l,yn=!0),m=m.queue;var N=wT.bind(null,c,m,s);if(fh(2048,8,N,[s]),m.getSnapshot!==a||A||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,eu(9,Ip(),bT.bind(null,c,m,l,a),null),_t===null)throw Error(r(349));y||(Js&124)!==0||ET(c,a,l)}return l}function ET(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=R_(),Be.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function bT(s,a,l,c){a.value=l,a.getSnapshot=c,TT(a)&&ST(s)}function wT(s,a,l){return l(function(){TT(a)&&ST(s)})}function TT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!hr(s,l)}catch{return!0}}function ST(s){var a=$l(s,2);a!==null&&yr(a,s,2)}function O_(s){var a=Jn();if(typeof s=="function"){var l=s;if(s=l(),No){Ht(!0);try{l()}finally{Ht(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:s},a}function AT(s,a,l,c){return s.baseState=l,P_(s,ct,typeof c=="function"?c:hs)}function HN(s,a,l,c,m){if(Cp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};$.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,IT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function IT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=$.T,A={};$.T=A;try{var N=l(m,c),z=$.S;z!==null&&z(A,N),RT(s,a,N)}catch(Z){D_(s,a,Z)}finally{$.T=y}}else try{y=l(m,c),RT(s,a,y)}catch(Z){D_(s,a,Z)}}function RT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){CT(s,a,c)},function(c){return D_(s,a,c)}):CT(s,a,l)}function CT(s,a,l){a.status="fulfilled",a.value=l,PT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,IT(s,l)))}function D_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,PT(a),a=a.next;while(a!==c)}s.action=null}function PT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function xT(s,a){return a}function OT(s,a){if(Ze){var l=_t.formState;if(l!==null){e:{var c=Be;if(Ze){if(Vt){t:{for(var m=Vt,y=vi;m.nodeType!==8;){if(!y){m=null;break t}if(m=Zr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Vt=Zr(m.nextSibling),c=m.data==="F!";break e}}Po(c)}c=!1}c&&(a=l[0])}}return l=Jn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xT,lastRenderedState:a},l.queue=c,l=YT.bind(null,Be,c),c.dispatch=l,c=O_(!1),y=L_.bind(null,Be,!1,c.queue),c=Jn(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=HN.bind(null,Be,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function DT(s){var a=nn();return NT(a,ct,s)}function NT(s,a,l){if(a=P_(s,a,xT)[0],s=Ap(hs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=dh(a)}catch(A){throw A===ah?vp:A}else c=a;a=nn();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,eu(9,Ip(),$N.bind(null,m,l),null)),[c,y,s]}function $N(s,a){s.action=a}function kT(s){var a=nn(),l=ct;if(l!==null)return NT(a,l,s);nn(),a=a.memoizedState,l=nn();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function eu(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=R_(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function Ip(){return{destroy:void 0,resource:void 0}}function MT(){return nn().memoizedState}function Rp(s,a,l,c){var m=Jn();c=c===void 0?null:c,Be.flags|=s,m.memoizedState=eu(1|a,Ip(),l,c)}function fh(s,a,l,c){var m=nn();c=c===void 0?null:c;var y=m.memoizedState.inst;ct!==null&&c!==null&&w_(c,ct.memoizedState.deps)?m.memoizedState=eu(a,y,l,c):(Be.flags|=s,m.memoizedState=eu(1|a,y,l,c))}function VT(s,a){Rp(8390656,8,s,a)}function LT(s,a){fh(2048,8,s,a)}function UT(s,a){return fh(4,2,s,a)}function BT(s,a){return fh(4,4,s,a)}function FT(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function zT(s,a,l){l=l!=null?l.concat([s]):null,fh(4,4,FT.bind(null,a,s),l)}function N_(){}function jT(s,a){var l=nn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&w_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function qT(s,a){var l=nn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&w_(a,c[1]))return c[0];if(c=s(),No){Ht(!0);try{s()}finally{Ht(!1)}}return l.memoizedState=[c,a],c}function k_(s,a,l){return l===void 0||(Js&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=GS(),Be.lanes|=s,sa|=s,l)}function HT(s,a,l,c){return hr(l,a)?l:Xl.current!==null?(s=k_(s,l,c),hr(s,a)||(yn=!0),s):(Js&42)===0?(yn=!0,s.memoizedState=l):(s=GS(),Be.lanes|=s,sa|=s,a)}function $T(s,a,l,c,m){var y=ee.p;ee.p=y!==0&&8>y?y:8;var A=$.T,N={};$.T=N,L_(s,!1,a,l);try{var z=m(),Z=$.S;if(Z!==null&&Z(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=zN(z,c);ph(s,a,ce,gr(s))}else ph(s,a,c,gr(s))}catch(de){ph(s,a,{then:function(){},status:"rejected",reason:de},gr())}finally{ee.p=y,$.T=A}}function GN(){}function M_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=GT(s).queue;$T(s,m,a,oe,l===null?GN:function(){return KT(s),l(c)})}function GT(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:oe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function KT(s){var a=GT(s).next.queue;ph(s,a,{},gr())}function V_(){return kn(Dh)}function WT(){return nn().memoizedState}function QT(){return nn().memoizedState}function KN(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=gr();s=Ys(l);var c=Xs(a,s,l);c!==null&&(yr(c,a,l),lh(c,a,l)),a={cache:d_()},s.payload=a;return}a=a.return}}function WN(s,a,l){var c=gr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Cp(s)?XT(a,l):(l=n_(s,a,l,c),l!==null&&(yr(l,s,c),JT(l,a,c)))}function YT(s,a,l){var c=gr();ph(s,a,l,c)}function ph(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cp(s))XT(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,N=y(A,l);if(m.hasEagerState=!0,m.eagerState=N,hr(N,A))return hp(s,a,m,0),_t===null&&cp(),!1}catch{}finally{}if(l=n_(s,a,m,c),l!==null)return yr(l,s,c),JT(l,a,c),!0}return!1}function L_(s,a,l,c){if(c={lane:2,revertLane:mv(),action:c,hasEagerState:!1,eagerState:null,next:null},Cp(s)){if(a)throw Error(r(479))}else a=n_(s,l,c,2),a!==null&&yr(a,s,2)}function Cp(s){var a=s.alternate;return s===Be||a!==null&&a===Be}function XT(s,a){Jl=wp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function JT(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Vc(s,l)}}var Pp={readContext:kn,use:Sp,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},ZT={readContext:kn,use:Sp,useCallback:function(s,a){return Jn().memoizedState=[s,a===void 0?null:a],s},useContext:kn,useEffect:VT,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Rp(4194308,4,FT.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Rp(4194308,4,s,a)},useInsertionEffect:function(s,a){Rp(4,2,s,a)},useMemo:function(s,a){var l=Jn();a=a===void 0?null:a;var c=s();if(No){Ht(!0);try{s()}finally{Ht(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=Jn();if(l!==void 0){var m=l(a);if(No){Ht(!0);try{l(a)}finally{Ht(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=WN.bind(null,Be,s),[c.memoizedState,s]},useRef:function(s){var a=Jn();return s={current:s},a.memoizedState=s},useState:function(s){s=O_(s);var a=s.queue,l=YT.bind(null,Be,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:N_,useDeferredValue:function(s,a){var l=Jn();return k_(l,s,a)},useTransition:function(){var s=O_(!1);return s=$T.bind(null,Be,s.queue,!0,!1),Jn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Be,m=Jn();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),_t===null)throw Error(r(349));(Qe&124)!==0||ET(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,VT(wT.bind(null,c,y,s),[s]),c.flags|=2048,eu(9,Ip(),bT.bind(null,c,y,l,a),null),l},useId:function(){var s=Jn(),a=_t.identifierPrefix;if(Ze){var l=ls,c=os;l=(c&~(1<<32-Jt(c)-1)).toString(32)+l,a=""+a+"R"+l,l=Tp++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=jN++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:V_,useFormState:OT,useActionState:OT,useOptimistic:function(s){var a=Jn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=L_.bind(null,Be,!0,l),l.dispatch=a,[s,a]},useMemoCache:C_,useCacheRefresh:function(){return Jn().memoizedState=KN.bind(null,Be)}},eS={readContext:kn,use:Sp,useCallback:jT,useContext:kn,useEffect:LT,useImperativeHandle:zT,useInsertionEffect:UT,useLayoutEffect:BT,useMemo:qT,useReducer:Ap,useRef:MT,useState:function(){return Ap(hs)},useDebugValue:N_,useDeferredValue:function(s,a){var l=nn();return HT(l,ct.memoizedState,s,a)},useTransition:function(){var s=Ap(hs)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:dh(s),a]},useSyncExternalStore:vT,useId:WT,useHostTransitionStatus:V_,useFormState:DT,useActionState:DT,useOptimistic:function(s,a){var l=nn();return AT(l,ct,s,a)},useMemoCache:C_,useCacheRefresh:QT},QN={readContext:kn,use:Sp,useCallback:jT,useContext:kn,useEffect:LT,useImperativeHandle:zT,useInsertionEffect:UT,useLayoutEffect:BT,useMemo:qT,useReducer:x_,useRef:MT,useState:function(){return x_(hs)},useDebugValue:N_,useDeferredValue:function(s,a){var l=nn();return ct===null?k_(l,s,a):HT(l,ct.memoizedState,s,a)},useTransition:function(){var s=x_(hs)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:dh(s),a]},useSyncExternalStore:vT,useId:WT,useHostTransitionStatus:V_,useFormState:kT,useActionState:kT,useOptimistic:function(s,a){var l=nn();return ct!==null?AT(l,ct,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:C_,useCacheRefresh:QT},tu=null,mh=0;function xp(s){var a=mh;return mh+=1,tu===null&&(tu=[]),hT(tu,s,a)}function gh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Op(s,a){throw a.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function tS(s){var a=s._init;return a(s._payload)}function nS(s){function a(W,H){if(s){var J=W.deletions;J===null?(W.deletions=[H],W.flags|=16):J.push(H)}}function l(W,H){if(!s)return null;for(;H!==null;)a(W,H),H=H.sibling;return null}function c(W){for(var H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function m(W,H){return W=as(W,H),W.index=0,W.sibling=null,W}function y(W,H,J){return W.index=J,s?(J=W.alternate,J!==null?(J=J.index,J<H?(W.flags|=67108866,H):J):(W.flags|=67108866,H)):(W.flags|=1048576,H)}function A(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function N(W,H,J,he){return H===null||H.tag!==6?(H=i_(J,W.mode,he),H.return=W,H):(H=m(H,J),H.return=W,H)}function z(W,H,J,he){var Se=J.type;return Se===w?ce(W,H,J.props.children,he,J.key):H!==null&&(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&tS(Se)===H.type)?(H=m(H,J.props),gh(H,J),H.return=W,H):(H=fp(J.type,J.key,J.props,null,W.mode,he),gh(H,J),H.return=W,H)}function Z(W,H,J,he){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=s_(J,W.mode,he),H.return=W,H):(H=m(H,J.children||[]),H.return=W,H)}function ce(W,H,J,he,Se){return H===null||H.tag!==7?(H=Ao(J,W.mode,he,Se),H.return=W,H):(H=m(H,J),H.return=W,H)}function de(W,H,J){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=i_(""+H,W.mode,J),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return J=fp(H.type,H.key,H.props,null,W.mode,J),gh(J,H),J.return=W,J;case T:return H=s_(H,W.mode,J),H.return=W,H;case R:var he=H._init;return H=he(H._payload),de(W,H,J)}if(F(H)||P(H))return H=Ao(H,W.mode,J,null),H.return=W,H;if(typeof H.then=="function")return de(W,xp(H),J);if(H.$$typeof===V)return de(W,yp(W,H),J);Op(W,H)}return null}function te(W,H,J,he){var Se=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Se!==null?null:N(W,H,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return J.key===Se?z(W,H,J,he):null;case T:return J.key===Se?Z(W,H,J,he):null;case R:return Se=J._init,J=Se(J._payload),te(W,H,J,he)}if(F(J)||P(J))return Se!==null?null:ce(W,H,J,he,null);if(typeof J.then=="function")return te(W,H,xp(J),he);if(J.$$typeof===V)return te(W,H,yp(W,J),he);Op(W,J)}return null}function ne(W,H,J,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return W=W.get(J)||null,N(H,W,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return W=W.get(he.key===null?J:he.key)||null,z(H,W,he,Se);case T:return W=W.get(he.key===null?J:he.key)||null,Z(H,W,he,Se);case R:var ze=he._init;return he=ze(he._payload),ne(W,H,J,he,Se)}if(F(he)||P(he))return W=W.get(J)||null,ce(H,W,he,Se,null);if(typeof he.then=="function")return ne(W,H,J,xp(he),Se);if(he.$$typeof===V)return ne(W,H,J,yp(H,he),Se);Op(H,he)}return null}function Ne(W,H,J,he){for(var Se=null,ze=null,Re=H,Oe=H=0,vn=null;Re!==null&&Oe<J.length;Oe++){Re.index>Oe?(vn=Re,Re=null):vn=Re.sibling;var Xe=te(W,Re,J[Oe],he);if(Xe===null){Re===null&&(Re=vn);break}s&&Re&&Xe.alternate===null&&a(W,Re),H=y(Xe,H,Oe),ze===null?Se=Xe:ze.sibling=Xe,ze=Xe,Re=vn}if(Oe===J.length)return l(W,Re),Ze&&Ro(W,Oe),Se;if(Re===null){for(;Oe<J.length;Oe++)Re=de(W,J[Oe],he),Re!==null&&(H=y(Re,H,Oe),ze===null?Se=Re:ze.sibling=Re,ze=Re);return Ze&&Ro(W,Oe),Se}for(Re=c(Re);Oe<J.length;Oe++)vn=ne(Re,W,Oe,J[Oe],he),vn!==null&&(s&&vn.alternate!==null&&Re.delete(vn.key===null?Oe:vn.key),H=y(vn,H,Oe),ze===null?Se=vn:ze.sibling=vn,ze=vn);return s&&Re.forEach(function(pa){return a(W,pa)}),Ze&&Ro(W,Oe),Se}function xe(W,H,J,he){if(J==null)throw Error(r(151));for(var Se=null,ze=null,Re=H,Oe=H=0,vn=null,Xe=J.next();Re!==null&&!Xe.done;Oe++,Xe=J.next()){Re.index>Oe?(vn=Re,Re=null):vn=Re.sibling;var pa=te(W,Re,Xe.value,he);if(pa===null){Re===null&&(Re=vn);break}s&&Re&&pa.alternate===null&&a(W,Re),H=y(pa,H,Oe),ze===null?Se=pa:ze.sibling=pa,ze=pa,Re=vn}if(Xe.done)return l(W,Re),Ze&&Ro(W,Oe),Se;if(Re===null){for(;!Xe.done;Oe++,Xe=J.next())Xe=de(W,Xe.value,he),Xe!==null&&(H=y(Xe,H,Oe),ze===null?Se=Xe:ze.sibling=Xe,ze=Xe);return Ze&&Ro(W,Oe),Se}for(Re=c(Re);!Xe.done;Oe++,Xe=J.next())Xe=ne(Re,W,Oe,Xe.value,he),Xe!==null&&(s&&Xe.alternate!==null&&Re.delete(Xe.key===null?Oe:Xe.key),H=y(Xe,H,Oe),ze===null?Se=Xe:ze.sibling=Xe,ze=Xe);return s&&Re.forEach(function(Yk){return a(W,Yk)}),Ze&&Ro(W,Oe),Se}function dt(W,H,J,he){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case v:e:{for(var Se=J.key;H!==null;){if(H.key===Se){if(Se=J.type,Se===w){if(H.tag===7){l(W,H.sibling),he=m(H,J.props.children),he.return=W,W=he;break e}}else if(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&tS(Se)===H.type){l(W,H.sibling),he=m(H,J.props),gh(he,J),he.return=W,W=he;break e}l(W,H);break}else a(W,H);H=H.sibling}J.type===w?(he=Ao(J.props.children,W.mode,he,J.key),he.return=W,W=he):(he=fp(J.type,J.key,J.props,null,W.mode,he),gh(he,J),he.return=W,W=he)}return A(W);case T:e:{for(Se=J.key;H!==null;){if(H.key===Se)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){l(W,H.sibling),he=m(H,J.children||[]),he.return=W,W=he;break e}else{l(W,H);break}else a(W,H);H=H.sibling}he=s_(J,W.mode,he),he.return=W,W=he}return A(W);case R:return Se=J._init,J=Se(J._payload),dt(W,H,J,he)}if(F(J))return Ne(W,H,J,he);if(P(J)){if(Se=P(J),typeof Se!="function")throw Error(r(150));return J=Se.call(J),xe(W,H,J,he)}if(typeof J.then=="function")return dt(W,H,xp(J),he);if(J.$$typeof===V)return dt(W,H,yp(W,J),he);Op(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,H!==null&&H.tag===6?(l(W,H.sibling),he=m(H,J),he.return=W,W=he):(l(W,H),he=i_(J,W.mode,he),he.return=W,W=he),A(W)):l(W,H)}return function(W,H,J,he){try{mh=0;var Se=dt(W,H,J,he);return tu=null,Se}catch(Re){if(Re===ah||Re===vp)throw Re;var ze=dr(29,Re,null,W.mode);return ze.lanes=he,ze.return=W,ze}finally{}}}var nu=nS(!0),rS=nS(!1),Lr=le(null),Ei=null;function Zs(s){var a=s.alternate;me(dn,dn.current&1),me(Lr,s),Ei===null&&(a===null||Xl.current!==null||a.memoizedState!==null)&&(Ei=s)}function iS(s){if(s.tag===22){if(me(dn,dn.current),me(Lr,s),Ei===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ei=s)}}else ea()}function ea(){me(dn,dn.current),me(Lr,Lr.current)}function ds(s){ye(Lr),Ei===s&&(Ei=null),ye(dn)}var dn=le(0);function Dp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Rv(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function U_(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var B_={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=gr(),m=Ys(c);m.payload=a,l!=null&&(m.callback=l),a=Xs(s,m,c),a!==null&&(yr(a,s,c),lh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=gr(),m=Ys(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Xs(s,m,c),a!==null&&(yr(a,s,c),lh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=gr(),c=Ys(l);c.tag=2,a!=null&&(c.callback=a),a=Xs(s,c,l),a!==null&&(yr(a,s,l),lh(a,s,l))}};function sS(s,a,l,c,m,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,A):a.prototype&&a.prototype.isPureReactComponent?!Jc(l,c)||!Jc(m,y):!0}function aS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&B_.enqueueReplaceState(a,a.state,null)}function ko(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=g({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Np=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function oS(s){Np(s)}function lS(s){console.error(s)}function uS(s){Np(s)}function kp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function cS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function F_(s,a,l){return l=Ys(l),l.tag=3,l.payload={element:null},l.callback=function(){kp(s,a)},l}function hS(s){return s=Ys(s),s.tag=3,s}function dS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){cS(a,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){cS(a,l,c),typeof m!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function YN(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&rh(a,l,m,!0),l=Lr.current,l!==null){switch(l.tag){case 13:return Ei===null?cv():l.alternate===null&&Lt===0&&(Lt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===m_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),dv(s,c,m)),!1;case 22:return l.flags|=65536,c===m_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),dv(s,c,m)),!1}throw Error(r(435,l.tag))}return dv(s,c,m),cv(),!1}if(Ze)return a=Lr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==l_&&(s=Error(r(422),{cause:c}),nh(Nr(s,l)))):(c!==l_&&(a=Error(r(423),{cause:c}),nh(Nr(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Nr(c,l),m=F_(s.stateNode,c,m),__(s,m),Lt!==4&&(Lt=2)),!1;var y=Error(r(520),{cause:c});if(y=Nr(y,l),Th===null?Th=[y]:Th.push(y),Lt!==4&&(Lt=2),a===null)return!0;c=Nr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=F_(l.stateNode,c,s),__(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(aa===null||!aa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=hS(m),dS(m,s,l,c),__(l,m),!1}l=l.return}while(l!==null);return!1}var fS=Error(r(461)),yn=!1;function In(s,a,l,c){a.child=s===null?rS(a,null,l,c):nu(a,s.child,l,c)}function pS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var A={};for(var N in c)N!=="ref"&&(A[N]=c[N])}else A=c;return Oo(a),c=T_(s,a,l,A,y,m),N=S_(),s!==null&&!yn?(A_(s,a,m),fs(s,a,m)):(Ze&&N&&a_(a),a.flags|=1,In(s,a,c,m),a.child)}function mS(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!r_(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,gS(s,a,y,c,m)):(s=fp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!W_(s,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:Jc,l(A,c)&&s.ref===a.ref)return fs(s,a,m)}return a.flags|=1,s=as(y,c),s.ref=a.ref,s.return=a,a.child=s}function gS(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(Jc(y,c)&&s.ref===a.ref)if(yn=!1,a.pendingProps=c=y,W_(s,m))(s.flags&131072)!==0&&(yn=!0);else return a.lanes=s.lanes,fs(s,a,m)}return z_(s,a,l,c,m)}function yS(s,a,l){var c=a.pendingProps,m=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return _S(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&_p(a,y!==null?y.cachePool:null),y!==null?gT(a,y):E_(),iS(a);else return a.lanes=a.childLanes=536870912,_S(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(_p(a,y.cachePool),gT(a,y),ea(),a.memoizedState=null):(s!==null&&_p(a,null),E_(),ea());return In(s,a,m,l),a.child}function _S(s,a,l,c){var m=p_();return m=m===null?null:{parent:hn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&_p(a,null),E_(),iS(a),s!==null&&rh(s,a,c,!0),null}function Mp(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function z_(s,a,l,c,m){return Oo(a),l=T_(s,a,l,c,void 0,m),c=S_(),s!==null&&!yn?(A_(s,a,m),fs(s,a,m)):(Ze&&c&&a_(a),a.flags|=1,In(s,a,l,m),a.child)}function vS(s,a,l,c,m,y){return Oo(a),a.updateQueue=null,l=_T(a,c,l,m),yT(s),c=S_(),s!==null&&!yn?(A_(s,a,y),fs(s,a,y)):(Ze&&c&&a_(a),a.flags|=1,In(s,a,l,y),a.child)}function ES(s,a,l,c,m){if(Oo(a),a.stateNode===null){var y=Gl,A=l.contextType;typeof A=="object"&&A!==null&&(y=kn(A)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=B_,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},g_(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?kn(A):Gl,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(U_(a,l,A,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&B_.enqueueReplaceState(y,y.state,null),ch(a,c,y,m),uh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var N=a.memoizedProps,z=ko(l,N);y.props=z;var Z=y.context,ce=l.contextType;A=Gl,typeof ce=="object"&&ce!==null&&(A=kn(ce));var de=l.getDerivedStateFromProps;ce=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||Z!==A)&&aS(a,y,c,A),Qs=!1;var te=a.memoizedState;y.state=te,ch(a,c,y,m),uh(),Z=a.memoizedState,N||te!==Z||Qs?(typeof de=="function"&&(U_(a,l,de,c),Z=a.memoizedState),(z=Qs||sS(a,l,z,c,te,Z,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Z),y.props=c,y.state=Z,y.context=A,c=z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,y_(s,a),A=a.memoizedProps,ce=ko(l,A),y.props=ce,de=a.pendingProps,te=y.context,Z=l.contextType,z=Gl,typeof Z=="object"&&Z!==null&&(z=kn(Z)),N=l.getDerivedStateFromProps,(Z=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==de||te!==z)&&aS(a,y,c,z),Qs=!1,te=a.memoizedState,y.state=te,ch(a,c,y,m),uh();var ne=a.memoizedState;A!==de||te!==ne||Qs||s!==null&&s.dependencies!==null&&gp(s.dependencies)?(typeof N=="function"&&(U_(a,l,N,c),ne=a.memoizedState),(ce=Qs||sS(a,l,ce,c,te,ne,z)||s!==null&&s.dependencies!==null&&gp(s.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ne,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ne,z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),y.props=c,y.state=ne,y.context=z,c=ce):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,Mp(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=nu(a,s.child,null,m),a.child=nu(a,null,l,m)):In(s,a,l,m),a.memoizedState=y.state,s=a.child):s=fs(s,a,m),s}function bS(s,a,l,c){return th(),a.flags|=256,In(s,a,l,c),a.child}var j_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function q_(s){return{baseLanes:s,cachePool:lT()}}function H_(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Ur),s}function wS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(dn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ze){if(m?Zs(a):ea(),Ze){var N=Vt,z;if(z=N){e:{for(z=N,N=vi;z.nodeType!==8;){if(!N){N=null;break e}if(z=Zr(z.nextSibling),z===null){N=null;break e}}N=z}N!==null?(a.memoizedState={dehydrated:N,treeContext:Io!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},z=dr(18,null,null,0),z.stateNode=N,z.return=a,a.child=z,$n=a,Vt=null,z=!0):z=!1}z||Po(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Rv(N)?a.lanes=32:a.lanes=536870912,null;ds(a)}return N=c.children,c=c.fallback,m?(ea(),m=a.mode,N=Vp({mode:"hidden",children:N},m),c=Ao(c,m,l,null),N.return=a,c.return=a,N.sibling=c,a.child=N,m=a.child,m.memoizedState=q_(l),m.childLanes=H_(s,A,l),a.memoizedState=j_,c):(Zs(a),$_(a,N))}if(z=s.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(y)a.flags&256?(Zs(a),a.flags&=-257,a=G_(s,a,l)):a.memoizedState!==null?(ea(),a.child=s.child,a.flags|=128,a=null):(ea(),m=c.fallback,N=a.mode,c=Vp({mode:"visible",children:c.children},N),m=Ao(m,N,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,nu(a,s.child,null,l),c=a.child,c.memoizedState=q_(l),c.childLanes=H_(s,A,l),a.memoizedState=j_,a=m);else if(Zs(a),Rv(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var Z=A.dgst;A=Z,c=Error(r(419)),c.stack="",c.digest=A,nh({value:c,source:null,stack:null}),a=G_(s,a,l)}else if(yn||rh(s,a,l,!1),A=(l&s.childLanes)!==0,yn||A){if(A=_t,A!==null&&(c=l&-l,c=(c&42)!==0?1:zs(c),c=(c&(A.suspendedLanes|l))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,$l(s,c),yr(A,s,c),fS;N.data==="$?"||cv(),a=G_(s,a,l)}else N.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=z.treeContext,Vt=Zr(N.nextSibling),$n=a,Ze=!0,Co=null,vi=!1,s!==null&&(Mr[Vr++]=os,Mr[Vr++]=ls,Mr[Vr++]=Io,os=s.id,ls=s.overflow,Io=a),a=$_(a,c.children),a.flags|=4096);return a}return m?(ea(),m=c.fallback,N=a.mode,z=s.child,Z=z.sibling,c=as(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,Z!==null?m=as(Z,m):(m=Ao(m,N,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,N=s.child.memoizedState,N===null?N=q_(l):(z=N.cachePool,z!==null?(Z=hn._currentValue,z=z.parent!==Z?{parent:Z,pool:Z}:z):z=lT(),N={baseLanes:N.baseLanes|l,cachePool:z}),m.memoizedState=N,m.childLanes=H_(s,A,l),a.memoizedState=j_,c):(Zs(a),l=s.child,s=l.sibling,l=as(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=l,a.memoizedState=null,l)}function $_(s,a){return a=Vp({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Vp(s,a){return s=dr(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function G_(s,a,l){return nu(a,s.child,null,l),s=$_(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function TS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),c_(s.return,a,l)}function K_(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function SS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(In(s,a,c.children,l),c=dn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&TS(s,l,a);else if(s.tag===19)TS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(me(dn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Dp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),K_(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Dp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}K_(a,!0,l,null,y);break;case"together":K_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),sa|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(rh(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=as(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=as(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function W_(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&gp(s)))}function XN(s,a,l){switch(a.tag){case 3:nt(a,a.stateNode.containerInfo),Ws(a,hn,s.memoizedState.cache),th();break;case 27:case 5:ai(a);break;case 4:nt(a,a.stateNode.containerInfo);break;case 10:Ws(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Zs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?wS(s,a,l):(Zs(a),s=fs(s,a,l),s!==null?s.sibling:null);Zs(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(rh(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return SS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(dn,dn.current),c)break;return null;case 22:case 23:return a.lanes=0,yS(s,a,l);case 24:Ws(a,hn,s.memoizedState.cache)}return fs(s,a,l)}function AS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)yn=!0;else{if(!W_(s,l)&&(a.flags&128)===0)return yn=!1,XN(s,a,l);yn=(s.flags&131072)!==0}else yn=!1,Ze&&(a.flags&1048576)!==0&&tT(a,mp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")r_(c)?(s=ko(c,s),a.tag=1,a=ES(null,a,c,s,l)):(a.tag=0,a=z_(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===q){a.tag=11,a=pS(null,a,c,s,l);break e}else if(m===M){a.tag=14,a=mS(null,a,c,s,l);break e}}throw a=se(c)||c,Error(r(306,a,""))}}return a;case 0:return z_(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=ko(c,a.pendingProps),ES(s,a,c,m,l);case 3:e:{if(nt(a,a.stateNode.containerInfo),s===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;m=y.element,y_(s,a),ch(a,c,null,l);var A=a.memoizedState;if(c=A.cache,Ws(a,hn,c),c!==y.cache&&h_(a,[hn],l,!0),uh(),c=A.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=bS(s,a,c,l);break e}else if(c!==m){m=Nr(Error(r(424)),a),nh(m),a=bS(s,a,c,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Vt=Zr(s.firstChild),$n=a,Ze=!0,Co=null,vi=!0,l=rS(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(th(),c===m){a=fs(s,a,l);break e}In(s,a,c,l)}a=a.child}return a;case 26:return Mp(s,a),s===null?(l=PA(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ze||(l=a.type,s=a.pendingProps,c=Yp(Pe.current).createElement(l),c[ln]=a,c[Zt]=s,Cn(c,l,s),$t(c),a.stateNode=c):a.memoizedState=PA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ai(a),s===null&&Ze&&(c=a.stateNode=IA(a.type,a.pendingProps,Pe.current),$n=a,vi=!0,m=Vt,ua(a.type)?(Cv=m,Vt=Zr(c.firstChild)):Vt=m),In(s,a,a.pendingProps.children,l),Mp(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ze&&((m=c=Vt)&&(c=Ak(c,a.type,a.pendingProps,vi),c!==null?(a.stateNode=c,$n=a,Vt=Zr(c.firstChild),vi=!1,m=!0):m=!1),m||Po(a)),ai(a),m=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,c=y.children,Sv(m,y)?c=null:A!==null&&Sv(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=T_(s,a,qN,null,null,l),Dh._currentValue=m),Mp(s,a),In(s,a,c,l),a.child;case 6:return s===null&&Ze&&((s=l=Vt)&&(l=Ik(l,a.pendingProps,vi),l!==null?(a.stateNode=l,$n=a,Vt=null,s=!0):s=!1),s||Po(a)),null;case 13:return wS(s,a,l);case 4:return nt(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=nu(a,null,c,l):In(s,a,c,l),a.child;case 11:return pS(s,a,a.type,a.pendingProps,l);case 7:return In(s,a,a.pendingProps,l),a.child;case 8:return In(s,a,a.pendingProps.children,l),a.child;case 12:return In(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ws(a,a.type,c.value),In(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Oo(a),m=kn(m),c=c(m),a.flags|=1,In(s,a,c,l),a.child;case 14:return mS(s,a,a.type,a.pendingProps,l);case 15:return gS(s,a,a.type,a.pendingProps,l);case 19:return SS(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=Vp(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=as(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return yS(s,a,l);case 24:return Oo(a),c=kn(hn),s===null?(m=p_(),m===null&&(m=_t,y=d_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},g_(a),Ws(a,hn,m)):((s.lanes&l)!==0&&(y_(s,a),ch(a,null,null,l),uh()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ws(a,hn,c)):(c=y.cache,Ws(a,hn,c),c!==m.cache&&h_(a,[hn],l,!0))),In(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ps(s){s.flags|=4}function IS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!kA(a)){if(a=Lr.current,a!==null&&((Qe&4194048)===Qe?Ei!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||a!==Ei))throw oh=m_,uT;s.flags|=8192}}function Lp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?kc():536870912,s.lanes|=a,au|=a)}function yh(s,a){if(!Ze)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function xt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function JN(s,a,l){var c=a.pendingProps;switch(o_(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(a),null;case 1:return xt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),cs(hn),Ir(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(eh(a)?ps(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,iT())),xt(a),null;case 26:return l=a.memoizedState,s===null?(ps(a),l!==null?(xt(a),IS(a,l)):(xt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ps(a),xt(a),IS(a,l)):(xt(a),a.flags&=-16777217):(s.memoizedProps!==c&&ps(a),xt(a),a.flags&=-16777217),null;case 27:Rr(a),l=Pe.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ps(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return xt(a),null}s=Te.current,eh(a)?nT(a):(s=IA(m,c,l),a.stateNode=s,ps(a))}return xt(a),null;case 5:if(Rr(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ps(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return xt(a),null}if(s=Te.current,eh(a))nT(a);else{switch(m=Yp(Pe.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[ln]=a,s[Zt]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(Cn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ps(a)}}return xt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&ps(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=Pe.current,eh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=$n,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[ln]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||vA(s.nodeValue,l)),s||Po(a)}else s=Yp(s).createTextNode(c),s[ln]=a,a.stateNode=s}return xt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=eh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[ln]=a}else th(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;xt(a),m=!1}else m=iT(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(ds(a),a):(ds(a),null)}if(ds(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Lp(a,a.updateQueue),xt(a),null;case 4:return Ir(),s===null&&vv(a.stateNode.containerInfo),xt(a),null;case 10:return cs(a.type),xt(a),null;case 19:if(ye(dn),m=a.memoizedState,m===null)return xt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)yh(m,!1);else{if(Lt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Dp(s),y!==null){for(a.flags|=128,yh(m,!1),s=y.updateQueue,a.updateQueue=s,Lp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)eT(l,s),l=l.sibling;return me(dn,dn.current&1|2),a.child}s=s.sibling}m.tail!==null&&Xn()>Fp&&(a.flags|=128,c=!0,yh(m,!1),a.lanes=4194304)}else{if(!c)if(s=Dp(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Lp(a,s),yh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ze)return xt(a),null}else 2*Xn()-m.renderingStartTime>Fp&&l!==536870912&&(a.flags|=128,c=!0,yh(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Xn(),a.sibling=null,s=dn.current,me(dn,c?s&1|2:s&1),a):(xt(a),null);case 22:case 23:return ds(a),b_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(xt(a),a.subtreeFlags&6&&(a.flags|=8192)):xt(a),l=a.updateQueue,l!==null&&Lp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ye(Do),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),cs(hn),xt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function ZN(s,a){switch(o_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return cs(hn),Ir(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Rr(a),null;case 13:if(ds(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));th()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ye(dn),null;case 4:return Ir(),null;case 10:return cs(a.type),null;case 22:case 23:return ds(a),b_(),s!==null&&ye(Do),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return cs(hn),null;case 25:return null;default:return null}}function RS(s,a){switch(o_(a),a.tag){case 3:cs(hn),Ir();break;case 26:case 27:case 5:Rr(a);break;case 4:Ir();break;case 13:ds(a);break;case 19:ye(dn);break;case 10:cs(a.type);break;case 22:case 23:ds(a),b_(),s!==null&&ye(Do);break;case 24:cs(hn)}}function _h(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,A=l.inst;c=y(),A.destroy=c}l=l.next}while(l!==m)}}catch(N){pt(a,a.return,N)}}function ta(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var A=c.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,m=a;var z=l,Z=N;try{Z()}catch(ce){pt(m,z,ce)}}}c=c.next}while(c!==y)}}catch(ce){pt(a,a.return,ce)}}function CS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{mT(a,l)}catch(c){pt(s,s.return,c)}}}function PS(s,a,l){l.props=ko(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){pt(s,a,c)}}function vh(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){pt(s,a,m)}}function bi(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){pt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){pt(s,a,m)}else l.current=null}function xS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){pt(s,s.return,m)}}function Q_(s,a,l){try{var c=s.stateNode;Ek(c,s.type,l,a),c[Zt]=a}catch(m){pt(s,s.return,m)}}function OS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ua(s.type)||s.tag===4}function Y_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||OS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ua(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function X_(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Qp));else if(c!==4&&(c===27&&ua(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(X_(s,a,l),s=s.sibling;s!==null;)X_(s,a,l),s=s.sibling}function Up(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&ua(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Up(s,a,l),s=s.sibling;s!==null;)Up(s,a,l),s=s.sibling}function DS(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Cn(a,c,l),a[ln]=s,a[Zt]=l}catch(y){pt(s,s.return,y)}}var ms=!1,Kt=!1,J_=!1,NS=typeof WeakSet=="function"?WeakSet:Set,_n=null;function ek(s,a){if(s=s.containerInfo,wv=nm,s=Hw(s),Yy(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,N=-1,z=-1,Z=0,ce=0,de=s,te=null;t:for(;;){for(var ne;de!==l||m!==0&&de.nodeType!==3||(N=A+m),de!==y||c!==0&&de.nodeType!==3||(z=A+c),de.nodeType===3&&(A+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===s)break t;if(te===l&&++Z===m&&(N=A),te===y&&++ce===c&&(z=A),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}l=N===-1||z===-1?null:{start:N,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Tv={focusedElem:s,selectionRange:l},nm=!1,_n=a;_n!==null;)if(a=_n,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,_n=s;else for(;_n!==null;){switch(a=_n,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ne=ko(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ne,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(xe){pt(l,l.return,xe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Iv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Iv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,_n=s;break}_n=a.return}}function kS(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:na(s,l),c&4&&_h(5,l);break;case 1:if(na(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(A){pt(l,l.return,A)}else{var m=ko(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(A){pt(l,l.return,A)}}c&64&&CS(l),c&512&&vh(l,l.return);break;case 3:if(na(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{mT(s,a)}catch(A){pt(l,l.return,A)}}break;case 27:a===null&&c&4&&DS(l);case 26:case 5:na(s,l),a===null&&c&4&&xS(l),c&512&&vh(l,l.return);break;case 12:na(s,l);break;case 13:na(s,l),c&4&&LS(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=uk.bind(null,l),Rk(s,l))));break;case 22:if(c=l.memoizedState!==null||ms,!c){a=a!==null&&a.memoizedState!==null||Kt,m=ms;var y=Kt;ms=c,(Kt=a)&&!y?ra(s,l,(l.subtreeFlags&8772)!==0):na(s,l),ms=m,Kt=y}break;case 30:break;default:na(s,l)}}function MS(s){var a=s.alternate;a!==null&&(s.alternate=null,MS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Hs(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Tt=null,Zn=!1;function gs(s,a,l){for(l=l.child;l!==null;)VS(s,a,l),l=l.sibling}function VS(s,a,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(it,l)}catch{}switch(l.tag){case 26:Kt||bi(l,a),gs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Kt||bi(l,a);var c=Tt,m=Zn;ua(l.type)&&(Tt=l.stateNode,Zn=!1),gs(s,a,l),Ch(l.stateNode),Tt=c,Zn=m;break;case 5:Kt||bi(l,a);case 6:if(c=Tt,m=Zn,Tt=null,gs(s,a,l),Tt=c,Zn=m,Tt!==null)if(Zn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(l.stateNode)}catch(y){pt(l,a,y)}else try{Tt.removeChild(l.stateNode)}catch(y){pt(l,a,y)}break;case 18:Tt!==null&&(Zn?(s=Tt,SA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Vh(s)):SA(Tt,l.stateNode));break;case 4:c=Tt,m=Zn,Tt=l.stateNode.containerInfo,Zn=!0,gs(s,a,l),Tt=c,Zn=m;break;case 0:case 11:case 14:case 15:Kt||ta(2,l,a),Kt||ta(4,l,a),gs(s,a,l);break;case 1:Kt||(bi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&PS(l,a,c)),gs(s,a,l);break;case 21:gs(s,a,l);break;case 22:Kt=(c=Kt)||l.memoizedState!==null,gs(s,a,l),Kt=c;break;default:gs(s,a,l)}}function LS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vh(s)}catch(l){pt(a,a.return,l)}}function tk(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new NS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new NS),a;default:throw Error(r(435,s.tag))}}function Z_(s,a){var l=tk(s);a.forEach(function(c){var m=ck.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function fr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,A=a,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(ua(N.type)){Tt=N.stateNode,Zn=!1;break e}break;case 5:Tt=N.stateNode,Zn=!1;break e;case 3:case 4:Tt=N.stateNode.containerInfo,Zn=!0;break e}N=N.return}if(Tt===null)throw Error(r(160));VS(y,A,m),Tt=null,Zn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)US(a,s),a=a.sibling}var Jr=null;function US(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:fr(a,s),pr(s),c&4&&(ta(3,s,s.return),_h(3,s),ta(5,s,s.return));break;case 1:fr(a,s),pr(s),c&512&&(Kt||l===null||bi(l,l.return)),c&64&&ms&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Jr;if(fr(a,s),pr(s),c&512&&(Kt||l===null||bi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[lo]||y[ln]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Cn(y,c,l),y[ln]=s,$t(y),c=y;break e;case"link":var A=DA("link","href",m).get(c+(l.href||""));if(A){for(var N=0;N<A.length;N++)if(y=A[N],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(N,1);break t}}y=m.createElement(c),Cn(y,c,l),m.head.appendChild(y);break;case"meta":if(A=DA("meta","content",m).get(c+(l.content||""))){for(N=0;N<A.length;N++)if(y=A[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(N,1);break t}}y=m.createElement(c),Cn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[ln]=s,$t(y),c=y}s.stateNode=c}else NA(m,s.type,s.stateNode);else s.stateNode=OA(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?NA(m,s.type,s.stateNode):OA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Q_(s,s.memoizedProps,l.memoizedProps)}break;case 27:fr(a,s),pr(s),c&512&&(Kt||l===null||bi(l,l.return)),l!==null&&c&4&&Q_(s,s.memoizedProps,l.memoizedProps);break;case 5:if(fr(a,s),pr(s),c&512&&(Kt||l===null||bi(l,l.return)),s.flags&32){m=s.stateNode;try{Pr(m,"")}catch(ne){pt(s,s.return,ne)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Q_(s,m,l!==null?l.memoizedProps:m)),c&1024&&(J_=!0);break;case 6:if(fr(a,s),pr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ne){pt(s,s.return,ne)}}break;case 3:if(Zp=null,m=Jr,Jr=Xp(a.containerInfo),fr(a,s),Jr=m,pr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Vh(a.containerInfo)}catch(ne){pt(s,s.return,ne)}J_&&(J_=!1,BS(s));break;case 4:c=Jr,Jr=Xp(s.stateNode.containerInfo),fr(a,s),pr(s),Jr=c;break;case 12:fr(a,s),pr(s);break;case 13:fr(a,s),pr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(sv=Xn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Z_(s,c)));break;case 22:m=s.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,Z=ms,ce=Kt;if(ms=Z||m,Kt=ce||z,fr(a,s),Kt=ce,ms=Z,pr(s),c&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||z||ms||Kt||Mo(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){z=l=a;try{if(y=z.stateNode,m)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=z.stateNode;var de=z.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){pt(z,z.return,ne)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(ne){pt(z,z.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Z_(s,l))));break;case 19:fr(a,s),pr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Z_(s,c)));break;case 30:break;case 21:break;default:fr(a,s),pr(s)}}function pr(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(OS(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=Y_(s);Up(s,y,m);break;case 5:var A=l.stateNode;l.flags&32&&(Pr(A,""),l.flags&=-33);var N=Y_(s);Up(s,N,A);break;case 3:case 4:var z=l.stateNode.containerInfo,Z=Y_(s);X_(s,Z,z);break;default:throw Error(r(161))}}catch(ce){pt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function BS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;BS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function na(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)kS(s,a.alternate,a),a=a.sibling}function Mo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ta(4,a,a.return),Mo(a);break;case 1:bi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&PS(a,a.return,l),Mo(a);break;case 27:Ch(a.stateNode);case 26:case 5:bi(a,a.return),Mo(a);break;case 22:a.memoizedState===null&&Mo(a);break;case 30:Mo(a);break;default:Mo(a)}s=s.sibling}}function ra(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:ra(m,y,l),_h(4,y);break;case 1:if(ra(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){pt(c,c.return,Z)}if(c=y,m=c.updateQueue,m!==null){var N=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)pT(z[m],N)}catch(Z){pt(c,c.return,Z)}}l&&A&64&&CS(y),vh(y,y.return);break;case 27:DS(y);case 26:case 5:ra(m,y,l),l&&c===null&&A&4&&xS(y),vh(y,y.return);break;case 12:ra(m,y,l);break;case 13:ra(m,y,l),l&&A&4&&LS(m,y);break;case 22:y.memoizedState===null&&ra(m,y,l),vh(y,y.return);break;case 30:break;default:ra(m,y,l)}a=a.sibling}}function ev(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ih(l))}function tv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ih(s))}function wi(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)FS(s,a,l,c),a=a.sibling}function FS(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:wi(s,a,l,c),m&2048&&_h(9,a);break;case 1:wi(s,a,l,c);break;case 3:wi(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ih(s)));break;case 12:if(m&2048){wi(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,N=y.onPostCommit;typeof N=="function"&&N(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){pt(a,a.return,z)}}else wi(s,a,l,c);break;case 13:wi(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,A=a.alternate,a.memoizedState!==null?y._visibility&2?wi(s,a,l,c):Eh(s,a):y._visibility&2?wi(s,a,l,c):(y._visibility|=2,ru(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&ev(A,a);break;case 24:wi(s,a,l,c),m&2048&&tv(a.alternate,a);break;default:wi(s,a,l,c)}}function ru(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,A=a,N=l,z=c,Z=A.flags;switch(A.tag){case 0:case 11:case 15:ru(y,A,N,z,m),_h(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&2?ru(y,A,N,z,m):Eh(y,A):(ce._visibility|=2,ru(y,A,N,z,m)),m&&Z&2048&&ev(A.alternate,A);break;case 24:ru(y,A,N,z,m),m&&Z&2048&&tv(A.alternate,A);break;default:ru(y,A,N,z,m)}a=a.sibling}}function Eh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Eh(l,c),m&2048&&ev(c.alternate,c);break;case 24:Eh(l,c),m&2048&&tv(c.alternate,c);break;default:Eh(l,c)}a=a.sibling}}var bh=8192;function iu(s){if(s.subtreeFlags&bh)for(s=s.child;s!==null;)zS(s),s=s.sibling}function zS(s){switch(s.tag){case 26:iu(s),s.flags&bh&&s.memoizedState!==null&&Fk(Jr,s.memoizedState,s.memoizedProps);break;case 5:iu(s);break;case 3:case 4:var a=Jr;Jr=Xp(s.stateNode.containerInfo),iu(s),Jr=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=bh,bh=16777216,iu(s),bh=a):iu(s));break;default:iu(s)}}function jS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function wh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];_n=c,HS(c,s)}jS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qS(s),s=s.sibling}function qS(s){switch(s.tag){case 0:case 11:case 15:wh(s),s.flags&2048&&ta(9,s,s.return);break;case 3:wh(s);break;case 12:wh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Bp(s)):wh(s);break;default:wh(s)}}function Bp(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];_n=c,HS(c,s)}jS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ta(8,a,a.return),Bp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Bp(a));break;default:Bp(a)}s=s.sibling}}function HS(s,a){for(;_n!==null;){var l=_n;switch(l.tag){case 0:case 11:case 15:ta(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ih(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,_n=c;else e:for(l=s;_n!==null;){c=_n;var m=c.sibling,y=c.return;if(MS(c),c===l){_n=null;break e}if(m!==null){m.return=y,_n=m;break e}_n=y}}}var nk={getCacheForType:function(s){var a=kn(hn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},rk=typeof WeakMap=="function"?WeakMap:Map,st=0,_t=null,je=null,Qe=0,at=0,mr=null,ia=!1,su=!1,nv=!1,ys=0,Lt=0,sa=0,Vo=0,rv=0,Ur=0,au=0,Th=null,er=null,iv=!1,sv=0,Fp=1/0,zp=null,aa=null,Rn=0,oa=null,ou=null,lu=0,av=0,ov=null,$S=null,Sh=0,lv=null;function gr(){if((st&2)!==0&&Qe!==0)return Qe&-Qe;if($.T!==null){var s=Ql;return s!==0?s:mv()}return js()}function GS(){Ur===0&&(Ur=(Qe&536870912)===0||Ze?Nc():536870912);var s=Lr.current;return s!==null&&(s.flags|=32),Ur}function yr(s,a,l){(s===_t&&(at===2||at===9)||s.cancelPendingCommit!==null)&&(uu(s,0),la(s,Qe,Ur,!1)),Qi(s,l),((st&2)===0||s!==_t)&&(s===_t&&((st&2)===0&&(Vo|=l),Lt===4&&la(s,Qe,Ur,!1)),Ti(s))}function KS(s,a,l){if((st&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||oo(s,a),m=c?ak(s,a):hv(s,a,!0),y=c;do{if(m===0){su&&!c&&la(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!ik(l)){m=hv(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var N=s;m=Th;var z=N.current.memoizedState.isDehydrated;if(z&&(uu(N,A).flags|=256),A=hv(N,A,!1),A!==2){if(nv&&!z){N.errorRecoveryDisabledLanes|=y,Vo|=y,m=4;break e}y=er,er=m,y!==null&&(er===null?er=y:er.push.apply(er,y))}m=A}if(y=!1,m!==2)continue}}if(m===1){uu(s,0),la(s,a,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:la(c,a,Ur,!ia);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=sv+300-Xn(),10<m)){if(la(c,a,Ur,!ia),Il(c,0,!0)!==0)break e;c.timeoutHandle=wA(WS.bind(null,c,l,er,zp,iv,a,Ur,Vo,au,ia,y,2,-0,0),m);break e}WS(c,l,er,zp,iv,a,Ur,Vo,au,ia,y,0,-0,0)}}break}while(!0);Ti(s)}function WS(s,a,l,c,m,y,A,N,z,Z,ce,de,te,ne){if(s.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Oh={stylesheets:null,count:0,unsuspend:Bk},zS(a),de=zk(),de!==null)){s.cancelPendingCommit=de(tA.bind(null,s,a,y,l,c,m,A,N,z,ce,1,te,ne)),la(s,y,A,!Z);return}tA(s,a,y,l,c,m,A,N,z)}function ik(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!hr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function la(s,a,l,c){a&=~rv,a&=~Vo,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-Jt(m),A=1<<y;c[y]=-1,m&=~A}l!==0&&li(s,l,a)}function jp(){return(st&6)===0?(Ah(0),!1):!0}function uv(){if(je!==null){if(at===0)var s=je.return;else s=je,us=xo=null,I_(s),tu=null,mh=0,s=je;for(;s!==null;)RS(s.alternate,s),s=s.return;je=null}}function uu(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,wk(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),uv(),_t=s,je=l=as(s.current,null),Qe=a,at=0,mr=null,ia=!1,su=oo(s,a),nv=!1,au=Ur=rv=Vo=sa=Lt=0,er=Th=null,iv=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-Jt(c),y=1<<m;a|=s[m],c&=~y}return ys=a,cp(),l}function QS(s,a){Be=null,$.H=Pp,a===ah||a===vp?(a=dT(),at=3):a===uT?(a=dT(),at=4):at=a===fS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,mr=a,je===null&&(Lt=1,kp(s,Nr(a,s.current)))}function YS(){var s=$.H;return $.H=Pp,s===null?Pp:s}function XS(){var s=$.A;return $.A=nk,s}function cv(){Lt=4,ia||(Qe&4194048)!==Qe&&Lr.current!==null||(su=!0),(sa&134217727)===0&&(Vo&134217727)===0||_t===null||la(_t,Qe,Ur,!1)}function hv(s,a,l){var c=st;st|=2;var m=YS(),y=XS();(_t!==s||Qe!==a)&&(zp=null,uu(s,a)),a=!1;var A=Lt;e:do try{if(at!==0&&je!==null){var N=je,z=mr;switch(at){case 8:uv(),A=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(a=!0);var Z=at;if(at=0,mr=null,cu(s,N,z,Z),l&&su){A=0;break e}break;default:Z=at,at=0,mr=null,cu(s,N,z,Z)}}sk(),A=Lt;break}catch(ce){QS(s,ce)}while(!0);return a&&s.shellSuspendCounter++,us=xo=null,st=c,$.H=m,$.A=y,je===null&&(_t=null,Qe=0,cp()),A}function sk(){for(;je!==null;)JS(je)}function ak(s,a){var l=st;st|=2;var c=YS(),m=XS();_t!==s||Qe!==a?(zp=null,Fp=Xn()+500,uu(s,a)):su=oo(s,a);e:do try{if(at!==0&&je!==null){a=je;var y=mr;t:switch(at){case 1:at=0,mr=null,cu(s,a,y,1);break;case 2:case 9:if(cT(y)){at=0,mr=null,ZS(a);break}a=function(){at!==2&&at!==9||_t!==s||(at=7),Ti(s)},y.then(a,a);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:cT(y)?(at=0,mr=null,ZS(a)):(at=0,mr=null,cu(s,a,y,7));break;case 5:var A=null;switch(je.tag){case 26:A=je.memoizedState;case 5:case 27:var N=je;if(!A||kA(A)){at=0,mr=null;var z=N.sibling;if(z!==null)je=z;else{var Z=N.return;Z!==null?(je=Z,qp(Z)):je=null}break t}}at=0,mr=null,cu(s,a,y,5);break;case 6:at=0,mr=null,cu(s,a,y,6);break;case 8:uv(),Lt=6;break e;default:throw Error(r(462))}}ok();break}catch(ce){QS(s,ce)}while(!0);return us=xo=null,$.H=c,$.A=m,st=l,je!==null?0:(_t=null,Qe=0,cp(),Lt)}function ok(){for(;je!==null&&!no();)JS(je)}function JS(s){var a=AS(s.alternate,s,ys);s.memoizedProps=s.pendingProps,a===null?qp(s):je=a}function ZS(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=vS(l,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=vS(l,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:I_(a);default:RS(l,a),a=je=eT(a,ys),a=AS(l,a,ys)}s.memoizedProps=s.pendingProps,a===null?qp(s):je=a}function cu(s,a,l,c){us=xo=null,I_(a),tu=null,mh=0;var m=a.return;try{if(YN(s,m,a,l,Qe)){Lt=1,kp(s,Nr(l,s.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;Lt=1,kp(s,Nr(l,s.current)),je=null;return}a.flags&32768?(Ze||c===1?s=!0:su||(Qe&536870912)!==0?s=!1:(ia=s=!0,(c===2||c===9||c===3||c===6)&&(c=Lr.current,c!==null&&c.tag===13&&(c.flags|=16384))),eA(a,s)):qp(a)}function qp(s){var a=s;do{if((a.flags&32768)!==0){eA(a,ia);return}s=a.return;var l=JN(a.alternate,a,ys);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=s}while(a!==null);Lt===0&&(Lt=5)}function eA(s,a){do{var l=ZN(s.alternate,s);if(l!==null){l.flags&=32767,je=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){je=s;return}je=s=l}while(s!==null);Lt=6,je=null}function tA(s,a,l,c,m,y,A,N,z){s.cancelPendingCommit=null;do Hp();while(Rn!==0);if((st&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=t_,Mc(s,l,y,A,N,z),s===_t&&(je=_t=null,Qe=0),ou=a,oa=s,lu=l,av=y,ov=m,$S=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,hk(Fe,function(){return aA(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=ee.p,ee.p=2,A=st,st|=4;try{ek(s,a,l)}finally{st=A,ee.p=m,$.T=c}}Rn=1,nA(),rA(),iA()}}function nA(){if(Rn===1){Rn=0;var s=oa,a=ou,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=ee.p;ee.p=2;var m=st;st|=4;try{US(a,s);var y=Tv,A=Hw(s.containerInfo),N=y.focusedElem,z=y.selectionRange;if(A!==N&&N&&N.ownerDocument&&qw(N.ownerDocument.documentElement,N)){if(z!==null&&Yy(N)){var Z=z.start,ce=z.end;if(ce===void 0&&(ce=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(ce,N.value.length);else{var de=N.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ne=N.textContent.length,xe=Math.min(z.start,Ne),dt=z.end===void 0?xe:Math.min(z.end,Ne);!ne.extend&&xe>dt&&(A=dt,dt=xe,xe=A);var W=jw(N,xe),H=jw(N,dt);if(W&&H&&(ne.rangeCount!==1||ne.anchorNode!==W.node||ne.anchorOffset!==W.offset||ne.focusNode!==H.node||ne.focusOffset!==H.offset)){var J=de.createRange();J.setStart(W.node,W.offset),ne.removeAllRanges(),xe>dt?(ne.addRange(J),ne.extend(H.node,H.offset)):(J.setEnd(H.node,H.offset),ne.addRange(J))}}}}for(de=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var he=de[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}nm=!!wv,Tv=wv=null}finally{st=m,ee.p=c,$.T=l}}s.current=a,Rn=2}}function rA(){if(Rn===2){Rn=0;var s=oa,a=ou,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=ee.p;ee.p=2;var m=st;st|=4;try{kS(s,a.alternate,a)}finally{st=m,ee.p=c,$.T=l}}Rn=3}}function iA(){if(Rn===4||Rn===3){Rn=0,Al();var s=oa,a=ou,l=lu,c=$S;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Rn=5:(Rn=0,ou=oa=null,sA(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(aa=null),Rl(l),a=a.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(it,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=$.T,m=ee.p,ee.p=2,$.T=null;try{for(var y=s.onRecoverableError,A=0;A<c.length;A++){var N=c[A];y(N.value,{componentStack:N.stack})}}finally{$.T=a,ee.p=m}}(lu&3)!==0&&Hp(),Ti(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===lv?Sh++:(Sh=0,lv=s):Sh=0,Ah(0)}}function sA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ih(a)))}function Hp(s){return nA(),rA(),iA(),aA()}function aA(){if(Rn!==5)return!1;var s=oa,a=av;av=0;var l=Rl(lu),c=$.T,m=ee.p;try{ee.p=32>l?32:l,$.T=null,l=ov,ov=null;var y=oa,A=lu;if(Rn=0,ou=oa=null,lu=0,(st&6)!==0)throw Error(r(331));var N=st;if(st|=4,qS(y.current),FS(y,y.current,A,l),st=N,Ah(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(it,y)}catch{}return!0}finally{ee.p=m,$.T=c,sA(s,a)}}function oA(s,a,l){a=Nr(l,a),a=F_(s.stateNode,a,2),s=Xs(s,a,2),s!==null&&(Qi(s,2),Ti(s))}function pt(s,a,l){if(s.tag===3)oA(s,s,l);else for(;a!==null;){if(a.tag===3){oA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(aa===null||!aa.has(c))){s=Nr(l,s),l=hS(2),c=Xs(a,l,2),c!==null&&(dS(l,c,a,s),Qi(c,2),Ti(c));break}}a=a.return}}function dv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new rk;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(nv=!0,m.add(l),s=lk.bind(null,s,a,l),a.then(s,s))}function lk(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,_t===s&&(Qe&l)===l&&(Lt===4||Lt===3&&(Qe&62914560)===Qe&&300>Xn()-sv?(st&2)===0&&uu(s,0):rv|=l,au===Qe&&(au=0)),Ti(s)}function lA(s,a){a===0&&(a=kc()),s=$l(s,a),s!==null&&(Qi(s,a),Ti(s))}function uk(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),lA(s,l)}function ck(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),lA(s,l)}function hk(s,a){return Nn(s,a)}var $p=null,hu=null,fv=!1,Gp=!1,pv=!1,Lo=0;function Ti(s){s!==hu&&s.next===null&&(hu===null?$p=hu=s:hu=hu.next=s),Gp=!0,fv||(fv=!0,fk())}function Ah(s,a){if(!pv&&Gp){pv=!0;do for(var l=!1,c=$p;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var A=c.suspendedLanes,N=c.pingedLanes;y=(1<<31-Jt(42|s)+1)-1,y&=m&~(A&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,dA(c,y))}else y=Qe,y=Il(c,c===_t?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||oo(c,y)||(l=!0,dA(c,y));c=c.next}while(l);pv=!1}}function dk(){uA()}function uA(){Gp=fv=!1;var s=0;Lo!==0&&(bk()&&(s=Lo),Lo=0);for(var a=Xn(),l=null,c=$p;c!==null;){var m=c.next,y=cA(c,a);y===0?(c.next=null,l===null?$p=m:l.next=m,m===null&&(hu=l)):(l=c,(s!==0||(y&3)!==0)&&(Gp=!0)),c=m}Ah(s)}function cA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-Jt(y),N=1<<A,z=m[A];z===-1?((N&l)===0||(N&c)!==0)&&(m[A]=Dc(N,a)):z<=a&&(s.expiredLanes|=N),y&=~N}if(a=_t,l=Qe,l=Il(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(at===2||at===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Gr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||oo(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Gr(c),Rl(l)){case 2:case 8:l=Ki;break;case 32:l=Fe;break;case 268435456:l=bt;break;default:l=Fe}return c=hA.bind(null,s),l=Nn(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Gr(c),s.callbackPriority=2,s.callbackNode=null,2}function hA(s,a){if(Rn!==0&&Rn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Hp()&&s.callbackNode!==l)return null;var c=Qe;return c=Il(s,s===_t?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(KS(s,c,a),cA(s,Xn()),s.callbackNode!=null&&s.callbackNode===l?hA.bind(null,s):null)}function dA(s,a){if(Hp())return null;KS(s,a,!0)}function fk(){Tk(function(){(st&6)!==0?Nn(ro,dk):uA()})}function mv(){return Lo===0&&(Lo=Nc()),Lo}function fA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Nl(""+s)}function pA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function pk(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=fA((m[Zt]||null).action),A=c.submitter;A&&(a=(a=A[Zt]||null)?fA(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var N=new kl("action","action",null,c,m);s.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Lo!==0){var z=A?pA(m,A):new FormData(m);M_(l,{pending:!0,data:z,method:m.method,action:y},null,z)}}else typeof y=="function"&&(N.preventDefault(),z=A?pA(m,A):new FormData(m),M_(l,{pending:!0,data:z,method:m.method,action:y},y,z))},currentTarget:m}]})}}for(var gv=0;gv<e_.length;gv++){var yv=e_[gv],mk=yv.toLowerCase(),gk=yv[0].toUpperCase()+yv.slice(1);Xr(mk,"on"+gk)}Xr(Kw,"onAnimationEnd"),Xr(Ww,"onAnimationIteration"),Xr(Qw,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(NN,"onTransitionRun"),Xr(kN,"onTransitionStart"),Xr(MN,"onTransitionCancel"),Xr(Yw,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ih));function mA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var A=c.length-1;0<=A;A--){var N=c[A],z=N.instance,Z=N.currentTarget;if(N=N.listener,z!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=Z;try{y(m)}catch(ce){Np(ce)}m.currentTarget=null,y=z}else for(A=0;A<c.length;A++){if(N=c[A],z=N.instance,Z=N.currentTarget,N=N.listener,z!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=Z;try{y(m)}catch(ce){Np(ce)}m.currentTarget=null,y=z}}}}function qe(s,a){var l=a[Lc];l===void 0&&(l=a[Lc]=new Set);var c=s+"__bubble";l.has(c)||(gA(a,s,2,!1),l.add(c))}function _v(s,a,l){var c=0;a&&(c|=4),gA(l,s,c,a)}var Kp="_reactListening"+Math.random().toString(36).slice(2);function vv(s){if(!s[Kp]){s[Kp]=!0,Uc.forEach(function(l){l!=="selectionchange"&&(yk.has(l)||_v(l,!1,s),_v(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Kp]||(a[Kp]=!0,_v("selectionchange",!1,a))}}function gA(s,a,l,c){switch(FA(a)){case 2:var m=Hk;break;case 8:m=$k;break;default:m=Nv}l=m.bind(null,a,l,s),m=void 0,!Or||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Ev(s,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var N=c.stateNode.containerInfo;if(N===m)break;if(A===4)for(A=c.return;A!==null;){var z=A.tag;if((z===3||z===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;N!==null;){if(A=Yi(N),A===null)return;if(z=A.tag,z===5||z===6||z===26||z===27){c=y=A;continue e}N=N.parentNode}}c=c.return}Qf(function(){var Z=y,ce=xr(l),de=[];e:{var te=Xw.get(s);if(te!==void 0){var ne=kl,Ne=s;switch(s){case"keypress":if(pi(l)===0)break e;case"keydown":case"keyup":ne=Fl;break;case"focusin":Ne="focus",ne=Ll;break;case"focusout":Ne="blur",ne=Ll;break;case"beforeblur":case"afterblur":ne=Ll;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=rp;break;case Kw:case Ww:case Qw:ne=Ul;break;case Yw:ne=sp;break;case"scroll":case"scrollend":ne=Yf;break;case"wheel":ne=zl;break;case"copy":case"cut":case"paste":ne=Bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Yc;break;case"toggle":case"beforetoggle":ne=op}var xe=(a&4)!==0,dt=!xe&&(s==="scroll"||s==="scrollend"),W=xe?te!==null?te+"Capture":null:te;xe=[];for(var H=Z,J;H!==null;){var he=H;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||W===null||(he=go(H,W),he!=null&&xe.push(Rh(H,he,J))),dt)break;H=H.return}0<xe.length&&(te=new ne(te,Ne,null,l,ce),de.push({event:te,listeners:xe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&l!==es&&(Ne=l.relatedTarget||l.fromElement)&&(Yi(Ne)||Ne[Cr]))break e;if((ne||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ne=l.relatedTarget||l.toElement,ne=Z,Ne=Ne?Yi(Ne):null,Ne!==null&&(dt=o(Ne),xe=Ne.tag,Ne!==dt||xe!==5&&xe!==27&&xe!==6)&&(Ne=null)):(ne=null,Ne=Z),ne!==Ne)){if(xe=Dr,he="onMouseLeave",W="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(xe=Yc,he="onPointerLeave",W="onPointerEnter",H="pointer"),dt=ne==null?te:ci(ne),J=Ne==null?te:ci(Ne),te=new xe(he,H+"leave",ne,l,ce),te.target=dt,te.relatedTarget=J,he=null,Yi(ce)===Z&&(xe=new xe(W,H+"enter",Ne,l,ce),xe.target=J,xe.relatedTarget=dt,he=xe),dt=he,ne&&Ne)t:{for(xe=ne,W=Ne,H=0,J=xe;J;J=du(J))H++;for(J=0,he=W;he;he=du(he))J++;for(;0<H-J;)xe=du(xe),H--;for(;0<J-H;)W=du(W),J--;for(;H--;){if(xe===W||W!==null&&xe===W.alternate)break t;xe=du(xe),W=du(W)}xe=null}else xe=null;ne!==null&&yA(de,te,ne,xe,!1),Ne!==null&&dt!==null&&yA(de,dt,Ne,xe,!0)}}e:{if(te=Z?ci(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Se=Vw;else if(cn(te))if(Lw)Se=xN;else{Se=CN;var ze=RN}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&qc(Z.elementType)&&(Se=Vw):Se=PN;if(Se&&(Se=Se(s,Z))){ss(de,Se,l,ce);break e}ze&&ze(s,te,Z),s==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Gs(te,"number",te.value)}switch(ze=Z?ci(Z):window,s){case"focusin":(cn(ze)||ze.contentEditable==="true")&&(jl=ze,Xy=Z,Zc=null);break;case"focusout":Zc=Xy=jl=null;break;case"mousedown":Jy=!0;break;case"contextmenu":case"mouseup":case"dragend":Jy=!1,$w(de,l,ce);break;case"selectionchange":if(DN)break;case"keydown":case"keyup":$w(de,l,ce)}var Re;if(yi)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ke?ie(s,l)&&(Oe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(S&&l.locale!=="ko"&&(Ke||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ke&&(Re=$c()):(fi=ce,Ks="value"in fi?fi.value:fi.textContent,Ke=!0)),ze=Wp(Z,Oe),0<ze.length&&(Oe=new Wc(Oe,s,null,l,ce),de.push({event:Oe,listeners:ze}),Re?Oe.data=Re:(Re=_e(l),Re!==null&&(Oe.data=Re)))),(Re=E?un(s,l):We(s,l))&&(Oe=Wp(Z,"onBeforeInput"),0<Oe.length&&(ze=new Wc("onBeforeInput","beforeinput",null,l,ce),de.push({event:ze,listeners:Oe}),ze.data=Re)),pk(de,s,Z,l,ce)}mA(de,a)})}function Rh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Wp(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=go(s,l),m!=null&&c.unshift(Rh(s,m,y)),m=go(s,a),m!=null&&c.push(Rh(s,m,y))),s.tag===3)return c;s=s.return}return[]}function du(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function yA(s,a,l,c,m){for(var y=a._reactName,A=[];l!==null&&l!==c;){var N=l,z=N.alternate,Z=N.stateNode;if(N=N.tag,z!==null&&z===c)break;N!==5&&N!==26&&N!==27||Z===null||(z=Z,m?(Z=go(l,y),Z!=null&&A.unshift(Rh(l,Z,z))):m||(Z=go(l,y),Z!=null&&A.push(Rh(l,Z,z)))),l=l.return}A.length!==0&&s.push({event:a,listeners:A})}var _k=/\r\n?/g,vk=/\u0000|\uFFFD/g;function _A(s){return(typeof s=="string"?s:""+s).replace(_k,`
`).replace(vk,"")}function vA(s,a){return a=_A(a),_A(s)===a}function Qp(){}function ht(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Pr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Pr(s,""+c);break;case"className":hi(s,"class",c);break;case"tabIndex":hi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(s,l,c);break;case"style":jc(s,c,y);break;case"data":if(a!=="object"){hi(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Nl(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ht(s,a,"name",m.name,m,null),ht(s,a,"formEncType",m.formEncType,m,null),ht(s,a,"formMethod",m.formMethod,m,null),ht(s,a,"formTarget",m.formTarget,m,null)):(ht(s,a,"encType",m.encType,m,null),ht(s,a,"method",m.method,m,null),ht(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Nl(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Qp);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Nl(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":qe("beforetoggle",s),qe("toggle",s),$s(s,"popover",c);break;case"xlinkActuate":Sn(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Sn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Sn(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Sn(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Sn(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Sn(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Sn(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Sn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Sn(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":$s(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Hy.get(l)||l,$s(s,l,c))}}function bv(s,a,l,c,m,y){switch(l){case"style":jc(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Pr(s,c):(typeof c=="number"||typeof c=="bigint")&&Pr(s,""+c);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Qp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[Zt]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):$s(s,l,c)}}}function Cn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(s,a,y,A,l,null)}}m&&ht(s,a,"srcSet",l.srcSet,l,null),c&&ht(s,a,"src",l.src,l,null);return;case"input":qe("invalid",s);var N=y=A=m=null,z=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":z=ce;break;case"defaultChecked":Z=ce;break;case"value":y=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ht(s,a,c,ce,l,null)}}fo(s,y,N,z,Z,A,m,!1),Dl(s);return;case"select":qe("invalid",s),c=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":y=N;break;case"defaultValue":A=N;break;case"multiple":c=N;default:ht(s,a,m,N,l,null)}a=y,l=A,s.multiple=!!c,a!=null?Zi(s,!!c,a,!1):l!=null&&Zi(s,!!c,l,!0);return;case"textarea":qe("invalid",s),y=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(N=l[A],N!=null))switch(A){case"value":c=N;break;case"defaultValue":m=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:ht(s,a,A,N,l,null)}po(s,c,m,y),Dl(s);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ht(s,a,z,c,l,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(c=0;c<Ih.length;c++)qe(Ih[c],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(s,a,Z,c,l,null)}return;default:if(qc(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&bv(s,a,ce,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&ht(s,a,N,c,l,null))}function Ek(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,N=null,z=null,Z=null,ce=null;for(ne in l){var de=l[ne];if(l.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=de;default:c.hasOwnProperty(ne)||ht(s,a,ne,null,c,de)}}for(var te in c){var ne=c[te];if(de=l[te],c.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":y=ne;break;case"name":m=ne;break;case"checked":Z=ne;break;case"defaultChecked":ce=ne;break;case"value":A=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==de&&ht(s,a,te,ne,c,de)}}cr(s,A,N,z,Z,ce,y,m);return;case"select":ne=A=N=te=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ne=z;default:c.hasOwnProperty(y)||ht(s,a,y,null,c,z)}for(m in c)if(y=c[m],z=l[m],c.hasOwnProperty(m)&&(y!=null||z!=null))switch(m){case"value":te=y;break;case"defaultValue":N=y;break;case"multiple":A=y;default:y!==z&&ht(s,a,m,y,c,z)}a=N,l=A,c=ne,te!=null?Zi(s,!!l,te,!1):!!c!=!!l&&(a!=null?Zi(s,!!l,a,!0):Zi(s,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:ht(s,a,N,null,c,m)}for(A in c)if(m=c[A],y=l[A],c.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ht(s,a,A,m,c,y)}ut(s,te,ne);return;case"option":for(var Ne in l)if(te=l[Ne],l.hasOwnProperty(Ne)&&te!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:ht(s,a,Ne,null,c,te)}for(z in c)if(te=c[z],ne=l[z],c.hasOwnProperty(z)&&te!==ne&&(te!=null||ne!=null))switch(z){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:ht(s,a,z,te,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in l)te=l[xe],l.hasOwnProperty(xe)&&te!=null&&!c.hasOwnProperty(xe)&&ht(s,a,xe,null,c,te);for(Z in c)if(te=c[Z],ne=l[Z],c.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:ht(s,a,Z,te,c,ne)}return;default:if(qc(a)){for(var dt in l)te=l[dt],l.hasOwnProperty(dt)&&te!==void 0&&!c.hasOwnProperty(dt)&&bv(s,a,dt,void 0,c,te);for(ce in c)te=c[ce],ne=l[ce],!c.hasOwnProperty(ce)||te===ne||te===void 0&&ne===void 0||bv(s,a,ce,te,c,ne);return}}for(var W in l)te=l[W],l.hasOwnProperty(W)&&te!=null&&!c.hasOwnProperty(W)&&ht(s,a,W,null,c,te);for(de in c)te=c[de],ne=l[de],!c.hasOwnProperty(de)||te===ne||te==null&&ne==null||ht(s,a,de,te,c,ne)}var wv=null,Tv=null;function Yp(s){return s.nodeType===9?s:s.ownerDocument}function EA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Sv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Av=null;function bk(){var s=window.event;return s&&s.type==="popstate"?s===Av?!1:(Av=s,!0):(Av=null,!1)}var wA=typeof setTimeout=="function"?setTimeout:void 0,wk=typeof clearTimeout=="function"?clearTimeout:void 0,TA=typeof Promise=="function"?Promise:void 0,Tk=typeof queueMicrotask=="function"?queueMicrotask:typeof TA<"u"?function(s){return TA.resolve(null).then(s).catch(Sk)}:wA;function Sk(s){setTimeout(function(){throw s})}function ua(s){return s==="head"}function SA(s,a){var l=a,c=0,m=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var A=s.ownerDocument;if(l&1&&Ch(A.documentElement),l&2&&Ch(A.body),l&4)for(l=A.head,Ch(l),A=l.firstChild;A;){var N=A.nextSibling,z=A.nodeName;A[lo]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=N}}if(m===0){s.removeChild(y),Vh(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Vh(a)}function Iv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Iv(l),Hs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function Ak(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[lo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Zr(s.nextSibling),s===null)break}return null}function Ik(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Zr(s.nextSibling),s===null))return null;return s}function Rv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Rk(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Zr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Cv=null;function AA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function IA(s,a,l){switch(a=Yp(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Ch(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Hs(s)}var Br=new Map,RA=new Set;function Xp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var _s=ee.d;ee.d={f:Ck,r:Pk,D:xk,C:Ok,L:Dk,m:Nk,X:Mk,S:kk,M:Vk};function Ck(){var s=_s.f(),a=jp();return s||a}function Pk(s){var a=ui(s);a!==null&&a.tag===5&&a.type==="form"?KT(a):_s.r(s)}var fu=typeof document>"u"?null:document;function CA(s,a,l){var c=fu;if(c&&typeof a=="string"&&a){var m=en(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),RA.has(m)||(RA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Cn(a,"link",s),$t(a),c.head.appendChild(a)))}}function xk(s){_s.D(s),CA("dns-prefetch",s,null)}function Ok(s,a){_s.C(s,a),CA("preconnect",s,a)}function Dk(s,a,l){_s.L(s,a,l);var c=fu;if(c&&s&&a){var m='link[rel="preload"][as="'+en(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+en(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+en(l.imageSizes)+'"]')):m+='[href="'+en(s)+'"]';var y=m;switch(a){case"style":y=pu(s);break;case"script":y=mu(s)}Br.has(y)||(s=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Br.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Ph(y))||a==="script"&&c.querySelector(xh(y))||(a=c.createElement("link"),Cn(a,"link",s),$t(a),c.head.appendChild(a)))}}function Nk(s,a){_s.m(s,a);var l=fu;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+en(c)+'"][href="'+en(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=mu(s)}if(!Br.has(y)&&(s=g({rel:"modulepreload",href:s},a),Br.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xh(y)))return}c=l.createElement("link"),Cn(c,"link",s),$t(c),l.head.appendChild(c)}}}function kk(s,a,l){_s.S(s,a,l);var c=fu;if(c&&s){var m=jn(c).hoistableStyles,y=pu(s);a=a||"default";var A=m.get(y);if(!A){var N={loading:0,preload:null};if(A=c.querySelector(Ph(y)))N.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Br.get(y))&&Pv(s,l);var z=A=c.createElement("link");$t(z),Cn(z,"link",s),z._p=new Promise(function(Z,ce){z.onload=Z,z.onerror=ce}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Jp(A,a,c)}A={type:"stylesheet",instance:A,count:1,state:N},m.set(y,A)}}}function Mk(s,a){_s.X(s,a);var l=fu;if(l&&s){var c=jn(l).hoistableScripts,m=mu(s),y=c.get(m);y||(y=l.querySelector(xh(m)),y||(s=g({src:s,async:!0},a),(a=Br.get(m))&&xv(s,a),y=l.createElement("script"),$t(y),Cn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Vk(s,a){_s.M(s,a);var l=fu;if(l&&s){var c=jn(l).hoistableScripts,m=mu(s),y=c.get(m);y||(y=l.querySelector(xh(m)),y||(s=g({src:s,async:!0,type:"module"},a),(a=Br.get(m))&&xv(s,a),y=l.createElement("script"),$t(y),Cn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function PA(s,a,l,c){var m=(m=Pe.current)?Xp(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=pu(l.href),l=jn(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=pu(l.href);var y=jn(m).hoistableStyles,A=y.get(s);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=m.querySelector(Ph(s)))&&!y._p&&(A.instance=y,A.state.loading=5),Br.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Br.set(s,l),y||Lk(m,s,l,A.state))),a&&c===null)throw Error(r(528,""));return A}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=mu(l),l=jn(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function pu(s){return'href="'+en(s)+'"'}function Ph(s){return'link[rel="stylesheet"]['+s+"]"}function xA(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function Lk(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Cn(a,"link",l),$t(a),s.head.appendChild(a))}function mu(s){return'[src="'+en(s)+'"]'}function xh(s){return"script[async]"+s}function OA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+en(l.href)+'"]');if(c)return a.instance=c,$t(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),$t(c),Cn(c,"style",m),Jp(c,l.precedence,s),a.instance=c;case"stylesheet":m=pu(l.href);var y=s.querySelector(Ph(m));if(y)return a.state.loading|=4,a.instance=y,$t(y),y;c=xA(l),(m=Br.get(m))&&Pv(c,m),y=(s.ownerDocument||s).createElement("link"),$t(y);var A=y;return A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),Cn(y,"link",c),a.state.loading|=4,Jp(y,l.precedence,s),a.instance=y;case"script":return y=mu(l.src),(m=s.querySelector(xh(y)))?(a.instance=m,$t(m),m):(c=l,(m=Br.get(y))&&(c=g({},l),xv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),$t(m),Cn(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Jp(c,l.precedence,s));return a.instance}function Jp(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,A=0;A<c.length;A++){var N=c[A];if(N.dataset.precedence===a)y=N;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Pv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function xv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Zp=null;function DA(s,a,l){if(Zp===null){var c=new Map,m=Zp=new Map;m.set(l,c)}else m=Zp,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[lo]||y[ln]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var N=c.get(A);N?N.push(y):c.set(A,[y])}}return c}function NA(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function Uk(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function kA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Oh=null;function Bk(){}function Fk(s,a,l){if(Oh===null)throw Error(r(475));var c=Oh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=pu(l.href),y=s.querySelector(Ph(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=em.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,$t(y);return}y=s.ownerDocument||s,l=xA(l),(m=Br.get(m))&&Pv(l,m),y=y.createElement("link"),$t(y);var A=y;A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),Cn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=em.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function zk(){if(Oh===null)throw Error(r(475));var s=Oh;return s.stylesheets&&s.count===0&&Ov(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Ov(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function em(){if(this.count--,this.count===0){if(this.stylesheets)Ov(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var tm=null;function Ov(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,tm=new Map,a.forEach(jk,s),tm=null,em.call(s))}function jk(s,a){if(!(a.state.loading&4)){var l=tm.get(s);if(l)var c=l.get(null);else{l=new Map,tm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||c,y===c&&l.set(null,m),l.set(A,m),this.count++,c=em.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Dh={$$typeof:V,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function qk(s,a,l,c,m,y,A,N){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function MA(s,a,l,c,m,y,A,N,z,Z,ce,de){return s=new qk(s,a,l,A,N,z,Z,de),a=1,y===!0&&(a|=24),y=dr(3,null,null,a),s.current=y,y.stateNode=s,a=d_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},g_(y),s}function VA(s){return s?(s=Gl,s):Gl}function LA(s,a,l,c,m,y){m=VA(m),c.context===null?c.context=m:c.pendingContext=m,c=Ys(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Xs(s,c,a),l!==null&&(yr(l,s,a),lh(l,s,a))}function UA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Dv(s,a){UA(s,a),(s=s.alternate)&&UA(s,a)}function BA(s){if(s.tag===13){var a=$l(s,67108864);a!==null&&yr(a,s,67108864),Dv(s,67108864)}}var nm=!0;function Hk(s,a,l,c){var m=$.T;$.T=null;var y=ee.p;try{ee.p=2,Nv(s,a,l,c)}finally{ee.p=y,$.T=m}}function $k(s,a,l,c){var m=$.T;$.T=null;var y=ee.p;try{ee.p=8,Nv(s,a,l,c)}finally{ee.p=y,$.T=m}}function Nv(s,a,l,c){if(nm){var m=kv(c);if(m===null)Ev(s,a,c,rm,l),zA(s,c);else if(Kk(m,s,a,l,c))c.stopPropagation();else if(zA(s,c),a&4&&-1<Gk.indexOf(s)){for(;m!==null;){var y=ui(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Wr(y.pendingLanes);if(A!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var z=1<<31-Jt(A);N.entanglements[1]|=z,A&=~z}Ti(y),(st&6)===0&&(Fp=Xn()+500,Ah(0))}}break;case 13:N=$l(y,2),N!==null&&yr(N,y,2),jp(),Dv(y,2)}if(y=kv(c),y===null&&Ev(s,a,c,rm,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Ev(s,a,c,null,l)}}function kv(s){return s=xr(s),Mv(s)}var rm=null;function Mv(s){if(rm=null,s=Yi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return rm=s,null}function FA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oc()){case ro:return 2;case Ki:return 8;case Fe:case yt:return 32;case bt:return 268435456;default:return 32}default:return 32}}var Vv=!1,ca=null,ha=null,da=null,Nh=new Map,kh=new Map,fa=[],Gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zA(s,a){switch(s){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Nh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":kh.delete(a.pointerId)}}function Mh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=ui(a),a!==null&&BA(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function Kk(s,a,l,c,m){switch(a){case"focusin":return ca=Mh(ca,s,a,l,c,m),!0;case"dragenter":return ha=Mh(ha,s,a,l,c,m),!0;case"mouseover":return da=Mh(da,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return Nh.set(y,Mh(Nh.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,kh.set(y,Mh(kh.get(y)||null,s,a,l,c,m)),!0}return!1}function jA(s){var a=Yi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,jf(s.priority,function(){if(l.tag===13){var c=gr();c=zs(c);var m=$l(l,c);m!==null&&yr(m,l,c),Dv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function im(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=kv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);es=c,l.target.dispatchEvent(c),es=null}else return a=ui(l),a!==null&&BA(a),s.blockedOn=l,!1;a.shift()}return!0}function qA(s,a,l){im(s)&&l.delete(a)}function Wk(){Vv=!1,ca!==null&&im(ca)&&(ca=null),ha!==null&&im(ha)&&(ha=null),da!==null&&im(da)&&(da=null),Nh.forEach(qA),kh.forEach(qA)}function sm(s,a){s.blockedOn===a&&(s.blockedOn=null,Vv||(Vv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Wk)))}var am=null;function HA(s){am!==s&&(am=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){am===s&&(am=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Mv(c||l)===null)continue;break}var y=ui(l);y!==null&&(s.splice(a,3),a-=3,M_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Vh(s){function a(z){return sm(z,s)}ca!==null&&sm(ca,s),ha!==null&&sm(ha,s),da!==null&&sm(da,s),Nh.forEach(a),kh.forEach(a);for(var l=0;l<fa.length;l++){var c=fa[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<fa.length&&(l=fa[0],l.blockedOn===null);)jA(l),l.blockedOn===null&&fa.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],A=m[Zt]||null;if(typeof y=="function")A||HA(l);else if(A){var N=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[Zt]||null)N=A.formAction;else if(Mv(m)!==null)continue}else N=A.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),HA(l)}}}function Lv(s){this._internalRoot=s}om.prototype.render=Lv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=gr();LA(l,c,s,a,null,null)},om.prototype.unmount=Lv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;LA(s.current,2,null,s,null,null),jp(),a[Cr]=null}};function om(s){this._internalRoot=s}om.prototype.unstable_scheduleHydration=function(s){if(s){var a=js();s={blockedOn:null,target:s,priority:a};for(var l=0;l<fa.length&&a!==0&&a<fa[l].priority;l++);fa.splice(l,0,s),l===0&&jA(s)}};var $A=e.version;if($A!=="19.1.0")throw Error(r(527,$A,"19.1.0"));ee.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var Qk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{it=lm.inject(Qk),Ue=lm}catch{}}return Uh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=oS,y=lS,A=uS,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=MA(s,1,!1,null,null,l,c,m,y,A,N,null),s[Cr]=a.current,vv(s),new Lv(a)},Uh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=oS,A=lS,N=uS,z=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),a=MA(s,1,!0,a,l??null,c,m,y,A,N,z,Z),a.context=VA(null),l=a.current,c=gr(),c=zs(c),m=Ys(c),m.callback=null,Xs(l,m,c),l=c,a.current.lanes=l,Qi(a,l),Ti(a),s[Cr]=a.current,vv(s),new om(a)},Uh.version="19.1.0",Uh}var tI;function aM(){if(tI)return Bv.exports;tI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bv.exports=sM(),Bv.exports}var oM=aM(),Q=Wa();const Ia=CC(Q),I0=Xk({__proto__:null,default:Ia},[Q]);var Bh={},nI;function lM(){if(nI)return Bh;nI=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.parse=u,Bh.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const w=new o,I=v.length;if(I<2)return w;const D=(T==null?void 0:T.decode)||g;let U=0;do{const L=v.indexOf("=",U);if(L===-1)break;const V=v.indexOf(";",U),q=V===-1?I:V;if(L>q){U=v.lastIndexOf(";",L-1)+1;continue}const B=h(v,U,L),G=f(v,L,B),M=v.slice(B,G);if(w[M]===void 0){let R=h(v,L+1,q),C=f(v,q,R);const b=D(v.slice(R,C));w[M]=b}U=q+1}while(U<I);return w}function h(v,T,w){do{const I=v.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<w);return w}function f(v,T,w){for(;T>w;){const I=v.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return w}function d(v,T,w){const I=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const D=I(T);if(!e.test(D))throw new TypeError(`argument val is invalid: ${T}`);let U=v+"="+D;if(!w)return U;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);U+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);U+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);U+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);U+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(U+="; HttpOnly"),w.secure&&(U+="; Secure"),w.partitioned&&(U+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return U}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Bh}lM();var rI="popstate";function uM(n={}){function e(i,o){let{pathname:u="/",search:h="",hash:f=""}=yl(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),R0("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let u=i.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof o=="string"?o:Nd(o))}function r(i,o){ri(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return hM(e,t,r,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cM(){return Math.random().toString(36).substring(2,10)}function iI(n,e){return{usr:n.state,key:n.key,idx:e}}function R0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yl(e):e,state:t,key:e&&e.key||r||cM()}}function Nd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function hM(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let D=g(),U=D==null?null:D-d;d=D,f&&f({action:h,location:I.location,delta:U})}function v(D,U){h="PUSH";let L=R0(I.location,D,U);t&&t(L,D),d=g()+1;let V=iI(L,d),q=I.createHref(L);try{u.pushState(V,"",q)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(q)}o&&f&&f({action:h,location:I.location,delta:1})}function T(D,U){h="REPLACE";let L=R0(I.location,D,U);t&&t(L,D),d=g();let V=iI(L,d),q=I.createHref(L);u.replaceState(V,"",q),o&&f&&f({action:h,location:I.location,delta:0})}function w(D){return dM(D)}let I={get action(){return h},get location(){return n(i,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(rI,_),f=D,()=>{i.removeEventListener(rI,_),f=null}},createHref(D){return e(i,D)},createURL:w,encodeLocation(D){let U=w(D);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:v,replace:T,go(D){return u.go(D)}};return I}function dM(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Nd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function PC(n,e,t="/"){return fM(n,e,t,!1)}function fM(n,e,t,r){let i=typeof e=="string"?yl(e):e,o=Rs(i.pathname||"/",t);if(o==null)return null;let u=xC(n);pM(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=AM(o);h=TM(u[f],d,r)}return h}function xC(n,e=[],t=[],r=""){let i=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Ot(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=As([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(Ot(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),xC(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:bM(d,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let f of OC(o.path))i(o,u,f)}),e}function OC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=OC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),i&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function pM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var mM=/^:[\w-]+$/,gM=3,yM=2,_M=1,vM=10,EM=-2,sI=n=>n==="*";function bM(n,e){let t=n.split("/"),r=t.length;return t.some(sI)&&(r+=EM),e&&(r+=yM),t.filter(i=>!sI(i)).reduce((i,o)=>i+(mM.test(o)?gM:o===""?_M:vM),r)}function wM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function TM(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],d=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Qm({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),v=f.route;if(!_&&d&&t&&!r[r.length-1].route.index&&(_=Qm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:As([o,_.pathname]),pathnameBase:PM(As([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=As([o,_.pathnameBase]))}return u}function Qm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=SM(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=h[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?d[g]=void 0:d[g]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function SM(n,e=!1,t=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function IM(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?yl(n):n;return{pathname:t?t.startsWith("/")?t:RM(t,e):e,search:xM(r),hash:OM(i)}}function RM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Hv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function DC(n){let e=CM(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function NC(n,e,t,r=!1){let i;typeof n=="string"?i=yl(n):(i={...n},Ot(!i.pathname||!i.pathname.includes("?"),Hv("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),Hv("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),Hv("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let f=IM(i,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var As=n=>n.join("/").replace(/\/\/+/g,"/"),PM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function DM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var kC=["POST","PUT","PATCH","DELETE"];new Set(kC);var NM=["GET",...kC];new Set(NM);var pc=Q.createContext(null);pc.displayName="DataRouter";var Pg=Q.createContext(null);Pg.displayName="DataRouterState";var MC=Q.createContext({isTransitioning:!1});MC.displayName="ViewTransition";var kM=Q.createContext(new Map);kM.displayName="Fetchers";var MM=Q.createContext(null);MM.displayName="Await";var $i=Q.createContext(null);$i.displayName="Navigation";var lf=Q.createContext(null);lf.displayName="Location";var Gi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var xE=Q.createContext(null);xE.displayName="RouteError";function VM(n,{relative:e}={}){Ot(uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Q.useContext($i),{hash:i,pathname:o,search:u}=cf(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:As([t,o])),r.createHref({pathname:h,search:u,hash:i})}function uf(){return Q.useContext(lf)!=null}function _l(){return Ot(uf(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(lf).location}var VC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LC(n){Q.useContext($i).static||Q.useLayoutEffect(n)}function LM(){let{isDataRoute:n}=Q.useContext(Gi);return n?YM():UM()}function UM(){Ot(uf(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(pc),{basename:e,navigator:t}=Q.useContext($i),{matches:r}=Q.useContext(Gi),{pathname:i}=_l(),o=JSON.stringify(DC(r)),u=Q.useRef(!1);return LC(()=>{u.current=!0}),Q.useCallback((f,d={})=>{if(ri(u.current,VC),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=NC(f,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:As([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,i,n])}Q.createContext(null);function UC(){let{matches:n}=Q.useContext(Gi),e=n[n.length-1];return e?e.params:{}}function cf(n,{relative:e}={}){let{matches:t}=Q.useContext(Gi),{pathname:r}=_l(),i=JSON.stringify(DC(t));return Q.useMemo(()=>NC(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function BM(n,e){return BC(n,e)}function BC(n,e,t,r){var L;Ot(uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=Q.useContext($i),{matches:u}=Q.useContext(Gi),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let V=_&&_.path||"";FC(d,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let v=_l(),T;if(e){let V=typeof e=="string"?yl(e):e;Ot(g==="/"||((L=V.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=v;let w=T.pathname||"/",I=w;if(g!=="/"){let V=g.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(V.length).join("/")}let D=!o&&t&&t.matches&&t.matches.length>0?t.matches:PC(n,{pathname:I});ri(_||D!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ri(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=HM(D&&D.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:As([g,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:As([g,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r);return e&&U?Q.createElement(lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},U):U}function FM(){let n=QM(),e=DM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:o},"ErrorBoundary")," or"," ",Q.createElement("code",{style:o},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:i},t):null,u)}var zM=Q.createElement(FM,null),jM=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(Gi.Provider,{value:this.props.routeContext},Q.createElement(xE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qM({routeContext:n,match:e,children:t}){let r=Q.useContext(pc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Gi.Provider,{value:n},t)}function HM(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Ot(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:_}=t,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,d,g)=>{let _,v=!1,T=null,w=null;t&&(_=o&&d.route.id?o[d.route.id]:void 0,T=d.route.errorElement||zM,u&&(h<0&&g===0?(FC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===g&&(v=!0,w=d.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),D=()=>{let U;return _?U=T:v?U=w:d.route.Component?U=Q.createElement(d.route.Component,null):d.route.element?U=d.route.element:U=f,Q.createElement(qM,{match:d,routeContext:{outlet:f,matches:I,isDataRoute:t!=null},children:U})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?Q.createElement(jM,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):D()},null)}function OE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $M(n){let e=Q.useContext(pc);return Ot(e,OE(n)),e}function GM(n){let e=Q.useContext(Pg);return Ot(e,OE(n)),e}function KM(n){let e=Q.useContext(Gi);return Ot(e,OE(n)),e}function DE(n){let e=KM(n),t=e.matches[e.matches.length-1];return Ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function WM(){return DE("useRouteId")}function QM(){var r;let n=Q.useContext(xE),e=GM("useRouteError"),t=DE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function YM(){let{router:n}=$M("useNavigate"),e=DE("useNavigate"),t=Q.useRef(!1);return LC(()=>{t.current=!0}),Q.useCallback(async(i,o={})=>{ri(t.current,VC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var aI={};function FC(n,e,t){!e&&!aI[n]&&(aI[n]=!0,ri(!1,t))}Q.memo(XM);function XM({routes:n,future:e,state:t}){return BC(n,void 0,t,e)}function ba(n){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Ot(!uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=Q.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=yl(t));let{pathname:f="/",search:d="",hash:g="",state:_=null,key:v="default"}=t,T=Q.useMemo(()=>{let w=Rs(f,u);return w==null?null:{location:{pathname:w,search:d,hash:g,state:_,key:v},navigationType:r}},[u,f,d,g,_,v,r]);return ri(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:Q.createElement($i.Provider,{value:h},Q.createElement(lf.Provider,{children:e,value:T}))}function ZM({children:n,location:e}){return BM(C0(n),e)}function C0(n,e=[]){let t=[];return Q.Children.forEach(n,(r,i)=>{if(!Q.isValidElement(r))return;let o=[...e,i];if(r.type===Q.Fragment){t.push.apply(t,C0(r.props.children,o));return}Ot(r.type===ba,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=C0(r.props.children,o)),t.push(u)}),t}var Sm="get",Am="application/x-www-form-urlencoded";function xg(n){return n!=null&&typeof n.tagName=="string"}function eV(n){return xg(n)&&n.tagName.toLowerCase()==="button"}function tV(n){return xg(n)&&n.tagName.toLowerCase()==="form"}function nV(n){return xg(n)&&n.tagName.toLowerCase()==="input"}function rV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iV(n,e){return n.button===0&&(!e||e==="_self")&&!rV(n)}var um=null;function sV(){if(um===null)try{new FormData(document.createElement("form"),0),um=!1}catch{um=!0}return um}var aV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $v(n){return n!=null&&!aV.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Am}"`),null):n}function oV(n,e){let t,r,i,o,u;if(tV(n)){let h=n.getAttribute("action");r=h?Rs(h,e):null,t=n.getAttribute("method")||Sm,i=$v(n.getAttribute("enctype"))||Am,o=new FormData(n)}else if(eV(n)||nV(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Rs(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Sm,i=$v(n.getAttribute("formenctype"))||$v(h.getAttribute("enctype"))||Am,o=new FormData(h,n),!sV()){let{name:d,type:g,value:_}=n;if(g==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,_)}}else{if(xg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sm,r=null,i=Am,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function NE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function lV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cV(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await lV(o,t);return u.links?u.links():[]}return[]}));return pV(r.flat(1).filter(uV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function oI(n,e,t,r,i,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function hV(n,e,{includeHydrateFallback:t}={}){return dV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function dV(n){return[...new Set(n)]}function fV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function pV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(fV(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mV=new Set([100,101,204,205]);function gV(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Rs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function zC(){let n=Q.useContext(pc);return NE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yV(){let n=Q.useContext(Pg);return NE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var kE=Q.createContext(void 0);kE.displayName="FrameworkContext";function jC(){let n=Q.useContext(kE);return NE(n,"You must render this element inside a <HydratedRouter> element"),n}function _V(n,e){let t=Q.useContext(kE),[r,i]=Q.useState(!1),[o,u]=Q.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=e,v=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=U=>{U.forEach(L=>{u(L.isIntersecting)})},D=new IntersectionObserver(I,{threshold:.5});return v.current&&D.observe(v.current),()=>{D.disconnect()}}},[n]),Q.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},w=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Fh(h,T),onBlur:Fh(f,w),onMouseEnter:Fh(d,T),onMouseLeave:Fh(g,w),onTouchStart:Fh(_,T)}]:[!1,v,{}]}function Fh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vV({page:n,...e}){let{router:t}=zC(),r=Q.useMemo(()=>PC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Q.createElement(bV,{page:n,matches:r,...e}):null}function EV(n){let{manifest:e,routeModules:t}=jC(),[r,i]=Q.useState([]);return Q.useEffect(()=>{let o=!1;return cV(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function bV({page:n,matches:e,...t}){let r=_l(),{manifest:i,routeModules:o}=jC(),{basename:u}=zC(),{loaderData:h,matches:f}=yV(),d=Q.useMemo(()=>oI(n,e,f,i,r,"data"),[n,e,f,i,r]),g=Q.useMemo(()=>oI(n,e,f,i,r,"assets"),[n,e,f,i,r]),_=Q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,I=!1;if(e.forEach(U=>{var V;let L=i.routes[U.route.id];!L||!L.hasLoader||(!d.some(q=>q.route.id===U.route.id)&&U.route.id in h&&((V=o[U.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?I=!0:w.add(U.route.id))}),w.size===0)return[];let D=gV(n,u);return I&&w.size>0&&D.searchParams.set("_routes",e.filter(U=>w.has(U.route.id)).map(U=>U.route.id).join(",")),[D.pathname+D.search]},[u,h,r,i,d,e,n,o]),v=Q.useMemo(()=>hV(g,i),[g,i]),T=EV(g);return Q.createElement(Q.Fragment,null,_.map(w=>Q.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>Q.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),T.map(({key:w,link:I})=>Q.createElement("link",{key:w,...I})))}function wV(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qC&&(window.__reactRouterVersion="7.6.0")}catch{}function TV({basename:n,children:e,window:t}){let r=Q.useRef();r.current==null&&(r.current=uM({window:t,v5Compat:!0}));let i=r.current,[o,u]=Q.useState({action:i.action,location:i.location}),h=Q.useCallback(f=>{Q.startTransition(()=>u(f))},[u]);return Q.useLayoutEffect(()=>i.listen(h),[i,h]),Q.createElement(JM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var HC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nr=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:_,...v},T){let{basename:w}=Q.useContext($i),I=typeof d=="string"&&HC.test(d),D,U=!1;if(typeof d=="string"&&I&&(D=d,qC))try{let C=new URL(window.location.href),b=d.startsWith("//")?new URL(C.protocol+d):new URL(d),x=Rs(b.pathname,w);b.origin===C.origin&&x!=null?d=x+b.search+b.hash:U=!0}catch{ri(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=VM(d,{relative:i}),[V,q,B]=_V(r,v),G=RV(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:_});function M(C){e&&e(C),C.defaultPrevented||G(C)}let R=Q.createElement("a",{...v,...B,href:D||L,onClick:U||o?e:M,ref:wV(T,q),target:f,"data-discover":!I&&t==="render"?"true":void 0});return V&&!I?Q.createElement(Q.Fragment,null,R,Q.createElement(vV,{page:L})):R});nr.displayName="Link";var SV=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let _=cf(u,{relative:d.relative}),v=_l(),T=Q.useContext(Pg),{navigator:w,basename:I}=Q.useContext($i),D=T!=null&&DV(_)&&h===!0,U=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,L=v.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),V=V?V.toLowerCase():null,U=U.toLowerCase()),V&&I&&(V=Rs(V,I)||V);const q=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let B=L===U||!i&&L.startsWith(U)&&L.charAt(q)==="/",G=V!=null&&(V===U||!i&&V.startsWith(U)&&V.charAt(U.length)==="/"),M={isActive:B,isPending:G,isTransitioning:D},R=B?e:void 0,C;typeof r=="function"?C=r(M):C=[r,B?"active":null,G?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let b=typeof o=="function"?o(M):o;return Q.createElement(nr,{...d,"aria-current":R,className:C,ref:g,style:b,to:u,viewTransition:h},typeof f=="function"?f(M):f)});SV.displayName="NavLink";var AV=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Sm,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:_,...v},T)=>{let w=xV(),I=OV(h,{relative:d}),D=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&HC.test(h),L=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let q=V.nativeEvent.submitter,B=(q==null?void 0:q.getAttribute("formmethod"))||u;w(q||V.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:o,relative:d,preventScrollReset:g,viewTransition:_})};return Q.createElement("form",{ref:T,method:D,action:I,onSubmit:r?f:L,...v,"data-discover":!U&&n==="render"?"true":void 0})});AV.displayName="Form";function IV(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $C(n){let e=Q.useContext(pc);return Ot(e,IV(n)),e}function RV(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=LM(),f=_l(),d=cf(n,{relative:o});return Q.useCallback(g=>{if(iV(g,e)){g.preventDefault();let _=t!==void 0?t:Nd(f)===Nd(d);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[f,h,d,t,r,e,n,i,o,u])}var CV=0,PV=()=>`__${String(++CV)}__`;function xV(){let{router:n}=$C("useSubmit"),{basename:e}=Q.useContext($i),t=WM();return Q.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=oV(r,e);if(i.navigate===!1){let g=i.fetcherKey||PV();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function OV(n,{relative:e}={}){let{basename:t}=Q.useContext($i),r=Q.useContext(Gi);Ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...cf(n||".",{relative:e})},u=_l();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:As([t,o.pathname])),Nd(o)}function DV(n,e={}){let t=Q.useContext(MC);Ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$C("useViewTransitionState"),i=cf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Rs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Rs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qm(i.pathname,u)!=null||Qm(i.pathname,o)!=null}[...mV];const NV="_header_container_1kqa6_17",kV="_sticky_1kqa6_37",MV="_logo_container_1kqa6_51",VV="_delivery_1kqa6_83",LV="_search_1kqa6_121",UV="_right_container_1kqa6_211",BV="_language_1kqa6_245",FV="_cart_1kqa6_281",zV="_lower_container_1kqa6_337",Es={header_container:NV,sticky:kV,logo_container:MV,delivery:VV,search:LV,right_container:UV,language:BV,cart:FV,lower_container:zV};var GC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lI=Ia.createContext&&Ia.createContext(GC),jV=["attr","size","title"];function qV(n,e){if(n==null)return{};var t=HV(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function HV(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Ym(){return Ym=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ym.apply(this,arguments)}function uI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(t),!0).forEach(function(r){$V(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $V(n,e,t){return e=GV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GV(n){var e=KV(n,"string");return typeof e=="symbol"?e:e+""}function KV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KC(n){return n&&n.map((e,t)=>Ia.createElement(e.tag,Xm({key:t},e.attr),KC(e.child)))}function mc(n){return e=>Ia.createElement(WV,Ym({attr:Xm({},n.attr)},e),KC(n.child))}function WV(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=qV(n,jV),h=i||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ia.createElement("svg",Ym({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Xm(Xm({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ia.createElement("title",null,o),n.children)};return lI!==void 0?Ia.createElement(lI.Consumer,null,t=>e(t)):e(GC)}function QV(n){return mc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(n)}function YV(n){return mc({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function XV(n){return mc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function JV(n){return mc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function ZV(n){return mc({attr:{viewBox:"0 0 512 512"},child:[{tag:"ellipse",attr:{transform:"rotate(-1.057 159.995 423.97) scale(.99997)",cx:"160",cy:"424",rx:"24",ry:"24"},child:[]},{tag:"ellipse",attr:{transform:"matrix(.02382 -.9997 .9997 .02382 -48.51 798.282)",cx:"384.5",cy:"424",rx:"24",ry:"24"},child:[]},{tag:"path",attr:{d:"M463.8 132.2c-.7-2.4-2.8-4-5.2-4.2L132.9 96.5c-2.8-.3-6.2-2.1-7.5-4.7-3.8-7.1-6.2-11.1-12.2-18.6-7.7-9.4-22.2-9.1-48.8-9.3-9-.1-16.3 5.2-16.3 14.1 0 8.7 6.9 14.1 15.6 14.1s21.3.5 26 1.9c4.7 1.4 8.5 9.1 9.9 15.8 0 .1 0 .2.1.3.2 1.2 2 10.2 2 10.3l40 211.6c2.4 14.5 7.3 26.5 14.5 35.7 8.4 10.8 19.5 16.2 32.9 16.2h236.6c7.6 0 14.1-5.8 14.4-13.4.4-8-6-14.6-14-14.6H188.9c-2 0-4.9 0-8.3-2.8-3.5-3-8.3-9.9-11.5-26l-4.3-23.7c0-.3.1-.5.4-.6l277.7-47c2.6-.4 4.6-2.5 4.9-5.2l16-115.8c.2-.8.2-1.7 0-2.6z"},child:[]}]})(n)}function eL(n){return mc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function tL(){return K.jsx("nav",{className:Es.lower_container,children:K.jsxs("ul",{children:[K.jsxs("li",{children:[K.jsx(eL,{size:20}),"All"]}),K.jsx("li",{children:"Today's Deals"}),K.jsx("li",{children:"Customer Service"}),K.jsx("li",{children:"Registry"}),K.jsx("li",{children:"Gift Cards"}),K.jsx("li",{children:"Sell"})]})})}const Ra={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER"},WC={basket:[],user:null},QC=(n,e)=>{switch(e.type){case Ra.ADD_TO_BASKET:if(n.basket.find(r=>r.id===e.item.id)){const r=n.basket.map(i=>i.id===e.item.id?{...i,amount:i.amount+1}:i);return{...n,basket:r}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Ra.REMOVE_FROM_BASKET:{const t=n.basket.findIndex(i=>i.id===e.id);let r=[...n.basket];return t>=0&&(r[t].amount>1?r[t]={...r[t],amount:r[t].amount-1}:r.splice(t,1)),{...n,basket:r}}case Ra.SET_USER:return{...n,user:e.user};default:return n}},hf=Q.createContext(),nL=({children:n})=>{const[e,t]=Q.useReducer(QC,WC);return K.jsx(hf.Provider,{value:[e,t],children:n})};function rL(){const[{basket:n},e]=Q.useContext(hf),t=n==null?void 0:n.reduce((r,i)=>i.amount+r,0);return K.jsx(K.Fragment,{children:K.jsxs("section",{className:Es.sticky,children:[K.jsxs("header",{className:Es.header_container,children:[K.jsxs("div",{className:Es.logo_container,children:[K.jsx(nr,{to:"/",children:K.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon Logo"})}),K.jsxs("div",{className:Es.delivery,children:[K.jsx("span",{children:K.jsx(YV,{})}),K.jsxs("div",{children:[K.jsx("p",{children:"Deliver to"}),K.jsx("span",{children:"Ethiopia"})]})]})]}),K.jsxs("div",{className:Es.search,children:[K.jsxs("select",{children:[K.jsx("option",{value:"all",children:"All"}),K.jsx("option",{value:"books",children:"Books"}),K.jsx("option",{value:"electronics",children:"Electronics"})]}),K.jsx("input",{type:"text",placeholder:"Search Amazon"}),K.jsx("button",{children:K.jsx(QV,{size:25})})]}),K.jsxs("div",{className:Es.right_container,children:[K.jsxs(nr,{to:"#",className:Es.language,children:[K.jsx("img",{src:"https://www.shutterstock.com/shutterstock/photos/551168752/display_1500/stock-vector-usa-vector-flag-551168752.jpg",alt:"flag"}),K.jsx("select",{name:"",id:"",children:K.jsx("option",{value:"",children:"EN"})})]}),K.jsxs(nr,{to:"/signup",children:[K.jsx("p",{children:"Hello, Sign in"}),K.jsx("span",{children:"Account & Lists"})]}),K.jsxs(nr,{to:"/orders",children:[K.jsx("p",{children:"Returns"}),K.jsx("span",{children:"& Orders"})]}),K.jsxs(nr,{to:"/cart",className:Es.cart,children:[K.jsx(ZV,{size:35}),K.jsx("span",{children:t})]})]})]}),K.jsx(tL,{})]})})}function rl({children:n}){return K.jsxs(K.Fragment,{children:[K.jsx(rL,{}),n]})}var Gv={},zh={},cm={},hm={},Kv={exports:{}},Wv,cI;function iL(){if(cI)return Wv;cI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wv=n,Wv}var Qv,hI;function sL(){if(hI)return Qv;hI=1;var n=iL();function e(){}function t(){}return t.resetWarningCache=e,Qv=function(){function r(u,h,f,d,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Qv}var dI;function aL(){return dI||(dI=1,Kv.exports=sL()()),Kv.exports}var fI;function oL(){return fI||(fI=1,function(n){(function(e,t){t(n,Wa(),aL())})(hm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var i=u(t),o=u(r);function u(L){return L&&L.__esModule?L:{default:L}}var h=Object.assign||function(L){for(var V=1;V<arguments.length;V++){var q=arguments[V];for(var B in q)Object.prototype.hasOwnProperty.call(q,B)&&(L[B]=q[B])}return L};function f(L,V){var q={};for(var B in L)V.indexOf(B)>=0||Object.prototype.hasOwnProperty.call(L,B)&&(q[B]=L[B]);return q}function d(L,V){if(!(L instanceof V))throw new TypeError("Cannot call a class as a function")}var g=function(){function L(V,q){for(var B=0;B<q.length;B++){var G=q[B];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(V,G.key,G)}}return function(V,q,B){return q&&L(V.prototype,q),B&&L(V,B),V}}();function _(L,V){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:L}function v(L,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);L.prototype=Object.create(V&&V.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(L,V):L.__proto__=V)}var T=!1;function w(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function I(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function D(L){if("touches"in L){var V=L.touches[0],q=V.pageX,B=V.pageY;return{x:q,y:B}}var G=L.screenX,M=L.screenY;return{x:G,y:M}}var U=function(L){v(V,L);function V(){var q;d(this,V);for(var B=arguments.length,G=Array(B),M=0;M<B;M++)G[M]=arguments[M];var R=_(this,(q=V.__proto__||Object.getPrototypeOf(V)).call.apply(q,[this].concat(G)));return R._handleSwipeStart=R._handleSwipeStart.bind(R),R._handleSwipeMove=R._handleSwipeMove.bind(R),R._handleSwipeEnd=R._handleSwipeEnd.bind(R),R._onMouseDown=R._onMouseDown.bind(R),R._onMouseMove=R._onMouseMove.bind(R),R._onMouseUp=R._onMouseUp.bind(R),R._setSwiperRef=R._setSwiperRef.bind(R),R}return g(V,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(B){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(B))}},{key:"_onMouseMove",value:function(B){this.mouseDown&&this._handleSwipeMove(B)}},{key:"_onMouseUp",value:function(B){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(B)}},{key:"_handleSwipeStart",value:function(B){var G=D(B),M=G.x,R=G.y;this.moveStart={x:M,y:R},this.props.onSwipeStart(B)}},{key:"_handleSwipeMove",value:function(B){if(this.moveStart){var G=D(B),M=G.x,R=G.y,C=M-this.moveStart.x,b=R-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:C,y:b},B);x&&B.cancelable&&B.preventDefault(),this.movePosition={deltaX:C,deltaY:b}}}},{key:"_handleSwipeEnd",value:function(B){this.props.onSwipeEnd(B);var G=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-G?this.props.onSwipeLeft(1,B):this.movePosition.deltaX>G&&this.props.onSwipeRight(1,B),this.movePosition.deltaY<-G?this.props.onSwipeUp(1,B):this.movePosition.deltaY>G&&this.props.onSwipeDown(1,B)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(B){this.swiper=B,this.props.innerRef(B)}},{key:"render",value:function(){var B=this.props;B.tagName;var G=B.className,M=B.style,R=B.children;B.allowMouseEvents,B.onSwipeUp,B.onSwipeDown,B.onSwipeLeft,B.onSwipeRight,B.onSwipeStart,B.onSwipeMove,B.onSwipeEnd,B.innerRef,B.tolerance;var C=f(B,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:G,style:M},C),R)}}]),V}(t.Component);U.displayName="ReactSwipe",U.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},U.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=U})}(hm)),hm}var pI;function YC(){return pI||(pI=1,function(n){(function(e,t){t(n,oL())})(cm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(cm)),cm}var jh={},Yv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var mI;function lL(){return mI||(mI=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Yv)),Yv.exports}var gI;function XC(){if(gI)return jh;gI=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.default=void 0;var n=e(lL());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return jh.default=r,jh}var qh={},Hh={},yI;function uL(){if(yI)return Hh;yI=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return Hh.outerWidth=n,Hh}var $h={},_I;function ME(){if(_I)return $h;_I=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",f="("+u.join(",")+")";return h+f};return $h.default=n,$h}var Gh={},vI;function JC(){if(vI)return Gh;vI=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.default=void 0;var n=function(){return window};return Gh.default=n,Gh}var EI;function ZC(){if(EI)return qh;EI=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.default=void 0;var n=f(Wa()),e=u(XC()),t=uL(),r=u(ME()),i=u(YC()),o=u(JC());function u(R){return R&&R.__esModule?R:{default:R}}function h(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return h=function(){return R},R}function f(R){if(R&&R.__esModule)return R;if(R===null||d(R)!=="object"&&typeof R!="function")return{default:R};var C=h();if(C&&C.has(R))return C.get(R);var b={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in R)if(Object.prototype.hasOwnProperty.call(R,P)){var O=x?Object.getOwnPropertyDescriptor(R,P):null;O&&(O.get||O.set)?Object.defineProperty(b,P,O):b[P]=R[P]}return b.default=R,C&&C.set(R,b),b}function d(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(b){return typeof b}:d=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},d(R)}function g(){return g=Object.assign||function(R){for(var C=1;C<arguments.length;C++){var b=arguments[C];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(R[x]=b[x])}return R},g.apply(this,arguments)}function _(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}function v(R,C){for(var b=0;b<C.length;b++){var x=C[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(R,x.key,x)}}function T(R,C,b){return C&&v(R.prototype,C),R}function w(R,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),C&&I(R,C)}function I(R,C){return I=Object.setPrototypeOf||function(x,P){return x.__proto__=P,x},I(R,C)}function D(R){var C=V();return function(){var x=q(R),P;if(C){var O=q(this).constructor;P=Reflect.construct(x,arguments,O)}else P=x.apply(this,arguments);return U(this,P)}}function U(R,C){return C&&(d(C)==="object"||typeof C=="function")?C:L(R)}function L(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q(R){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},q(R)}function B(R,C,b){return C in R?Object.defineProperty(R,C,{value:b,enumerable:!0,configurable:!0,writable:!0}):R[C]=b,R}var G=function(C){return C.hasOwnProperty("key")},M=function(R){w(b,R);var C=D(b);function b(x){var P;return _(this,b),P=C.call(this,x),B(L(P),"itemsWrapperRef",void 0),B(L(P),"itemsListRef",void 0),B(L(P),"thumbsRef",void 0),B(L(P),"setItemsWrapperRef",function(O){P.itemsWrapperRef=O}),B(L(P),"setItemsListRef",function(O){P.itemsListRef=O}),B(L(P),"setThumbsRef",function(O,se){P.thumbsRef||(P.thumbsRef=[]),P.thumbsRef[se]=O}),B(L(P),"updateSizes",function(){if(!(!P.props.children||!P.itemsWrapperRef||!P.thumbsRef)){var O=n.Children.count(P.props.children),se=P.itemsWrapperRef.clientWidth,F=P.props.thumbWidth?P.props.thumbWidth:(0,t.outerWidth)(P.thumbsRef[0]),$=Math.floor(se/F),ee=$<O,oe=ee?O-$:0;P.setState(function(we,j){return{itemSize:F,visibleItems:$,firstItem:ee?P.getFirstItem(j.selectedItem):0,lastPosition:oe,showArrows:ee}})}}),B(L(P),"handleClickItem",function(O,se,F){if(!G(F)||F.key==="Enter"){var $=P.props.onSelectItem;typeof $=="function"&&$(O,se)}}),B(L(P),"onSwipeStart",function(){P.setState({swiping:!0})}),B(L(P),"onSwipeEnd",function(){P.setState({swiping:!1})}),B(L(P),"onSwipeMove",function(O){var se=O.x;if(!P.state.itemSize||!P.itemsWrapperRef||!P.state.visibleItems)return!1;var F=0,$=n.Children.count(P.props.children),ee=-(P.state.firstItem*100)/P.state.visibleItems,oe=Math.max($-P.state.visibleItems,0),we=-oe*100/P.state.visibleItems;ee===F&&se>0&&(se=0),ee===we&&se<0&&(se=0);var j=P.itemsWrapperRef.clientWidth,le=ee+100/(j/se);return P.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ye){P.itemsListRef.style[ye]=(0,r.default)(le,"%",P.props.axis)}),!0}),B(L(P),"slideRight",function(O){P.moveTo(P.state.firstItem-(typeof O=="number"?O:1))}),B(L(P),"slideLeft",function(O){P.moveTo(P.state.firstItem+(typeof O=="number"?O:1))}),B(L(P),"moveTo",function(O){O=O<0?0:O,O=O>=P.state.lastPosition?P.state.lastPosition:O,P.setState({firstItem:O})}),P.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},P}return T(b,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(P){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==P.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(P){var O=P;return P>=this.state.lastPosition&&(O=this.state.lastPosition),P<this.state.firstItem+this.state.visibleItems&&(O=this.state.firstItem),P<this.state.firstItem&&(O=P),O}},{key:"renderItems",value:function(){var P=this;return this.props.children.map(function(O,se){var F=e.default.ITEM(!1,se===P.state.selectedItem),$={key:se,ref:function(oe){return P.setThumbsRef(oe,se)},className:F,onClick:P.handleClickItem.bind(P,se,P.props.children[se]),onKeyDown:P.handleClickItem.bind(P,se,P.props.children[se]),"aria-label":"".concat(P.props.labels.item," ").concat(se+1),style:{width:P.props.thumbWidth}};return n.default.createElement("li",g({},$,{role:"button",tabIndex:0}),O)})}},{key:"render",value:function(){var P=this;if(!this.props.children)return null;var O=n.Children.count(this.props.children)>1,se=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,$={},ee=-this.state.firstItem*(this.state.itemSize||0),oe=(0,r.default)(ee,"px",this.props.axis),we=this.props.transitionTime+"ms";return $={WebkitTransform:oe,MozTransform:oe,MsTransform:oe,OTransform:oe,transform:oe,msTransform:oe,WebkitTransitionDuration:we,MozTransitionDuration:we,MsTransitionDuration:we,OTransitionDuration:we,transitionDuration:we,msTransitionDuration:we},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!se),onClick:function(){return P.slideRight()},"aria-label":this.props.labels.leftArrow}),O?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:$,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(le){return P.setItemsListRef(le)},style:$},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return P.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),b}(n.Component);return qh.default=M,B(M,"displayName","Thumbs"),B(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),qh}var Kh={},bI;function cL(){if(bI)return Kh;bI=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.default=void 0;var n=function(){return document};return Kh.default=n,Kh}var _r={},wI;function eP(){if(wI)return _r;wI=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.setPosition=_r.getPosition=_r.isKeyboardEvent=_r.defaultStatusFormatter=_r.noop=void 0;var n=Wa(),e=t(ME());function t(f){return f&&f.__esModule?f:{default:f}}var r=function(){};_r.noop=r;var i=function(d,g){return"".concat(d," of ").concat(g)};_r.defaultStatusFormatter=i;var o=function(d){return d?d.hasOwnProperty("key"):!1};_r.isKeyboardEvent=o;var u=function(d,g){if(g.infiniteLoop&&++d,d===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-d*g.centerSlidePercentage,T=_-1;return d&&(d!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:d===T&&(v+=100-g.centerSlidePercentage),v}return-d*100};_r.getPosition=u;var h=function(d,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(d,"%",g)}),_};return _r.setPosition=h,_r}var ei={},TI;function hL(){if(TI)return ei;TI=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.fadeAnimationHandler=ei.slideStopSwipingHandler=ei.slideSwipeAnimationHandler=ei.slideAnimationHandler=void 0;var n=Wa(),e=r(ME()),t=eP();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),T.push.apply(T,w)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(w){u(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var w={},I=T.selectedItem,D=I,U=n.Children.count(v.children)-1,L=v.infiniteLoop&&(I<0||I>U);if(L)return D<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(U+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(U+2)*100,v.axis):D>U&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var V=(0,t.getPosition)(I,v),q=(0,e.default)(V,"%",v.axis),B=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:q,msTransform:q,OTransform:q,transform:q},T.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:B,MozTransitionDuration:B,OTransitionDuration:B,transitionDuration:B,msTransitionDuration:B})),w};ei.slideAnimationHandler=h;var f=function(v,T,w,I){var D={},U=T.axis==="horizontal",L=n.Children.count(T.children),V=0,q=(0,t.getPosition)(w.selectedItem,T),B=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),G=U?v.x:v.y,M=G;q===V&&G>0&&(M=0),q===B&&G<0&&(M=0);var R=q+100/(w.itemSize/M),C=Math.abs(G)>T.swipeScrollTolerance;return T.infiniteLoop&&C&&(w.selectedItem===0&&R>-100?R-=L*100:w.selectedItem===L-1&&R<-L*100&&(R+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||C||w.swipeMovementStarted)&&(w.swipeMovementStarted||I({swipeMovementStarted:!0}),D.itemListStyle=(0,t.setPosition)(R,T.axis)),C&&!w.cancelClick&&I({cancelClick:!0}),D};ei.slideSwipeAnimationHandler=f;var d=function(v,T){var w=(0,t.getPosition)(T.selectedItem,v),I=(0,t.setPosition)(w,v.axis);return{itemListStyle:I}};ei.slideStopSwipingHandler=d;var g=function(v,T){var w=v.transitionTime+"ms",I="ease-in-out",D={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:I,msTransitionTimingFunction:I,MozTransitionTimingFunction:I,WebkitTransitionTimingFunction:I,OTransitionTimingFunction:I};return T.swiping||(D=o(o({},D),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:D,selectedStyle:o(o({},D),{},{opacity:1,position:"relative"}),prevStyle:o({},D)}};return ei.fadeAnimationHandler=g,ei}var SI;function dL(){if(SI)return zh;SI=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.default=void 0;var n=g(Wa()),e=f(YC()),t=f(XC()),r=f(ZC()),i=f(cL()),o=f(JC()),u=eP(),h=hL();function f(x){return x&&x.__esModule?x:{default:x}}function d(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return d=function(){return x},x}function g(x){if(x&&x.__esModule)return x;if(x===null||_(x)!=="object"&&typeof x!="function")return{default:x};var P=d();if(P&&P.has(x))return P.get(x);var O={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in x)if(Object.prototype.hasOwnProperty.call(x,F)){var $=se?Object.getOwnPropertyDescriptor(x,F):null;$&&($.get||$.set)?Object.defineProperty(O,F,$):O[F]=x[F]}return O.default=x,P&&P.set(x,O),O}function _(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(O){return typeof O}:_=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},_(x)}function v(){return v=Object.assign||function(x){for(var P=1;P<arguments.length;P++){var O=arguments[P];for(var se in O)Object.prototype.hasOwnProperty.call(O,se)&&(x[se]=O[se])}return x},v.apply(this,arguments)}function T(x,P){var O=Object.keys(x);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(x);P&&(se=se.filter(function(F){return Object.getOwnPropertyDescriptor(x,F).enumerable})),O.push.apply(O,se)}return O}function w(x){for(var P=1;P<arguments.length;P++){var O=arguments[P]!=null?arguments[P]:{};P%2?T(Object(O),!0).forEach(function(se){C(x,se,O[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(O)):T(Object(O)).forEach(function(se){Object.defineProperty(x,se,Object.getOwnPropertyDescriptor(O,se))})}return x}function I(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}function D(x,P){for(var O=0;O<P.length;O++){var se=P[O];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(x,se.key,se)}}function U(x,P,O){return P&&D(x.prototype,P),x}function L(x,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),P&&V(x,P)}function V(x,P){return V=Object.setPrototypeOf||function(se,F){return se.__proto__=F,se},V(x,P)}function q(x){var P=M();return function(){var se=R(x),F;if(P){var $=R(this).constructor;F=Reflect.construct(se,arguments,$)}else F=se.apply(this,arguments);return B(this,F)}}function B(x,P){return P&&(_(P)==="object"||typeof P=="function")?P:G(x)}function G(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(x){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},R(x)}function C(x,P,O){return P in x?Object.defineProperty(x,P,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[P]=O,x}var b=function(x){L(O,x);var P=q(O);function O(se){var F;I(this,O),F=P.call(this,se),C(G(F),"thumbsRef",void 0),C(G(F),"carouselWrapperRef",void 0),C(G(F),"listRef",void 0),C(G(F),"itemsRef",void 0),C(G(F),"timer",void 0),C(G(F),"animationHandler",void 0),C(G(F),"setThumbsRef",function(ee){F.thumbsRef=ee}),C(G(F),"setCarouselWrapperRef",function(ee){F.carouselWrapperRef=ee}),C(G(F),"setListRef",function(ee){F.listRef=ee}),C(G(F),"setItemsRef",function(ee,oe){F.itemsRef||(F.itemsRef=[]),F.itemsRef[oe]=ee}),C(G(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),C(G(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),C(G(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),C(G(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),C(G(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),C(G(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(G(F),"navigateWithKeyboard",function(ee){if(F.isFocusWithinTheCarousel()){var oe=F.props.axis,we=oe==="horizontal",j={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},le=we?j.ArrowRight:j.ArrowDown,ye=we?j.ArrowLeft:j.ArrowUp;le===ee.keyCode?F.increment():ye===ee.keyCode&&F.decrement()}}),C(G(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var ee=F.props.axis==="horizontal",oe=F.itemsRef[0];if(oe){var we=ee?oe.clientWidth:oe.clientHeight;F.setState({itemSize:we}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),C(G(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),C(G(F),"handleClickItem",function(ee,oe){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(ee,oe),ee!==F.state.selectedItem&&F.setState({selectedItem:ee})}}),C(G(F),"handleOnChange",function(ee,oe){n.Children.count(F.props.children)<=1||F.props.onChange(ee,oe)}),C(G(F),"handleClickThumb",function(ee,oe){F.props.onClickThumb(ee,oe),F.moveTo(ee)}),C(G(F),"onSwipeStart",function(ee){F.setState({swiping:!0}),F.props.onSwipeStart(ee)}),C(G(F),"onSwipeEnd",function(ee){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(ee),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),C(G(F),"onSwipeMove",function(ee,oe){F.props.onSwipeMove(oe);var we=F.props.swipeAnimationHandler(ee,F.props,F.state,F.setState.bind(G(F)));return F.setState(w({},we)),!!Object.keys(we).length}),C(G(F),"decrement",function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof ee=="number"?ee:1))}),C(G(F),"increment",function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof ee=="number"?ee:1))}),C(G(F),"moveTo",function(ee){if(typeof ee=="number"){var oe=n.Children.count(F.props.children)-1;ee<0&&(ee=F.props.infiniteLoop?oe:0),ee>oe&&(ee=F.props.infiniteLoop?0:oe),F.selectItem({selectedItem:ee}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),C(G(F),"onClickNext",function(){F.increment(1)}),C(G(F),"onClickPrev",function(){F.decrement(1)}),C(G(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(G(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(G(F),"changeItem",function(ee){return function(oe){(!(0,u.isKeyboardEvent)(oe)||oe.key==="Enter")&&F.moveTo(ee)}}),C(G(F),"selectItem",function(ee){F.setState(w({previousItem:F.state.selectedItem},ee),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(ee.selectedItem,n.Children.toArray(F.props.children)[ee.selectedItem])}),C(G(F),"getInitialImage",function(){var ee=F.props.selectedItem,oe=F.itemsRef&&F.itemsRef[ee],we=oe&&oe.getElementsByTagName("img")||[];return we[0]}),C(G(F),"getVariableItemHeight",function(ee){var oe=F.itemsRef&&F.itemsRef[ee];if(F.state.hasMount&&oe&&oe.children.length){var we=oe.children[0].getElementsByTagName("img")||[];if(we.length>0){var j=we[0];if(!j.complete){var le=function Te(){F.forceUpdate(),j.removeEventListener("load",Te)};j.addEventListener("load",le)}}var ye=we[0]||oe.children[0],me=ye.clientHeight;return me>0?me:null}return null});var $={initialized:!1,previousItem:se.selectedItem,selectedItem:se.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:se.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof se.animationHandler=="function"&&se.animationHandler||se.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,F.state=w(w({},$),F.animationHandler(se,$)),F}return U(O,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,$){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),$.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var $=F.getInitialImage();$&&!$.complete?$.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var $=this;return this.props.children?n.Children.map(this.props.children,function(ee,oe){var we=oe===$.state.selectedItem,j=oe===$.state.previousItem,le=we&&$.state.selectedStyle||j&&$.state.prevStyle||$.state.slideStyle||{};$.props.centerMode&&$.props.axis==="horizontal"&&(le=w(w({},le),{},{minWidth:$.props.centerSlidePercentage+"%"})),$.state.swiping&&$.state.swipeMovementStarted&&(le=w(w({},le),{},{pointerEvents:"none"}));var ye={ref:function(Te){return $.setItemsRef(Te,oe)},key:"itemKey"+oe+(F?"clone":""),className:t.default.ITEM(!0,oe===$.state.selectedItem,oe===$.state.previousItem),onClick:$.handleClickItem.bind($,oe,ee),style:le};return n.default.createElement("li",ye,$.props.renderItem(ee,{isSelected:oe===$.state.selectedItem,isPrevious:oe===$.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,$=this.props,ee=$.showIndicators,oe=$.labels,we=$.renderIndicator,j=$.children;return ee?n.default.createElement("ul",{className:"control-dots"},n.Children.map(j,function(le,ye){return we&&we(F.changeItem(ye),ye===F.state.selectedItem,ye,oe.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var $=this.props.swipeable&&n.Children.count(this.props.children)>1,ee=this.props.axis==="horizontal",oe=this.props.showArrows&&n.Children.count(this.props.children)>1,we=oe&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,j=oe&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,le=this.renderItems(!0),ye=le.shift(),me=le.pop(),Te={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},ke={};if(ee){if(Te.onSwipeLeft=this.onSwipeForward,Te.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Pe=this.getVariableItemHeight(this.state.selectedItem);ke.height=Pe||"auto"}}else Te.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Te.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Te.style=w(w({},Te.style),{},{height:this.state.itemSize}),ke.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,we,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:ke},$?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},Te,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ye):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(nt){return F.setListRef(nt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ye)),this.props.renderArrowNext(this.onClickNext,j,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),O}(n.default.Component);return zh.default=b,C(b,"displayName","Carousel"),C(b,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(P,O,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_PREV(!O),onClick:P})},renderArrowNext:function(P,O,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_NEXT(!O),onClick:P})},renderIndicator:function(P,O,se,F){return n.default.createElement("li",{className:t.default.DOT(O),onClick:P,onKeyDown:P,value:se,key:se,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(se+1)})},renderItem:function(P){return P},renderThumbs:function(P){var O=n.Children.map(P,function(se){var F=se;if(se.type!=="img"&&(F=n.Children.toArray(se.props.children).find(function($){return $.type==="img"})),!!F)return F});return O.filter(function(se){return se}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):O},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),zh}var AI={},II;function fL(){return II||(II=1),AI}var RI;function pL(){return RI||(RI=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(dL()),t=fL(),r=i(ZC());function i(o){return o&&o.__esModule?o:{default:o}}}(Gv)),Gv}var mL=pL();const gL="_hero_img_43qv8_1",yL={hero_img:gL},_L="/Amazon-project-Clone-2025/assets/10001-DTQI8t-r.jpg",vL="/Amazon-project-Clone-2025/assets/10004-BhkNqLao.jpg",EL="/Amazon-project-Clone-2025/assets/10005-CNuWTfyc.jpg",bL="/Amazon-project-Clone-2025/assets/10006-DpB7ZADE.jpg",wL="/Amazon-project-Clone-2025/assets/10007-C4gIoyS2.jpg",TL=[_L,vL,EL,bL,wL];function SL(){return K.jsxs("div",{children:[K.jsx(mL.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,showArrows:!1,children:TL.map(n=>K.jsx("img",{src:n},n))}),K.jsx("div",{className:yL.hero_img,children:" "})]})}const AL=[,{id:3,title:"Mens Cotton Jacket",price:55.99,description:"great outerwear jackets for Spring/Autumn/Winter, suitable for many occasions, such as working, hiking, camping, mountain/rock climbing, cycling, traveling or other outdoors. Good gift choice for you or your family member. A warm hearted love to Father, husband or son in this thanksgiving or Christmas Day.",category:"men's clothing",image:"https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg",rating:{rate:4.7,count:500}},{id:5,title:"John Hardy Women's Legends Naga Gold & Silver Dragon Station Chain Bracelet",price:695,description:"From our Legends Collection, the Naga was inspired by the mythical water dragon that protects the ocean's pearl. Wear facing inward to be bestowed with love and abundance, or outward for protection.",category:"jewelery",image:"https://fakestoreapi.com/img/71pWzhdJNwL._AC_UL640_QL65_ML3_.jpg",rating:{rate:4.6,count:400}},{id:9,title:"WD 2TB Elements Portable External Hard Drive - USB 3.0 ",price:64,description:"USB 3.0 and USB 2.0 Compatibility Fast data transfers Improve PC Performance High Capacity; Compatibility Formatted NTFS for Windows 10, Windows 8.1, Windows 7; Reformatting may be required for other operating systems; Compatibility may vary depending on users hardware configuration and operating system",category:"electronics",image:"https://fakestoreapi.com/img/61IBBVJvSDL._AC_SY879_.jpg",rating:{rate:3.3,count:203}},{id:15,title:"BIYLACLESEN Women's 3-in-1 Snowboard Jacket Winter Coats",price:56.99,description:"Note:The Jackets is US standard size, Please choose size as your usual wear Material: 100% Polyester; Detachable Liner Fabric: Warm Fleece. Detachable Functional Liner: Skin Friendly, Lightweigt and Warm.Stand Collar Liner jacket, keep you warm in cold weather. Zippered Pockets: 2 Zippered Hand Pockets, 2 Zippered Pockets on Chest (enough to keep cards or keys)and 1 Hidden Pocket Inside.Zippered Hand Pockets and Hidden Pocket keep your things secure. Humanized Design: Adjustable and Detachable Hood and Adjustable cuff to prevent the wind and water,for a comfortable fit. 3 in 1 Detachable Design provide more convenience, you can separate the coat and inner as needed, or wear it together. It is suitable for different season and help you adapt to different climates",category:"women's clothing",image:"https://fakestoreapi.com/img/51Y5NI-I5jL._AC_UX679_.jpg",rating:{rate:2.6,count:235}}],IL="_category_1u8rn_1",RL="_category_container_1u8rn_65",tP={category:IL,category_container:RL};function CL({data:n}){return console.log(n),K.jsx("div",{className:tP.category,children:K.jsxs(nr,{to:`/category/${n.category}`,children:[K.jsx("h2",{children:n.category}),K.jsx("img",{src:n.image,alt:n.category}),K.jsx("p",{children:"Shop now"})]})})}function PL(){return K.jsx("section",{className:tP.category_container,children:AL.map(n=>K.jsx(CL,{data:n},n.id))})}function nP(n,e){return function(){return n.apply(e,arguments)}}const{toString:xL}=Object.prototype,{getPrototypeOf:VE}=Object,{iterator:Og,toStringTag:rP}=Symbol,Dg=(n=>e=>{const t=xL.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),si=n=>(n=n.toLowerCase(),e=>Dg(e)===n),Ng=n=>e=>typeof e===n,{isArray:gc}=Array,kd=Ng("undefined");function OL(n){return n!==null&&!kd(n)&&n.constructor!==null&&!kd(n.constructor)&&ar(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const iP=si("ArrayBuffer");function DL(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&iP(n.buffer),e}const NL=Ng("string"),ar=Ng("function"),sP=Ng("number"),kg=n=>n!==null&&typeof n=="object",kL=n=>n===!0||n===!1,Im=n=>{if(Dg(n)!=="object")return!1;const e=VE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(rP in n)&&!(Og in n)},ML=si("Date"),VL=si("File"),LL=si("Blob"),UL=si("FileList"),BL=n=>kg(n)&&ar(n.pipe),FL=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ar(n.append)&&((e=Dg(n))==="formdata"||e==="object"&&ar(n.toString)&&n.toString()==="[object FormData]"))},zL=si("URLSearchParams"),[jL,qL,HL,$L]=["ReadableStream","Request","Response","Headers"].map(si),GL=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function df(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),gc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function aP(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Ko=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oP=n=>!kd(n)&&n!==Ko;function P0(){const{caseless:n}=oP(this)&&this||{},e={},t=(r,i)=>{const o=n&&aP(e,i)||i;Im(e[o])&&Im(r)?e[o]=P0(e[o],r):Im(r)?e[o]=P0({},r):gc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&df(arguments[r],t);return e}const KL=(n,e,t,{allOwnKeys:r}={})=>(df(e,(i,o)=>{t&&ar(i)?n[o]=nP(i,t):n[o]=i},{allOwnKeys:r}),n),WL=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),QL=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},YL=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&VE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},XL=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},JL=n=>{if(!n)return null;if(gc(n))return n;let e=n.length;if(!sP(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},ZL=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&VE(Uint8Array)),e4=(n,e)=>{const r=(n&&n[Og]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},t4=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},n4=si("HTMLFormElement"),r4=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),CI=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),i4=si("RegExp"),lP=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};df(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},s4=n=>{lP(n,(e,t)=>{if(ar(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ar(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},a4=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return gc(n)?r(n):r(String(n).split(e)),t},o4=()=>{},l4=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function u4(n){return!!(n&&ar(n.append)&&n[rP]==="FormData"&&n[Og])}const c4=n=>{const e=new Array(10),t=(r,i)=>{if(kg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=gc(r)?[]:{};return df(r,(u,h)=>{const f=t(u,i+1);!kd(f)&&(o[h]=f)}),e[i]=void 0,o}}return r};return t(n,0)},h4=si("AsyncFunction"),d4=n=>n&&(kg(n)||ar(n))&&ar(n.then)&&ar(n.catch),uP=((n,e)=>n?setImmediate:e?((t,r)=>(Ko.addEventListener("message",({source:i,data:o})=>{i===Ko&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Ko.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ar(Ko.postMessage)),f4=typeof queueMicrotask<"u"?queueMicrotask.bind(Ko):typeof process<"u"&&process.nextTick||uP,p4=n=>n!=null&&ar(n[Og]),ae={isArray:gc,isArrayBuffer:iP,isBuffer:OL,isFormData:FL,isArrayBufferView:DL,isString:NL,isNumber:sP,isBoolean:kL,isObject:kg,isPlainObject:Im,isReadableStream:jL,isRequest:qL,isResponse:HL,isHeaders:$L,isUndefined:kd,isDate:ML,isFile:VL,isBlob:LL,isRegExp:i4,isFunction:ar,isStream:BL,isURLSearchParams:zL,isTypedArray:ZL,isFileList:UL,forEach:df,merge:P0,extend:KL,trim:GL,stripBOM:WL,inherits:QL,toFlatObject:YL,kindOf:Dg,kindOfTest:si,endsWith:XL,toArray:JL,forEachEntry:e4,matchAll:t4,isHTMLForm:n4,hasOwnProperty:CI,hasOwnProp:CI,reduceDescriptors:lP,freezeMethods:s4,toObjectSet:a4,toCamelCase:r4,noop:o4,toFiniteNumber:l4,findKey:aP,global:Ko,isContextDefined:oP,isSpecCompliantForm:u4,toJSONObject:c4,isAsyncFn:h4,isThenable:d4,setImmediate:uP,asap:f4,isIterable:p4};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ae.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const cP=Me.prototype,hP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{hP[n]={value:n}});Object.defineProperties(Me,hP);Object.defineProperty(cP,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,o)=>{const u=Object.create(cP);return ae.toFlatObject(n,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Me.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const m4=null;function x0(n){return ae.isPlainObject(n)||ae.isArray(n)}function dP(n){return ae.endsWith(n,"[]")?n.slice(0,-2):n}function PI(n,e,t){return n?n.concat(e).map(function(i,o){return i=dP(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function g4(n){return ae.isArray(n)&&!n.some(x0)}const y4=ae.toFlatObject(ae,{},null,function(e){return/^is[A-Z]/.test(e)});function Mg(n,e,t){if(!ae.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ae.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,D){return!ae.isUndefined(D[I])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(e);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(ae.isDate(w))return w.toISOString();if(!f&&ae.isBlob(w))throw new Me("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(w)||ae.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,I,D){let U=w;if(w&&!D&&typeof w=="object"){if(ae.endsWith(I,"{}"))I=r?I:I.slice(0,-2),w=JSON.stringify(w);else if(ae.isArray(w)&&g4(w)||(ae.isFileList(w)||ae.endsWith(I,"[]"))&&(U=ae.toArray(w)))return I=dP(I),U.forEach(function(V,q){!(ae.isUndefined(V)||V===null)&&e.append(u===!0?PI([I],q,o):u===null?I:I+"[]",d(V))}),!1}return x0(w)?!0:(e.append(PI(D,I,o),d(w)),!1)}const _=[],v=Object.assign(y4,{defaultVisitor:g,convertValue:d,isVisitable:x0});function T(w,I){if(!ae.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+I.join("."));_.push(w),ae.forEach(w,function(U,L){(!(ae.isUndefined(U)||U===null)&&i.call(e,U,ae.isString(L)?L.trim():L,I,v))===!0&&T(U,I?I.concat(L):[L])}),_.pop()}}if(!ae.isObject(n))throw new TypeError("data must be an object");return T(n),e}function xI(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function LE(n,e){this._pairs=[],n&&Mg(n,this,e)}const fP=LE.prototype;fP.append=function(e,t){this._pairs.push([e,t])};fP.toString=function(e){const t=e?function(r){return e.call(this,r,xI)}:xI;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function _4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pP(n,e,t){if(!e)return n;const r=t&&t.encode||_4;ae.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=ae.isURLSearchParams(e)?e.toString():new LE(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class OI{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v4=typeof URLSearchParams<"u"?URLSearchParams:LE,E4=typeof FormData<"u"?FormData:null,b4=typeof Blob<"u"?Blob:null,w4={isBrowser:!0,classes:{URLSearchParams:v4,FormData:E4,Blob:b4},protocols:["http","https","file","blob","url","data"]},UE=typeof window<"u"&&typeof document<"u",O0=typeof navigator=="object"&&navigator||void 0,T4=UE&&(!O0||["ReactNative","NativeScript","NS"].indexOf(O0.product)<0),S4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",A4=UE&&window.location.href||"http://localhost",I4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:UE,hasStandardBrowserEnv:T4,hasStandardBrowserWebWorkerEnv:S4,navigator:O0,origin:A4},Symbol.toStringTag,{value:"Module"})),Bn={...I4,...w4};function R4(n,e){return Mg(n,new Bn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Bn.isNode&&ae.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function C4(n){return ae.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function P4(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function gP(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=o>=t.length;return u=!u&&ae.isArray(i)?i.length:u,f?(ae.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!ae.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&ae.isArray(i[u])&&(i[u]=P4(i[u])),!h)}if(ae.isFormData(n)&&ae.isFunction(n.entries)){const t={};return ae.forEachEntry(n,(r,i)=>{e(C4(r),i,t,0)}),t}return null}function x4(n,e,t){if(ae.isString(n))try{return(e||JSON.parse)(n),ae.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const ff={transitional:mP,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=ae.isObject(e);if(o&&ae.isHTMLForm(e)&&(e=new FormData(e)),ae.isFormData(e))return i?JSON.stringify(gP(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)||ae.isReadableStream(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return R4(e,this.formSerializer).toString();if((h=ae.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Mg(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),x4(e)):e}],transformResponse:[function(e){const t=this.transitional||ff.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(e)||ae.isReadableStream(e))return e;if(e&&ae.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Me.from(h,Me.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],n=>{ff.headers[n]={}});const O4=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),D4=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&O4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},DI=Symbol("internals");function Wh(n){return n&&String(n).trim().toLowerCase()}function Rm(n){return n===!1||n==null?n:ae.isArray(n)?n.map(Rm):String(n)}function N4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const k4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Xv(n,e,t,r,i){if(ae.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ae.isString(e)){if(ae.isString(r))return e.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(e)}}function M4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function V4(n,e){const t=ae.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let or=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,f,d){const g=Wh(f);if(!g)throw new Error("header name must be a non-empty string");const _=ae.findKey(i,g);(!_||i[_]===void 0||d===!0||d===void 0&&i[_]!==!1)&&(i[_||f]=Rm(h))}const u=(h,f)=>ae.forEach(h,(d,g)=>o(d,g,f));if(ae.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(ae.isString(e)&&(e=e.trim())&&!k4(e))u(D4(e),t);else if(ae.isObject(e)&&ae.isIterable(e)){let h={},f,d;for(const g of e){if(!ae.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[d=g[0]]=(f=h[d])?ae.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}u(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=Wh(e),e){const r=ae.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return N4(i);if(ae.isFunction(t))return t.call(this,i,r);if(ae.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Wh(e),e){const r=ae.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Xv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=Wh(u),u){const h=ae.findKey(r,u);h&&(!t||Xv(r,r[h],h,t))&&(delete r[h],i=!0)}}return ae.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||Xv(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return ae.forEach(this,(i,o)=>{const u=ae.findKey(r,o);if(u){t[u]=Rm(i),delete t[o];return}const h=e?M4(o):String(o).trim();h!==o&&delete t[o],t[h]=Rm(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ae.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ae.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[DI]=this[DI]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=Wh(u);r[h]||(V4(i,u),r[h]=!0)}return ae.isArray(e)?e.forEach(o):o(e),this}};or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(or.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ae.freezeMethods(or);function Jv(n,e){const t=this||ff,r=e||t,i=or.from(r.headers);let o=r.data;return ae.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function yP(n){return!!(n&&n.__CANCEL__)}function yc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}ae.inherits(yc,Me,{__CANCEL__:!0});function _P(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function L4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function U4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),g=r[o];u||(u=d),t[i]=f,r[i]=d;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),d-u<e)return;const T=g&&d-g;return T?Math.round(v*1e3/T):void 0}}function B4(n,e){let t=0,r=1e3/e,i,o;const u=(d,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,d)};return[(...d)=>{const g=Date.now(),_=g-t;_>=r?u(d,g):(i=d,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const Jm=(n,e,t=3)=>{let r=0;const i=U4(50,250);return B4(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,f=u-r,d=i(f),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:d||void 0,estimated:d&&h&&g?(h-u)/d:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},NI=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},kI=n=>(...e)=>ae.asap(()=>n(...e)),F4=Bn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Bn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Bn.origin),Bn.navigator&&/(msie|trident)/i.test(Bn.navigator.userAgent)):()=>!0,z4=Bn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];ae.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),ae.isString(r)&&u.push("path="+r),ae.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function j4(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function q4(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function vP(n,e,t){let r=!j4(e);return n&&(r||t==!1)?q4(n,e):e}const MI=n=>n instanceof or?{...n}:n;function il(n,e){e=e||{};const t={};function r(d,g,_,v){return ae.isPlainObject(d)&&ae.isPlainObject(g)?ae.merge.call({caseless:v},d,g):ae.isPlainObject(g)?ae.merge({},g):ae.isArray(g)?g.slice():g}function i(d,g,_,v){if(ae.isUndefined(g)){if(!ae.isUndefined(d))return r(void 0,d,_,v)}else return r(d,g,_,v)}function o(d,g){if(!ae.isUndefined(g))return r(void 0,g)}function u(d,g){if(ae.isUndefined(g)){if(!ae.isUndefined(d))return r(void 0,d)}else return r(void 0,g)}function h(d,g,_){if(_ in e)return r(d,g);if(_ in n)return r(void 0,d)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(d,g,_)=>i(MI(d),MI(g),_,!0)};return ae.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=f[g]||i,v=_(n[g],e[g],g);ae.isUndefined(v)&&_!==h||(t[g]=v)}),t}const EP=n=>{const e=il({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=or.from(u),e.url=pP(vP(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(ae.isFormData(t)){if(Bn.hasStandardBrowserEnv||Bn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[d,...g]=f?f.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([d||"multipart/form-data",...g].join("; "))}}if(Bn.hasStandardBrowserEnv&&(r&&ae.isFunction(r)&&(r=r(e)),r||r!==!1&&F4(e.url))){const d=i&&o&&z4.read(o);d&&u.set(i,d)}return e},H4=typeof XMLHttpRequest<"u",$4=H4&&function(n){return new Promise(function(t,r){const i=EP(n);let o=i.data;const u=or.from(i.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:d}=i,g,_,v,T,w;function I(){T&&T(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function U(){if(!D)return;const V=or.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),B={data:!h||h==="text"||h==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:V,config:n,request:D};_P(function(M){t(M),I()},function(M){r(M),I()},B),D=null}"onloadend"in D?D.onloadend=U:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(U)},D.onabort=function(){D&&(r(new Me("Request aborted",Me.ECONNABORTED,n,D)),D=null)},D.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const B=i.transitional||mP;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),r(new Me(q,B.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,D)),D=null},o===void 0&&u.setContentType(null),"setRequestHeader"in D&&ae.forEach(u.toJSON(),function(q,B){D.setRequestHeader(B,q)}),ae.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),h&&h!=="json"&&(D.responseType=i.responseType),d&&([v,w]=Jm(d,!0),D.addEventListener("progress",v)),f&&D.upload&&([_,T]=Jm(f),D.upload.addEventListener("progress",_),D.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=V=>{D&&(r(!V||V.type?new yc(null,n,D):V),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const L=L4(i.url);if(L&&Bn.protocols.indexOf(L)===-1){r(new Me("Unsupported protocol "+L+":",Me.ERR_BAD_REQUEST,n));return}D.send(o||null)})},G4=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(d){if(!i){i=!0,h();const g=d instanceof Error?d:this.reason;r.abort(g instanceof Me?g:new yc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),n=null)};n.forEach(d=>d.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>ae.asap(h),f}},K4=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},W4=async function*(n,e){for await(const t of Q4(n))yield*K4(t,e)},Q4=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},VI=(n,e,t,r)=>{const i=W4(n,e);let o=0,u,h=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:g}=await i.next();if(d){h(),f.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}f.enqueue(new Uint8Array(g))}catch(d){throw h(d),d}},cancel(f){return h(f),i.return()}},{highWaterMark:2})},Vg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bP=Vg&&typeof ReadableStream=="function",Y4=Vg&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),wP=(n,...e)=>{try{return!!n(...e)}catch{return!1}},X4=bP&&wP(()=>{let n=!1;const e=new Request(Bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),LI=64*1024,D0=bP&&wP(()=>ae.isReadableStream(new Response("").body)),Zm={stream:D0&&(n=>n.body)};Vg&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zm[e]&&(Zm[e]=ae.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const J4=async n=>{if(n==null)return 0;if(ae.isBlob(n))return n.size;if(ae.isSpecCompliantForm(n))return(await new Request(Bn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(n)||ae.isArrayBuffer(n))return n.byteLength;if(ae.isURLSearchParams(n)&&(n=n+""),ae.isString(n))return(await Y4(n)).byteLength},Z4=async(n,e)=>{const t=ae.toFiniteNumber(n.getContentLength());return t??J4(e)},e3=Vg&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:f,responseType:d,headers:g,withCredentials:_="same-origin",fetchOptions:v}=EP(n);d=d?(d+"").toLowerCase():"text";let T=G4([i,o&&o.toAbortSignal()],u),w;const I=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let D;try{if(f&&X4&&t!=="get"&&t!=="head"&&(D=await Z4(g,r))!==0){let B=new Request(e,{method:"POST",body:r,duplex:"half"}),G;if(ae.isFormData(r)&&(G=B.headers.get("content-type"))&&g.setContentType(G),B.body){const[M,R]=NI(D,Jm(kI(f)));r=VI(B.body,LI,M,R)}}ae.isString(_)||(_=_?"include":"omit");const U="credentials"in Request.prototype;w=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:U?_:void 0});let L=await fetch(w);const V=D0&&(d==="stream"||d==="response");if(D0&&(h||V&&I)){const B={};["status","statusText","headers"].forEach(C=>{B[C]=L[C]});const G=ae.toFiniteNumber(L.headers.get("content-length")),[M,R]=h&&NI(G,Jm(kI(h),!0))||[];L=new Response(VI(L.body,LI,M,()=>{R&&R(),I&&I()}),B)}d=d||"text";let q=await Zm[ae.findKey(Zm,d)||"text"](L,n);return!V&&I&&I(),await new Promise((B,G)=>{_P(B,G,{data:q,headers:or.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:w})})}catch(U){throw I&&I(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,w),{cause:U.cause||U}):Me.from(U,U&&U.code,n,w)}}),N0={http:m4,xhr:$4,fetch:e3};ae.forEach(N0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const UI=n=>`- ${n}`,t3=n=>ae.isFunction(n)||n===null||n===!1,TP={getAdapter:n=>{n=ae.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!t3(t)&&(r=N0[(u=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(UI).join(`
`):" "+UI(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:N0};function Zv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new yc(null,n)}function BI(n){return Zv(n),n.headers=or.from(n.headers),n.data=Jv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),TP.getAdapter(n.adapter||ff.adapter)(n).then(function(r){return Zv(n),r.data=Jv.call(n,n.transformResponse,r),r.headers=or.from(r.headers),r},function(r){return yP(r)||(Zv(n),r&&r.response&&(r.response.data=Jv.call(n,n.transformResponse,r.response),r.response.headers=or.from(r.response.headers))),Promise.reject(r)})}const SP="1.9.0",Lg={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Lg[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const FI={};Lg.transitional=function(e,t,r){function i(o,u){return"[Axios v"+SP+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Me(i(u," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!FI[u]&&(FI[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};Lg.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function n3(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],f=h===void 0||u(h,o,n);if(f!==!0)throw new Me("option "+o+" must be "+f,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const Cm={assertOptions:n3,validators:Lg},Si=Cm.validators;let Jo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new OI,response:new OI}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=il(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Cm.assertOptions(r,{silentJSONParsing:Si.transitional(Si.boolean),forcedJSONParsing:Si.transitional(Si.boolean),clarifyTimeoutError:Si.transitional(Si.boolean)},!1),i!=null&&(ae.isFunction(i)?t.paramsSerializer={serialize:i}:Cm.assertOptions(i,{encode:Si.function,serialize:Si.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Cm.assertOptions(t,{baseUrl:Si.spelling("baseURL"),withXsrfToken:Si.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&ae.merge(o.common,o[t.method]);o&&ae.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=or.concat(u,o);const h=[];let f=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(f=f&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const d=[];this.interceptors.response.forEach(function(I){d.push(I.fulfilled,I.rejected)});let g,_=0,v;if(!f){const w=[BI.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,d),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const w=h[_++],I=h[_++];try{T=w(T)}catch(D){I.call(this,D);break}}try{g=BI.call(this,T)}catch(w){return Promise.reject(w)}for(_=0,v=d.length;_<v;)g=g.then(d[_++],d[_++]);return g}getUri(e){e=il(this.defaults,e);const t=vP(e.baseURL,e.url,e.allowAbsoluteUrls);return pP(t,e.params,e.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(e){Jo.prototype[e]=function(t,r){return this.request(il(r||{},{method:e,url:t,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(il(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Jo.prototype[e]=t(),Jo.prototype[e+"Form"]=t(!0)});let r3=class AP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new yc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new AP(function(i){e=i}),cancel:e}}};function i3(n){return function(t){return n.apply(null,t)}}function s3(n){return ae.isObject(n)&&n.isAxiosError===!0}const k0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(k0).forEach(([n,e])=>{k0[e]=n});function IP(n){const e=new Jo(n),t=nP(Jo.prototype.request,e);return ae.extend(t,Jo.prototype,e,{allOwnKeys:!0}),ae.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return IP(il(n,i))},t}const Nt=IP(ff);Nt.Axios=Jo;Nt.CanceledError=yc;Nt.CancelToken=r3;Nt.isCancel=yP;Nt.VERSION=SP;Nt.toFormData=Mg;Nt.AxiosError=Me;Nt.Cancel=Nt.CanceledError;Nt.all=function(e){return Promise.all(e)};Nt.spread=i3;Nt.isAxiosError=s3;Nt.mergeConfig=il;Nt.AxiosHeaders=or;Nt.formToJSON=n=>gP(ae.isHTMLForm(n)?new FormData(n):n);Nt.getAdapter=TP.getAdapter;Nt.HttpStatusCode=k0;Nt.default=Nt;const{Axios:NG,AxiosError:kG,CanceledError:MG,isCancel:VG,CancelToken:LG,VERSION:UG,all:BG,Cancel:FG,isAxiosError:zG,spread:jG,toFormData:qG,AxiosHeaders:HG,HttpStatusCode:$G,formToJSON:GG,getAdapter:KG,mergeConfig:WG}=Nt;function RP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=RP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Zo(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=RP(n))&&(r&&(r+=" "),r+=e);return r}function CP(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const a3={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function PP(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let f=0;f<o.length;f+=1){const d=o[f];d&&(u+=(h===!0?"":" ")+e(d),h=!1,t&&t[d]&&(u+=" "+t[d]))}r[i]=u}return r}const o3=Q.createContext(),l3=()=>Q.useContext(o3)??!1;function zI(n){try{return n.matches(":focus-visible")}catch{}return!1}const jI=n=>n,u3=()=>{let n=jI;return{configure(e){n=e},generate(e){return n(e)},reset(){n=jI}}},c3=u3();function sl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Na(n){if(typeof n!="string")throw new Error(sl(7));return n.charAt(0).toUpperCase()+n.slice(1)}var e0={exports:{}},ft={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function h3(){if(qI)return ft;qI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function w(I){if(typeof I=="object"&&I!==null){var D=I.$$typeof;switch(D){case n:switch(I=I.type,I){case t:case i:case r:case f:case d:case v:return I;default:switch(I=I&&I.$$typeof,I){case u:case h:case _:case g:return I;case o:return I;default:return D}}case e:return D}}}return ft.ContextConsumer=o,ft.ContextProvider=u,ft.Element=n,ft.ForwardRef=h,ft.Fragment=t,ft.Lazy=_,ft.Memo=g,ft.Portal=e,ft.Profiler=i,ft.StrictMode=r,ft.Suspense=f,ft.SuspenseList=d,ft.isContextConsumer=function(I){return w(I)===o},ft.isContextProvider=function(I){return w(I)===u},ft.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},ft.isForwardRef=function(I){return w(I)===h},ft.isFragment=function(I){return w(I)===t},ft.isLazy=function(I){return w(I)===_},ft.isMemo=function(I){return w(I)===g},ft.isPortal=function(I){return w(I)===e},ft.isProfiler=function(I){return w(I)===i},ft.isStrictMode=function(I){return w(I)===r},ft.isSuspense=function(I){return w(I)===f},ft.isSuspenseList=function(I){return w(I)===d},ft.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===t||I===i||I===r||I===f||I===d||typeof I=="object"&&I!==null&&(I.$$typeof===_||I.$$typeof===g||I.$$typeof===u||I.$$typeof===o||I.$$typeof===h||I.$$typeof===T||I.getModuleId!==void 0)},ft.typeOf=w,ft}var HI;function d3(){return HI||(HI=1,e0.exports=h3()),e0.exports}var xP=d3();function bs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function OP(n){if(Q.isValidElement(n)||xP.isValidElementType(n)||!bs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=OP(n[t])}),e}function Tr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return bs(n)&&bs(e)&&Object.keys(e).forEach(i=>{Q.isValidElement(e[i])||xP.isValidElementType(e[i])?r[i]=e[i]:bs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&bs(n[i])?r[i]=Tr(n[i],e[i],t):t.clone?r[i]=bs(e[i])?OP(e[i]):e[i]:r[i]=e[i]}),r}function gd(n,e){return e?Tr(n,e,{clone:!1}):n}function f3(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function p3(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function m3(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function g3(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const f=e(n.breakpoints.not(...h),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const Ug={xs:0,sm:600,md:900,lg:1200,xl:1536},$I={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Ug[n]}px)`},y3={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Ug[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Cs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||$I;return e.reduce((u,h,f)=>(u[o.up(o.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||$I;return Object.keys(e).reduce((u,h)=>{if(p3(o.keys,h)){const f=m3(r.containerQueries?r:y3,h);f&&(u[f]=t(e[h],h))}else if(Object.keys(o.values||Ug).includes(h)){const f=o.up(h);u[f]=t(e[h],h)}else{const f=h;u[f]=e[f]}return u},{})}return t(e)}function _3(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function v3(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Bg(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function eg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Bg(n,t)||r,e&&(i=e(i,r,n)),i}function Xt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],f=u.theme,d=Bg(f,r)||{};return Cs(u,h,_=>{let v=eg(d,i,_);return _===v&&typeof _=="string"&&(v=eg(d,i,`${e}${_==="default"?"":Na(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function E3(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const b3={m:"margin",p:"padding"},w3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},T3=E3(n=>{if(n.length>2)if(GI[n])n=GI[n];else return[n];const[e,t]=n.split(""),r=b3[e],i=w3[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),BE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],FE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...BE,...FE];function pf(n,e,t,r){const i=Bg(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof i=="function"?i:()=>{}}function zE(n){return pf(n,"spacing",8)}function mf(n,e){return typeof e=="string"||e==null?e:n(e)}function S3(n,e){return t=>n.reduce((r,i)=>(r[i]=mf(e,t),r),{})}function A3(n,e,t,r){if(!e.includes(t))return null;const i=T3(t),o=S3(i,r),u=n[t];return Cs(n,u,o)}function DP(n,e){const t=zE(n.theme);return Object.keys(n).map(r=>A3(n,e,r,t)).reduce(gd,{})}function Ut(n){return DP(n,BE)}Ut.propTypes={};Ut.filterProps=BE;function Bt(n){return DP(n,FE)}Bt.propTypes={};Bt.filterProps=FE;function Fg(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?gd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Fr(n){return typeof n!="number"?n:`${n}px solid`}function $r(n,e){return Xt({prop:n,themeKey:"borders",transform:e})}const I3=$r("border",Fr),R3=$r("borderTop",Fr),C3=$r("borderRight",Fr),P3=$r("borderBottom",Fr),x3=$r("borderLeft",Fr),O3=$r("borderColor"),D3=$r("borderTopColor"),N3=$r("borderRightColor"),k3=$r("borderBottomColor"),M3=$r("borderLeftColor"),V3=$r("outline",Fr),L3=$r("outlineColor"),zg=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=pf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:mf(e,r)});return Cs(n,n.borderRadius,t)}return null};zg.propTypes={};zg.filterProps=["borderRadius"];Fg(I3,R3,C3,P3,x3,O3,D3,N3,k3,M3,zg,V3,L3);const jg=n=>{if(n.gap!==void 0&&n.gap!==null){const e=pf(n.theme,"spacing",8),t=r=>({gap:mf(e,r)});return Cs(n,n.gap,t)}return null};jg.propTypes={};jg.filterProps=["gap"];const qg=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=pf(n.theme,"spacing",8),t=r=>({columnGap:mf(e,r)});return Cs(n,n.columnGap,t)}return null};qg.propTypes={};qg.filterProps=["columnGap"];const Hg=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=pf(n.theme,"spacing",8),t=r=>({rowGap:mf(e,r)});return Cs(n,n.rowGap,t)}return null};Hg.propTypes={};Hg.filterProps=["rowGap"];const U3=Xt({prop:"gridColumn"}),B3=Xt({prop:"gridRow"}),F3=Xt({prop:"gridAutoFlow"}),z3=Xt({prop:"gridAutoColumns"}),j3=Xt({prop:"gridAutoRows"}),q3=Xt({prop:"gridTemplateColumns"}),H3=Xt({prop:"gridTemplateRows"}),$3=Xt({prop:"gridTemplateAreas"}),G3=Xt({prop:"gridArea"});Fg(jg,qg,Hg,U3,B3,F3,z3,j3,q3,H3,$3,G3);function ku(n,e){return e==="grey"?e:n}const K3=Xt({prop:"color",themeKey:"palette",transform:ku}),W3=Xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ku}),Q3=Xt({prop:"backgroundColor",themeKey:"palette",transform:ku});Fg(K3,W3,Q3);function br(n){return n<=1&&n!==0?`${n*100}%`:n}const Y3=Xt({prop:"width",transform:br}),jE=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,f;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||Ug[t];return r?((f=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:br(t)}};return Cs(n,n.maxWidth,e)}return null};jE.filterProps=["maxWidth"];const X3=Xt({prop:"minWidth",transform:br}),J3=Xt({prop:"height",transform:br}),Z3=Xt({prop:"maxHeight",transform:br}),e6=Xt({prop:"minHeight",transform:br});Xt({prop:"size",cssProperty:"width",transform:br});Xt({prop:"size",cssProperty:"height",transform:br});const t6=Xt({prop:"boxSizing"});Fg(Y3,jE,X3,J3,Z3,e6,t6);const $g={border:{themeKey:"borders",transform:Fr},borderTop:{themeKey:"borders",transform:Fr},borderRight:{themeKey:"borders",transform:Fr},borderBottom:{themeKey:"borders",transform:Fr},borderLeft:{themeKey:"borders",transform:Fr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Fr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:zg},color:{themeKey:"palette",transform:ku},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ku},backgroundColor:{themeKey:"palette",transform:ku},p:{style:Bt},pt:{style:Bt},pr:{style:Bt},pb:{style:Bt},pl:{style:Bt},px:{style:Bt},py:{style:Bt},padding:{style:Bt},paddingTop:{style:Bt},paddingRight:{style:Bt},paddingBottom:{style:Bt},paddingLeft:{style:Bt},paddingX:{style:Bt},paddingY:{style:Bt},paddingInline:{style:Bt},paddingInlineStart:{style:Bt},paddingInlineEnd:{style:Bt},paddingBlock:{style:Bt},paddingBlockStart:{style:Bt},paddingBlockEnd:{style:Bt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:jg},rowGap:{style:Hg},columnGap:{style:qg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:br},maxWidth:{style:jE},minWidth:{transform:br},height:{transform:br},maxHeight:{transform:br},minHeight:{transform:br},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function n6(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function r6(n,e){return typeof n=="function"?n(e):n}function i6(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:f=t,themeKey:d,transform:g,style:_}=h;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const v=Bg(i,d)||{};return _?_(u):Cs(u,r,w=>{let I=eg(v,g,w);return w===I&&typeof w=="string"&&(I=eg(v,g,`${t}${w==="default"?"":Na(w)}`,w)),f===!1?I:{[f]:I}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??$g;function u(h){let f=h;if(typeof h=="function")f=h(i);else if(typeof h!="object")return h;if(!f)return null;const d=_3(i.breakpoints),g=Object.keys(d);let _=d;return Object.keys(f).forEach(v=>{const T=r6(f[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=gd(_,n(v,T,i,o));else{const w=Cs({theme:i},T,I=>({[v]:I}));n6(w,T)?_[v]=e({sx:T,theme:i}):_=gd(_,w)}else _=gd(_,n(v,T,i,o))}),f3(i,v3(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const ju=i6();ju.filterProps=["sx"];function M0(){return M0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},M0.apply(null,arguments)}function s6(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function a6(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var o6=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(a6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=s6(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Ln="-ms-",tg="-moz-",et="-webkit-",NP="comm",qE="rule",HE="decl",l6="@import",kP="@keyframes",u6="@layer",c6=Math.abs,Gg=String.fromCharCode,h6=Object.assign;function d6(n,e){return xn(n,0)^45?(((e<<2^xn(n,0))<<2^xn(n,1))<<2^xn(n,2))<<2^xn(n,3):0}function MP(n){return n.trim()}function f6(n,e){return(n=e.exec(n))?n[0]:n}function tt(n,e,t){return n.replace(e,t)}function V0(n,e){return n.indexOf(e)}function xn(n,e){return n.charCodeAt(e)|0}function Md(n,e,t){return n.slice(e,t)}function Ri(n){return n.length}function $E(n){return n.length}function dm(n,e){return e.push(n),n}function p6(n,e){return n.map(e).join("")}var Kg=1,qu=1,VP=0,lr=0,on=0,_c="";function Wg(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Kg,column:qu,length:u,return:""}}function Qh(n,e){return h6(Wg("",null,null,"",null,null,0),n,{length:-n.length},e)}function m6(){return on}function g6(){return on=lr>0?xn(_c,--lr):0,qu--,on===10&&(qu=1,Kg--),on}function Sr(){return on=lr<VP?xn(_c,lr++):0,qu++,on===10&&(qu=1,Kg++),on}function Li(){return xn(_c,lr)}function Pm(){return lr}function gf(n,e){return Md(_c,n,e)}function Vd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LP(n){return Kg=qu=1,VP=Ri(_c=n),lr=0,[]}function UP(n){return _c="",n}function xm(n){return MP(gf(lr-1,L0(n===91?n+2:n===40?n+1:n)))}function y6(n){for(;(on=Li())&&on<33;)Sr();return Vd(n)>2||Vd(on)>3?"":" "}function _6(n,e){for(;--e&&Sr()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return gf(n,Pm()+(e<6&&Li()==32&&Sr()==32))}function L0(n){for(;Sr();)switch(on){case n:return lr;case 34:case 39:n!==34&&n!==39&&L0(on);break;case 40:n===41&&L0(n);break;case 92:Sr();break}return lr}function v6(n,e){for(;Sr()&&n+on!==57;)if(n+on===84&&Li()===47)break;return"/*"+gf(e,lr-1)+"*"+Gg(n===47?n:Sr())}function E6(n){for(;!Vd(Li());)Sr();return gf(n,lr)}function b6(n){return UP(Om("",null,null,null,[""],n=LP(n),0,[0],n))}function Om(n,e,t,r,i,o,u,h,f){for(var d=0,g=0,_=u,v=0,T=0,w=0,I=1,D=1,U=1,L=0,V="",q=i,B=o,G=r,M=V;D;)switch(w=L,L=Sr()){case 40:if(w!=108&&xn(M,_-1)==58){V0(M+=tt(xm(L),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:M+=xm(L);break;case 9:case 10:case 13:case 32:M+=y6(w);break;case 92:M+=_6(Pm()-1,7);continue;case 47:switch(Li()){case 42:case 47:dm(w6(v6(Sr(),Pm()),e,t),f);break;default:M+="/"}break;case 123*I:h[d++]=Ri(M)*U;case 125*I:case 59:case 0:switch(L){case 0:case 125:D=0;case 59+g:U==-1&&(M=tt(M,/\f/g,"")),T>0&&Ri(M)-_&&dm(T>32?WI(M+";",r,t,_-1):WI(tt(M," ","")+";",r,t,_-2),f);break;case 59:M+=";";default:if(dm(G=KI(M,e,t,d,g,i,h,V,q=[],B=[],_),o),L===123)if(g===0)Om(M,e,G,G,q,o,_,h,B);else switch(v===99&&xn(M,3)===110?100:v){case 100:case 108:case 109:case 115:Om(n,G,G,r&&dm(KI(n,G,G,0,0,i,h,V,i,q=[],_),B),i,B,_,h,r?q:B);break;default:Om(M,G,G,G,[""],B,0,h,B)}}d=g=T=0,I=U=1,V=M="",_=u;break;case 58:_=1+Ri(M),T=w;default:if(I<1){if(L==123)--I;else if(L==125&&I++==0&&g6()==125)continue}switch(M+=Gg(L),L*I){case 38:U=g>0?1:(M+="\f",-1);break;case 44:h[d++]=(Ri(M)-1)*U,U=1;break;case 64:Li()===45&&(M+=xm(Sr())),v=Li(),g=_=Ri(V=M+=E6(Pm())),L++;break;case 45:w===45&&Ri(M)==2&&(I=0)}}return o}function KI(n,e,t,r,i,o,u,h,f,d,g){for(var _=i-1,v=i===0?o:[""],T=$E(v),w=0,I=0,D=0;w<r;++w)for(var U=0,L=Md(n,_+1,_=c6(I=u[w])),V=n;U<T;++U)(V=MP(I>0?v[U]+" "+L:tt(L,/&\f/g,v[U])))&&(f[D++]=V);return Wg(n,e,t,i===0?qE:h,f,d,g)}function w6(n,e,t){return Wg(n,e,t,NP,Gg(m6()),Md(n,2,-2),0)}function WI(n,e,t,r){return Wg(n,e,t,HE,Md(n,0,r),Md(n,r+1,-1),r)}function Mu(n,e){for(var t="",r=$E(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function T6(n,e,t,r){switch(n.type){case u6:if(n.children.length)break;case l6:case HE:return n.return=n.return||n.value;case NP:return"";case kP:return n.return=n.value+"{"+Mu(n.children,r)+"}";case qE:n.value=n.props.join(",")}return Ri(t=Mu(n.children,r))?n.return=n.value+"{"+t+"}":""}function S6(n){var e=$E(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function A6(n){return function(e){e.root||(e=e.return)&&n(e)}}function BP(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var I6=function(e,t,r){for(var i=0,o=0;i=o,o=Li(),i===38&&o===12&&(t[r]=1),!Vd(o);)Sr();return gf(e,lr)},R6=function(e,t){var r=-1,i=44;do switch(Vd(i)){case 0:i===38&&Li()===12&&(t[r]=1),e[r]+=I6(lr-1,t,r);break;case 2:e[r]+=xm(i);break;case 4:if(i===44){e[++r]=Li()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Gg(i)}while(i=Sr());return e},C6=function(e,t){return UP(R6(LP(e),t))},QI=new WeakMap,P6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!QI.get(r))&&!i){QI.set(e,!0);for(var o=[],u=C6(t,o),h=r.props,f=0,d=0;f<u.length;f++)for(var g=0;g<h.length;g++,d++)e.props[d]=o[f]?u[f].replace(/&\f/g,h[g]):h[g]+" "+u[f]}}},x6=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function FP(n,e){switch(d6(n,e)){case 5103:return et+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return et+n+tg+n+Ln+n+n;case 6828:case 4268:return et+n+Ln+n+n;case 6165:return et+n+Ln+"flex-"+n+n;case 5187:return et+n+tt(n,/(\w+).+(:[^]+)/,et+"box-$1$2"+Ln+"flex-$1$2")+n;case 5443:return et+n+Ln+"flex-item-"+tt(n,/flex-|-self/,"")+n;case 4675:return et+n+Ln+"flex-line-pack"+tt(n,/align-content|flex-|-self/,"")+n;case 5548:return et+n+Ln+tt(n,"shrink","negative")+n;case 5292:return et+n+Ln+tt(n,"basis","preferred-size")+n;case 6060:return et+"box-"+tt(n,"-grow","")+et+n+Ln+tt(n,"grow","positive")+n;case 4554:return et+tt(n,/([^-])(transform)/g,"$1"+et+"$2")+n;case 6187:return tt(tt(tt(n,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),n,"")+n;case 5495:case 3959:return tt(n,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(n,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+Ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+n+n;case 4095:case 3583:case 4068:case 2532:return tt(n,/(.+)-inline(.+)/,et+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ri(n)-1-e>6)switch(xn(n,e+1)){case 109:if(xn(n,e+4)!==45)break;case 102:return tt(n,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+tg+(xn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~V0(n,"stretch")?FP(tt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(xn(n,e+1)!==115)break;case 6444:switch(xn(n,Ri(n)-3-(~V0(n,"!important")&&10))){case 107:return tt(n,":",":"+et)+n;case 101:return tt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(xn(n,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+Ln+"$2box$3")+n}break;case 5936:switch(xn(n,e+11)){case 114:return et+n+Ln+tt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return et+n+Ln+tt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return et+n+Ln+tt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return et+n+Ln+n+n}return n}var O6=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case HE:e.return=FP(e.value,e.length);break;case kP:return Mu([Qh(e,{value:tt(e.value,"@","@"+et)})],i);case qE:if(e.length)return p6(e.props,function(o){switch(f6(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mu([Qh(e,{props:[tt(o,/:(read-\w+)/,":"+tg+"$1")]})],i);case"::placeholder":return Mu([Qh(e,{props:[tt(o,/:(plac\w+)/,":"+et+"input-$1")]}),Qh(e,{props:[tt(o,/:(plac\w+)/,":"+tg+"$1")]}),Qh(e,{props:[tt(o,/:(plac\w+)/,Ln+"input-$1")]})],i)}return""})}},D6=[O6],N6=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var D=I.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||D6,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(I){for(var D=I.getAttribute("data-emotion").split(" "),U=1;U<D.length;U++)o[D[U]]=!0;h.push(I)});var f,d=[P6,x6];{var g,_=[T6,A6(function(I){g.insert(I)})],v=S6(d.concat(i,_)),T=function(D){return Mu(b6(D),v)};f=function(D,U,L,V){g=L,T(D?D+"{"+U.styles+"}":U.styles),V&&(w.inserted[U.name]=!0)}}var w={key:t,sheet:new o6({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return w.sheet.hydrate(h),w},k6=!0;function M6(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var zP=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||k6===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},V6=function(e,t,r){zP(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function L6(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var U6={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},B6=/[A-Z]|^ms/g,F6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jP=function(e){return e.charCodeAt(1)===45},YI=function(e){return e!=null&&typeof e!="boolean"},t0=BP(function(n){return jP(n)?n:n.replace(B6,"-$&").toLowerCase()}),XI=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(F6,function(r,i,o){return Ci={name:i,styles:o,next:Ci},i})}return U6[e]!==1&&!jP(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ld(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ci={name:i.name,styles:i.styles,next:Ci},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Ci={name:u.name,styles:u.styles,next:Ci},u=u.next;var h=o.styles+";";return h}return z6(n,e,t)}case"function":{if(n!==void 0){var f=Ci,d=t(n);return Ci=f,Ld(n,e,d)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function z6(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Ld(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":YI(h)&&(r+=t0(o)+":"+XI(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)YI(u[f])&&(r+=t0(o)+":"+XI(o,u[f])+";");else{var d=Ld(n,e,u);switch(o){case"animation":case"animationName":{r+=t0(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var JI=/label:\s*([^\s;{]+)\s*(;|$)/g,Ci;function qP(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ci=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=Ld(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=Ld(t,e,n[h]),r){var f=o;i+=f[h]}JI.lastIndex=0;for(var d="",g;(g=JI.exec(i))!==null;)d+="-"+g[1];var _=L6(i)+d;return{name:_,styles:i,next:Ci}}var j6=function(e){return e()},q6=I0.useInsertionEffect?I0.useInsertionEffect:!1,H6=q6||j6,HP=Q.createContext(typeof HTMLElement<"u"?N6({key:"css"}):null);HP.Provider;var $6=function(e){return Q.forwardRef(function(t,r){var i=Q.useContext(HP);return e(t,i,r)})},G6=Q.createContext({}),K6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,W6=BP(function(n){return K6.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Q6=W6,Y6=function(e){return e!=="theme"},ZI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Q6:Y6},eR=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},X6=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return zP(t,r,i),H6(function(){return V6(t,r,i)}),null},J6=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=eR(e,t,r),f=h||ZI(i),d=!f("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,w=1;w<T;w++)_.push(g[w],v[w])}var I=$6(function(D,U,L){var V=d&&D.as||i,q="",B=[],G=D;if(D.theme==null){G={};for(var M in D)G[M]=D[M];G.theme=Q.useContext(G6)}typeof D.className=="string"?q=M6(U.registered,B,D.className):D.className!=null&&(q=D.className+" ");var R=qP(_.concat(B),U.registered,G);q+=U.key+"-"+R.name,u!==void 0&&(q+=" "+u);var C=d&&h===void 0?ZI(V):f,b={};for(var x in D)d&&x==="as"||C(x)&&(b[x]=D[x]);return b.className=q,L&&(b.ref=L),Q.createElement(Q.Fragment,null,Q.createElement(X6,{cache:U,serialized:R,isStringTag:typeof V=="string"}),Q.createElement(V,b))});return I.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=_,I.__emotion_forwardProp=h,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(D,U){var L=n(D,M0({},t,U,{shouldForwardProp:eR(I,U,!0)}));return L.apply(void 0,_)},I}},Z6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],U0=J6.bind(null);Z6.forEach(function(n){U0[n]=U0(n)});function e5(n,e){return U0(n,e)}function t5(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const tR=[];function nR(n){return tR[0]=n,qP(tR)}const n5=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function r5(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=n5(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function f(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function d(v,T){const w=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[u[w]]=="number"?e[u[w]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?d(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?f(u[T]):d(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:f,between:d,only:g,not:_,unit:t,...i}}const i5={borderRadius:4};function $P(n=8,e=zE({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function s5(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function GP(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=r5(t),f=$P(i);let d=Tr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...i5,...o}},u);return d=g3(d),d.applyStyles=s5,d=e.reduce((g,_)=>Tr(g,_),d),d.unstable_sxConfig={...$g,...u==null?void 0:u.unstable_sxConfig},d.unstable_sx=function(_){return ju({sx:_,theme:this})},d}const a5={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function GE(n,e,t="Mui"){const r=a5[e];return r?`${t}-${r}`:`${c3.generate(n)}-${e}`}function KP(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=GE(n,i,t)}),r}function WP(n){const{variants:e,...t}=n,r={variants:e,style:nR(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=nR(i.style))}),r}const o5=GP();function n0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function l5(n){return n?(e,t)=>t[n]:null}function u5(n,e,t){n.theme=d5(n.theme)?t:n.theme[e]||n.theme}function Dm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Dm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return QP(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function QP(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function c5(n={}){const{themeId:e,defaultTheme:t=o5,rootShouldForwardProp:r=n0,slotShouldForwardProp:i=n0}=n;function o(h){u5(h,e,t)}return(h,f={})=>{t5(h,B=>B.filter(G=>G!==ju));const{name:d,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=l5(p5(g)),...w}=f,I=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,D=v||!1;let U=n0;g==="Root"||g==="root"?U=r:g?U=i:f5(h)&&(U=void 0);const L=e5(h,{shouldForwardProp:U,label:h5(),...w}),V=B=>{if(typeof B=="function"&&B.__emotion_real!==B)return function(M){return Dm(M,B)};if(bs(B)){const G=WP(B);return G.variants?function(R){return Dm(R,G)}:G.style}return B},q=(...B)=>{const G=[],M=B.map(V),R=[];if(G.push(o),d&&T&&R.push(function(P){var $,ee;const se=(ee=($=P.theme.components)==null?void 0:$[d])==null?void 0:ee.styleOverrides;if(!se)return null;const F={};for(const oe in se)F[oe]=Dm(P,se[oe]);return T(P,F)}),d&&!I&&R.push(function(P){var F,$;const O=P.theme,se=($=(F=O==null?void 0:O.components)==null?void 0:F[d])==null?void 0:$.variants;return se?QP(P,se):null}),D||R.push(ju),Array.isArray(M[0])){const x=M.shift(),P=new Array(G.length).fill(""),O=new Array(R.length).fill("");let se;se=[...P,...x,...O],se.raw=[...P,...x.raw,...O],G.unshift(se)}const C=[...G,...M,...R],b=L(...C);return h.muiName&&(b.muiName=h.muiName),b};return L.withConfig&&(q.withConfig=L.withConfig),q}}function h5(n,e){return void 0}function d5(n){for(const e in n)return!1;return!0}function f5(n){return typeof n=="string"&&n.charCodeAt(0)>96}function p5(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function B0(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const f=h;t[i][f]=B0(o[f],u[f])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function KE(n,e=0,t=1){return CP(n,e,t)}function m5(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ka(n){if(n.type)return n;if(n.charAt(0)==="#")return ka(m5(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(sl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(sl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const g5=n=>{const e=ka(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},od=(n,e)=>{try{return g5(n)}catch{return n}};function Qg(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function YP(n){n=ka(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(d,g=(d+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",f.push(e[3])),Qg({type:h,values:f})}function F0(n){n=ka(n);let e=n.type==="hsl"||n.type==="hsla"?ka(YP(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function y5(n,e){const t=F0(n),r=F0(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function _5(n,e){return n=ka(n),e=KE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Qg(n)}function fm(n,e,t){try{return _5(n,e)}catch{return n}}function WE(n,e){if(n=ka(n),e=KE(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Qg(n)}function mt(n,e,t){try{return WE(n,e)}catch{return n}}function QE(n,e){if(n=ka(n),e=KE(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Qg(n)}function gt(n,e,t){try{return QE(n,e)}catch{return n}}function v5(n,e=.15){return F0(n)>.5?WE(n,e):QE(n,e)}function pm(n,e,t){try{return v5(n,e)}catch{return n}}const E5=Q.createContext(void 0);function b5(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?B0(i.defaultProps,r):!i.styleOverrides&&!i.variants?B0(i,r):r}function w5({props:n,name:e}){const t=Q.useContext(E5);return b5({props:n,name:e,theme:{components:t}})}const rR={theme:void 0};function T5(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(rR.theme=i.theme,o=WP(n(rR)),e=o,t=i.theme),o}}function S5(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const iR=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},A5=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,f])=>{(!t||t&&!t([...o,h]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,h],Array.isArray(f)?[...u,h]:u):e([...o,h],f,u))})}r(n)},I5=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function r0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return A5(n,(h,f,d)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(h,f))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=I5(h,f);Object.assign(i,{[g]:_}),iR(o,h,`var(${g})`,d),iR(u,h,`var(${g}, ${_})`,d)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function R5(n,e={}){const{getSelector:t=D,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...f}=n,{vars:d,css:g,varsWithDefaults:_}=r0(f,e);let v=_;const T={},{[h]:w,...I}=o;if(Object.entries(I||{}).forEach(([V,q])=>{const{vars:B,css:G,varsWithDefaults:M}=r0(q,e);v=Tr(v,M),T[V]={css:G,vars:B}}),w){const{css:V,vars:q,varsWithDefaults:B}=r0(w,e);v=Tr(v,B),T[h]={css:V,vars:q}}function D(V,q){var G,M;let B=i;if(i==="class"&&(B=".%s"),i==="data"&&(B="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(B=`[${i}="%s"]`),V){if(B==="media")return n.defaultColorScheme===V?":root":{[`@media (prefers-color-scheme: ${((M=(G=o[V])==null?void 0:G.palette)==null?void 0:M.mode)||V})`]:{":root":q}};if(B)return n.defaultColorScheme===V?`:root, ${B.replace("%s",String(V))}`:B.replace("%s",String(V))}return":root"}return{vars:v,generateThemeVars:()=>{let V={...d};return Object.entries(T).forEach(([,{vars:q}])=>{V=Tr(V,q)}),V},generateStyleSheets:()=>{var R,C;const V=[],q=n.defaultColorScheme||"light";function B(b,x){Object.keys(x).length&&V.push(typeof b=="string"?{[b]:{...x}}:b)}B(t(void 0,{...g}),g);const{[q]:G,...M}=T;if(G){const{css:b}=G,x=(C=(R=o[q])==null?void 0:R.palette)==null?void 0:C.mode,P=!r&&x?{colorScheme:x,...b}:{...b};B(t(q,{...P}),P)}return Object.entries(M).forEach(([b,{css:x}])=>{var se,F;const P=(F=(se=o[b])==null?void 0:se.palette)==null?void 0:F.mode,O=!r&&P?{colorScheme:P,...x}:{...x};B(t(b,{...O}),O)}),V}}}function C5(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Ud={black:"#000",white:"#fff"},P5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},gu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},yu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Yh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},_u={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},vu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Eu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function XP(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ud.white,default:Ud.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const x5=XP();function JP(){return{text:{primary:Ud.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ud.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const sR=JP();function aR(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=QE(n.main,i):e==="dark"&&(n.dark=WE(n.main,o)))}function O5(n="light"){return n==="dark"?{main:_u[200],light:_u[50],dark:_u[400]}:{main:_u[700],light:_u[400],dark:_u[800]}}function D5(n="light"){return n==="dark"?{main:gu[200],light:gu[50],dark:gu[400]}:{main:gu[500],light:gu[300],dark:gu[700]}}function N5(n="light"){return n==="dark"?{main:yu[500],light:yu[300],dark:yu[700]}:{main:yu[700],light:yu[400],dark:yu[800]}}function k5(n="light"){return n==="dark"?{main:vu[400],light:vu[300],dark:vu[700]}:{main:vu[700],light:vu[500],dark:vu[900]}}function M5(n="light"){return n==="dark"?{main:Eu[400],light:Eu[300],dark:Eu[700]}:{main:Eu[800],light:Eu[500],dark:Eu[900]}}function V5(n="light"){return n==="dark"?{main:Yh[400],light:Yh[300],dark:Yh[700]}:{main:"#ed6c02",light:Yh[500],dark:Yh[900]}}function YE(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||O5(e),u=n.secondary||D5(e),h=n.error||N5(e),f=n.info||k5(e),d=n.success||M5(e),g=n.warning||V5(e);function _(I){return y5(I,sR.text.primary)>=t?sR.text.primary:x5.text.primary}const v=({color:I,name:D,mainShade:U=500,lightShade:L=300,darkShade:V=700})=>{if(I={...I},!I.main&&I[U]&&(I.main=I[U]),!I.hasOwnProperty("main"))throw new Error(sl(11,D?` (${D})`:"",U));if(typeof I.main!="string")throw new Error(sl(12,D?` (${D})`:"",JSON.stringify(I.main)));return aR(I,"light",L,r),aR(I,"dark",V,r),I.contrastText||(I.contrastText=_(I.main)),I};let T;return e==="light"?T=XP():e==="dark"&&(T=JP()),Tr({common:{...Ud},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:P5,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function L5(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function U5(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function B5(n){return Math.round(n*1e5)/1e5}const oR={textTransform:"uppercase"},lR='"Roboto", "Helvetica", "Arial", sans-serif';function F5(n,e){const{fontFamily:t=lR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:d,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(D=>`${D/f*v}rem`),w=(D,U,L,V,q)=>({fontFamily:t,fontWeight:D,fontSize:T(U),lineHeight:L,...t===lR?{letterSpacing:`${B5(V/U)}em`}:{},...q,...d}),I={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(u,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(u,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(u,14,1.75,.4,oR),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,oR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Tr({htmlFontSize:f,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...I},_,{clone:!1})}const z5=.2,j5=.14,q5=.12;function St(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${z5})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${j5})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${q5})`].join(",")}const H5=["none",St(0,2,1,-1,0,1,1,0,0,1,3,0),St(0,3,1,-2,0,2,2,0,0,1,5,0),St(0,3,3,-2,0,3,4,0,0,1,8,0),St(0,2,4,-1,0,4,5,0,0,1,10,0),St(0,3,5,-1,0,5,8,0,0,1,14,0),St(0,3,5,-1,0,6,10,0,0,1,18,0),St(0,4,5,-2,0,7,10,1,0,2,16,1),St(0,5,5,-3,0,8,10,1,0,3,14,2),St(0,5,6,-3,0,9,12,1,0,3,16,2),St(0,6,6,-3,0,10,14,1,0,4,18,3),St(0,6,7,-4,0,11,15,1,0,4,20,3),St(0,7,8,-4,0,12,17,2,0,5,22,4),St(0,7,8,-4,0,13,19,2,0,5,24,4),St(0,7,9,-4,0,14,21,2,0,5,26,4),St(0,8,9,-5,0,15,22,2,0,6,28,5),St(0,8,10,-5,0,16,24,2,0,6,30,5),St(0,8,11,-5,0,17,26,2,0,6,32,5),St(0,9,11,-5,0,18,28,2,0,7,34,6),St(0,9,12,-6,0,19,29,2,0,7,36,6),St(0,10,13,-6,0,20,31,3,0,8,38,7),St(0,10,13,-6,0,21,33,3,0,8,40,7),St(0,10,14,-6,0,22,35,3,0,8,42,7),St(0,11,14,-7,0,23,36,3,0,9,44,8),St(0,11,15,-7,0,24,38,3,0,9,46,8)],$5={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},G5={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uR(n){return`${Math.round(n)}ms`}function K5(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function W5(n){const e={...$5,...n.easing},t={...G5,...n.duration};return{getAutoHeightDuration:K5,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:f=0,...d}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:uR(u)} ${h} ${typeof f=="string"?f:uR(f)}`).join(",")},...n,easing:e,duration:t}}const Q5={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Y5(n){return bs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function ZP(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!Y5(h)||u.startsWith("unstable_")?delete r[u]:bs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function z0(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:f,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(sl(20));const g=YE(o),_=GP(n);let v=Tr(_,{mixins:U5(_.breakpoints,r),palette:g,shadows:H5.slice(),typography:F5(g,h),transitions:W5(u),zIndex:{...Q5}});return v=Tr(v,d),v=e.reduce((T,w)=>Tr(T,w),v),v.unstable_sxConfig={...$g,...d==null?void 0:d.unstable_sxConfig},v.unstable_sx=function(w){return ju({sx:w,theme:this})},v.toRuntimeSource=ZP,v}function X5(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const J5=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=X5(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function ex(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function tx(n){return n==="dark"?J5:[]}function Z5(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=YE(e);return{palette:o,opacity:{...ex(o.mode),...t},overlays:r||tx(o.mode),...i}}function eU(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const tU=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],nU=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return tU(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function rU(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ue(n,e,t){!n[e]&&t&&(n[e]=t)}function ld(n){return typeof n!="string"||!n.startsWith("hsl")?n:YP(n)}function vs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=od(ld(n[e])))}function iU(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ai=n=>{try{return n()}catch{}},sU=(n="mui")=>S5(n);function i0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=Z5({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=z0({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...ex(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||tx(i)},u}function aU(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=eU,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...d}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=sU(o),{[_]:T,light:w,dark:I,...D}=t,U={...D};let L=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(sl(21,_));const V=i0(U,L,d,_);w&&!U.light&&i0(U,w,void 0,"light"),I&&!U.dark&&i0(U,I,void 0,"dark");let q={defaultColorScheme:_,...V,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:f,getCssVar:v,colorSchemes:U,font:{...L5(V.typography),...V.font},spacing:iU(d.spacing)};Object.keys(q.colorSchemes).forEach(C=>{const b=q.colorSchemes[C].palette,x=P=>{const O=P.split("-"),se=O[1],F=O[2];return v(P,b[se][F])};if(b.mode==="light"&&(ue(b.common,"background","#fff"),ue(b.common,"onBackground","#000")),b.mode==="dark"&&(ue(b.common,"background","#000"),ue(b.common,"onBackground","#fff")),rU(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){ue(b.Alert,"errorColor",mt(b.error.light,.6)),ue(b.Alert,"infoColor",mt(b.info.light,.6)),ue(b.Alert,"successColor",mt(b.success.light,.6)),ue(b.Alert,"warningColor",mt(b.warning.light,.6)),ue(b.Alert,"errorFilledBg",x("palette-error-main")),ue(b.Alert,"infoFilledBg",x("palette-info-main")),ue(b.Alert,"successFilledBg",x("palette-success-main")),ue(b.Alert,"warningFilledBg",x("palette-warning-main")),ue(b.Alert,"errorFilledColor",Ai(()=>b.getContrastText(b.error.main))),ue(b.Alert,"infoFilledColor",Ai(()=>b.getContrastText(b.info.main))),ue(b.Alert,"successFilledColor",Ai(()=>b.getContrastText(b.success.main))),ue(b.Alert,"warningFilledColor",Ai(()=>b.getContrastText(b.warning.main))),ue(b.Alert,"errorStandardBg",gt(b.error.light,.9)),ue(b.Alert,"infoStandardBg",gt(b.info.light,.9)),ue(b.Alert,"successStandardBg",gt(b.success.light,.9)),ue(b.Alert,"warningStandardBg",gt(b.warning.light,.9)),ue(b.Alert,"errorIconColor",x("palette-error-main")),ue(b.Alert,"infoIconColor",x("palette-info-main")),ue(b.Alert,"successIconColor",x("palette-success-main")),ue(b.Alert,"warningIconColor",x("palette-warning-main")),ue(b.AppBar,"defaultBg",x("palette-grey-100")),ue(b.Avatar,"defaultBg",x("palette-grey-400")),ue(b.Button,"inheritContainedBg",x("palette-grey-300")),ue(b.Button,"inheritContainedHoverBg",x("palette-grey-A100")),ue(b.Chip,"defaultBorder",x("palette-grey-400")),ue(b.Chip,"defaultAvatarColor",x("palette-grey-700")),ue(b.Chip,"defaultIconColor",x("palette-grey-700")),ue(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ue(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ue(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ue(b.LinearProgress,"primaryBg",gt(b.primary.main,.62)),ue(b.LinearProgress,"secondaryBg",gt(b.secondary.main,.62)),ue(b.LinearProgress,"errorBg",gt(b.error.main,.62)),ue(b.LinearProgress,"infoBg",gt(b.info.main,.62)),ue(b.LinearProgress,"successBg",gt(b.success.main,.62)),ue(b.LinearProgress,"warningBg",gt(b.warning.main,.62)),ue(b.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),ue(b.Slider,"primaryTrack",gt(b.primary.main,.62)),ue(b.Slider,"secondaryTrack",gt(b.secondary.main,.62)),ue(b.Slider,"errorTrack",gt(b.error.main,.62)),ue(b.Slider,"infoTrack",gt(b.info.main,.62)),ue(b.Slider,"successTrack",gt(b.success.main,.62)),ue(b.Slider,"warningTrack",gt(b.warning.main,.62));const P=pm(b.background.default,.8);ue(b.SnackbarContent,"bg",P),ue(b.SnackbarContent,"color",Ai(()=>b.getContrastText(P))),ue(b.SpeedDialAction,"fabHoverBg",pm(b.background.paper,.15)),ue(b.StepConnector,"border",x("palette-grey-400")),ue(b.StepContent,"border",x("palette-grey-400")),ue(b.Switch,"defaultColor",x("palette-common-white")),ue(b.Switch,"defaultDisabledColor",x("palette-grey-100")),ue(b.Switch,"primaryDisabledColor",gt(b.primary.main,.62)),ue(b.Switch,"secondaryDisabledColor",gt(b.secondary.main,.62)),ue(b.Switch,"errorDisabledColor",gt(b.error.main,.62)),ue(b.Switch,"infoDisabledColor",gt(b.info.main,.62)),ue(b.Switch,"successDisabledColor",gt(b.success.main,.62)),ue(b.Switch,"warningDisabledColor",gt(b.warning.main,.62)),ue(b.TableCell,"border",gt(fm(b.divider,1),.88)),ue(b.Tooltip,"bg",fm(b.grey[700],.92))}if(b.mode==="dark"){ue(b.Alert,"errorColor",gt(b.error.light,.6)),ue(b.Alert,"infoColor",gt(b.info.light,.6)),ue(b.Alert,"successColor",gt(b.success.light,.6)),ue(b.Alert,"warningColor",gt(b.warning.light,.6)),ue(b.Alert,"errorFilledBg",x("palette-error-dark")),ue(b.Alert,"infoFilledBg",x("palette-info-dark")),ue(b.Alert,"successFilledBg",x("palette-success-dark")),ue(b.Alert,"warningFilledBg",x("palette-warning-dark")),ue(b.Alert,"errorFilledColor",Ai(()=>b.getContrastText(b.error.dark))),ue(b.Alert,"infoFilledColor",Ai(()=>b.getContrastText(b.info.dark))),ue(b.Alert,"successFilledColor",Ai(()=>b.getContrastText(b.success.dark))),ue(b.Alert,"warningFilledColor",Ai(()=>b.getContrastText(b.warning.dark))),ue(b.Alert,"errorStandardBg",mt(b.error.light,.9)),ue(b.Alert,"infoStandardBg",mt(b.info.light,.9)),ue(b.Alert,"successStandardBg",mt(b.success.light,.9)),ue(b.Alert,"warningStandardBg",mt(b.warning.light,.9)),ue(b.Alert,"errorIconColor",x("palette-error-main")),ue(b.Alert,"infoIconColor",x("palette-info-main")),ue(b.Alert,"successIconColor",x("palette-success-main")),ue(b.Alert,"warningIconColor",x("palette-warning-main")),ue(b.AppBar,"defaultBg",x("palette-grey-900")),ue(b.AppBar,"darkBg",x("palette-background-paper")),ue(b.AppBar,"darkColor",x("palette-text-primary")),ue(b.Avatar,"defaultBg",x("palette-grey-600")),ue(b.Button,"inheritContainedBg",x("palette-grey-800")),ue(b.Button,"inheritContainedHoverBg",x("palette-grey-700")),ue(b.Chip,"defaultBorder",x("palette-grey-700")),ue(b.Chip,"defaultAvatarColor",x("palette-grey-300")),ue(b.Chip,"defaultIconColor",x("palette-grey-300")),ue(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ue(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ue(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ue(b.LinearProgress,"primaryBg",mt(b.primary.main,.5)),ue(b.LinearProgress,"secondaryBg",mt(b.secondary.main,.5)),ue(b.LinearProgress,"errorBg",mt(b.error.main,.5)),ue(b.LinearProgress,"infoBg",mt(b.info.main,.5)),ue(b.LinearProgress,"successBg",mt(b.success.main,.5)),ue(b.LinearProgress,"warningBg",mt(b.warning.main,.5)),ue(b.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),ue(b.Slider,"primaryTrack",mt(b.primary.main,.5)),ue(b.Slider,"secondaryTrack",mt(b.secondary.main,.5)),ue(b.Slider,"errorTrack",mt(b.error.main,.5)),ue(b.Slider,"infoTrack",mt(b.info.main,.5)),ue(b.Slider,"successTrack",mt(b.success.main,.5)),ue(b.Slider,"warningTrack",mt(b.warning.main,.5));const P=pm(b.background.default,.98);ue(b.SnackbarContent,"bg",P),ue(b.SnackbarContent,"color",Ai(()=>b.getContrastText(P))),ue(b.SpeedDialAction,"fabHoverBg",pm(b.background.paper,.15)),ue(b.StepConnector,"border",x("palette-grey-600")),ue(b.StepContent,"border",x("palette-grey-600")),ue(b.Switch,"defaultColor",x("palette-grey-300")),ue(b.Switch,"defaultDisabledColor",x("palette-grey-600")),ue(b.Switch,"primaryDisabledColor",mt(b.primary.main,.55)),ue(b.Switch,"secondaryDisabledColor",mt(b.secondary.main,.55)),ue(b.Switch,"errorDisabledColor",mt(b.error.main,.55)),ue(b.Switch,"infoDisabledColor",mt(b.info.main,.55)),ue(b.Switch,"successDisabledColor",mt(b.success.main,.55)),ue(b.Switch,"warningDisabledColor",mt(b.warning.main,.55)),ue(b.TableCell,"border",mt(fm(b.divider,1),.68)),ue(b.Tooltip,"bg",fm(b.grey[700],.92))}vs(b.background,"default"),vs(b.background,"paper"),vs(b.common,"background"),vs(b.common,"onBackground"),vs(b,"divider"),Object.keys(b).forEach(P=>{const O=b[P];P!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&ue(b[P],"mainChannel",od(ld(O.main))),O.light&&ue(b[P],"lightChannel",od(ld(O.light))),O.dark&&ue(b[P],"darkChannel",od(ld(O.dark))),O.contrastText&&ue(b[P],"contrastTextChannel",od(ld(O.contrastText))),P==="text"&&(vs(b[P],"primary"),vs(b[P],"secondary")),P==="action"&&(O.active&&vs(b[P],"active"),O.selected&&vs(b[P],"selected")))})}),q=e.reduce((C,b)=>Tr(C,b),q);const B={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:nU(q)},{vars:G,generateThemeVars:M,generateStyleSheets:R}=R5(q,B);return q.vars=G,Object.entries(q.colorSchemes[q.defaultColorScheme]).forEach(([C,b])=>{q[C]=b}),q.generateThemeVars=M,q.generateStyleSheets=R,q.generateSpacing=function(){return $P(d.spacing,zE(this))},q.getColorSchemeSelector=C5(h),q.spacing=q.generateSpacing(),q.shouldSkipGeneratingVar=u,q.unstable_sxConfig={...$g,...d==null?void 0:d.unstable_sxConfig},q.unstable_sx=function(b){return ju({sx:b,theme:this})},q.toRuntimeSource=ZP,q}function cR(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:YE({...t===!0?{}:t.palette,mode:e})})}function oU(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",f=i==null?void 0:i[h],d={...i,...t?{[h]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return z0(n,...e);let g=t;"palette"in n||d[h]&&(d[h]!==!0?g=d[h].palette:h==="dark"&&(g={mode:"dark"}));const _=z0({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=d,_.palette.mode==="light"&&(_.colorSchemes.light={...d.light!==!0&&d.light,palette:_.palette},cR(_,"dark",d.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:_.palette},cR(_,"light",d.light)),_}return!t&&!("light"in d)&&h==="light"&&(d.light=!0),aU({...u,colorSchemes:d,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const lU=oU(),uU="$$material";function nx(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const cU=n=>nx(n)&&n!=="classes",yf=c5({themeId:uU,defaultTheme:lU,rootShouldForwardProp:cU}),XE=T5;function rx(n){return w5(n)}function hU(n){return GE("MuiSvgIcon",n)}KP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const dU=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Na(e)}`,`fontSize${Na(t)}`]};return PP(i,hU,r)},fU=yf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Na(t.color)}`],e[`fontSize${Na(t.fontSize)}`]]}})(XE(({theme:n})=>{var e,t,r,i,o,u,h,f,d,g,_,v,T,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:I=>!I.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:g.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,I])=>I&&I.main).map(([I])=>{var D,U;return{props:{color:I},style:{color:(U=(D=(n.vars??n).palette)==null?void 0:D[I])==null?void 0:U.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(w=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),j0=Q.forwardRef(function(e,t){const r=rx({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,w=Q.isValidElement(i)&&i.type==="svg",I={...r,color:u,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},D={};g||(D.viewBox=v);const U=dU(I);return K.jsxs(fU,{as:h,className:Zo(U.root,o),focusable:"false",color:d,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...D,...T,...w&&i.props,ownerState:I,children:[w?i.props.children:i,_?K.jsx("title",{children:_}):null]})});j0.muiName="SvgIcon";function ix(n,e){function t(r,i){return K.jsx(j0,{"data-testid":void 0,ref:i,...r,children:n})}return t.muiName=j0.muiName,Q.memo(Q.forwardRef(t))}let hR=0;function pU(n){const[e,t]=Q.useState(n),r=n||e;return Q.useEffect(()=>{e==null&&(hR+=1,t(`mui-${hR}`))},[e]),r}const mU={...I0},dR=mU.useId;function sx(n){if(dR!==void 0){const e=dR();return n??e}return pU(n)}function gU(n){const{controlled:e,default:t}=n,{current:r}=Q.useRef(e!==void 0),[i,o]=Q.useState(t),u=r?e:i,h=Q.useCallback(f=>{r||o(f)},[]);return[u,h]}function ax(...n){const e=Q.useRef(void 0),t=Q.useCallback(r=>{const i=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,h=u(r);return typeof h=="function"?h:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},n);return Q.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const yU=ix(K.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),_U=ix(K.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function vU(n){return GE("MuiRating",n)}const Xh=KP("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function EU(n){return typeof n=="string"}function bU(n,e,t){return n===void 0||EU(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function wU(n,e,t){return typeof n=="function"?n(e,t):n}function TU(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function fR(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function SU(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const T=Zo(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),w={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},I={...t,...i,...r};return T.length>0&&(I.className=T),Object.keys(w).length>0&&(I.style=w),{props:I,internalRef:void 0}}const u=TU({...i,...r}),h=fR(r),f=fR(i),d=e(u),g=Zo(d==null?void 0:d.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),_={...d==null?void 0:d.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...d,...t,...f,...h};return g.length>0&&(v.className=g),Object.keys(_).length>0&&(v.style=_),{props:v,internalRef:d.ref}}function yd(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...f}=e,{component:d,slots:g={[n]:void 0},slotProps:_={[n]:void 0},...v}=o,T=g[n]||r,w=wU(_[n],i),{props:{component:I,...D},internalRef:U}=SU({className:t,...f,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:w}),L=ax(U,w==null?void 0:w.ref,e.ref),V=n==="root"?I||d:I,q=bU(T,{...n==="root"&&!d&&!g[n]&&u,...n!=="root"&&!g[n]&&u,...D,...V&&!h&&{as:V},...V&&h&&{component:V},ref:L},i);return[T,q]}function AU(n){const e=n.toString().split(".")[1];return e?e.length:0}function s0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(AU(e)))}const IU=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${Na(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return PP(h,vU,e)},RU=yf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Xh.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Na(t.size)}`],t.readOnly&&e.readOnly]}})(XE(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Xh.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Xh.focusVisible} .${Xh.iconActive}`]:{outline:"1px solid #999"},[`& .${Xh.visuallyHidden}`]:a3,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),ox=yf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),CU=yf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(XE(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),PU=yf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>nx(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function xU(n){const{value:e,...t}=n;return K.jsx("span",{...t})}function pR(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:f,IconContainerComponent:d,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:w,onChange:I,onClick:D,onFocus:U,readOnly:L,ownerState:V,ratingValue:q,ratingValueRounded:B,slots:G={},slotProps:M={}}=n,R=u?_===q:_<=q,C=_<=h,b=_<=i,x=_===B,P=`${T}-${sx()}`,O={slots:G,slotProps:M},[se,F]=yd("icon",{elementType:CU,className:Zo(e.icon,R?e.iconFilled:e.iconEmpty,C&&e.iconHover,b&&e.iconFocus,g&&e.iconActive),externalForwardedProps:O,ownerState:{...V,iconEmpty:!R,iconFilled:R,iconHover:C,iconFocus:b,iconActive:g},additionalProps:{value:_},internalForwardedProps:{as:d}}),[$,ee]=yd("label",{elementType:ox,externalForwardedProps:O,ownerState:{...V,emptyValueFocused:void 0},additionalProps:{style:v==null?void 0:v.style,htmlFor:P}}),oe=K.jsx(se,{...F,children:r&&!R?r:f});return L?K.jsx("span",{...v,children:oe}):K.jsxs(Q.Fragment,{children:[K.jsxs($,{...ee,children:[oe,K.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),K.jsx("input",{className:e.visuallyHidden,onFocus:U,onBlur:w,onChange:I,onClick:D,disabled:t,value:_,id:P,type:"radio",name:T,checked:x})]})}const OU=K.jsx(yU,{fontSize:"inherit"}),DU=K.jsx(_U,{fontSize:"inherit"});function NU(n){return`${n||"0"} Star${n!==1?"s":""}`}const kU=Q.forwardRef(function(e,t){const r=rx({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:f=DU,emptyLabelText:d="Empty",getLabelText:g=NU,highlightSelectedOnly:_=!1,icon:v=OU,IconContainerComponent:T=xU,max:w=5,name:I,onChange:D,onChangeActive:U,onMouseLeave:L,onMouseMove:V,precision:q=1,readOnly:B=!1,size:G="medium",value:M,slots:R={},slotProps:C={},...b}=r,x=sx(I),[P,O]=gU({controlled:M,default:u}),se=s0(P,q),F=l3(),[{hover:$,focus:ee},oe]=Q.useState({hover:-1,focus:-1});let we=se;$!==-1&&(we=$),ee!==-1&&(we=ee);const[j,le]=Q.useState(!1),ye=Q.useRef(),me=ax(ye,t),Te=Fe=>{V&&V(Fe);const yt=ye.current,{right:bt,left:oi,width:Kr}=yt.getBoundingClientRect();let it;F?it=(bt-Fe.clientX)/Kr:it=(Fe.clientX-oi)/Kr;let Ue=s0(w*it+q/2,q);Ue=CP(Ue,q,w),oe(Ht=>Ht.hover===Ue&&Ht.focus===Ue?Ht:{hover:Ue,focus:Ue}),le(!1),U&&$!==Ue&&U(Fe,Ue)},ke=Fe=>{L&&L(Fe);const yt=-1;oe({hover:yt,focus:yt}),U&&$!==yt&&U(Fe,yt)},Pe=Fe=>{let yt=Fe.target.value===""?null:parseFloat(Fe.target.value);$!==-1&&(yt=$),O(yt),D&&D(Fe,yt)},qt=Fe=>{Fe.clientX===0&&Fe.clientY===0||(oe({hover:-1,focus:-1}),O(null),D&&parseFloat(Fe.target.value)===se&&D(Fe,null))},nt=Fe=>{zI(Fe.target)&&le(!0);const yt=parseFloat(Fe.target.value);oe(bt=>({hover:bt.hover,focus:yt}))},Ir=Fe=>{if($!==-1)return;zI(Fe.target)||le(!1);const yt=-1;oe(bt=>({hover:bt.hover,focus:yt}))},[ai,Rr]=Q.useState(!1),ur={...r,component:i,defaultValue:u,disabled:h,emptyIcon:f,emptyLabelText:d,emptyValueFocused:ai,focusVisible:j,getLabelText:g,icon:v,IconContainerComponent:T,max:w,precision:q,readOnly:B,size:G},Nn=IU(ur),Gr={slots:R,slotProps:C},[no,Al]=yd("root",{ref:me,className:Zo(Nn.root,o),elementType:RU,externalForwardedProps:{...Gr,...b,component:i},getSlotProps:Fe=>({...Fe,onMouseMove:yt=>{var bt;Te(yt),(bt=Fe.onMouseMove)==null||bt.call(Fe,yt)},onMouseLeave:yt=>{var bt;ke(yt),(bt=Fe.onMouseLeave)==null||bt.call(Fe,yt)}}),ownerState:ur,additionalProps:{role:B?"img":null,"aria-label":B?g(we):null}}),[Xn,Oc]=yd("label",{className:Zo(Nn.label,Nn.labelEmptyValue),elementType:ox,externalForwardedProps:Gr,ownerState:ur}),[ro,Ki]=yd("decimal",{className:Nn.decimal,elementType:PU,externalForwardedProps:Gr,ownerState:ur});return K.jsxs(no,{...Al,children:[Array.from(new Array(w)).map((Fe,yt)=>{const bt=yt+1,oi={classes:Nn,disabled:h,emptyIcon:f,focus:ee,getLabelText:g,highlightSelectedOnly:_,hover:$,icon:v,IconContainerComponent:T,name:x,onBlur:Ir,onChange:Pe,onClick:qt,onFocus:nt,ratingValue:we,ratingValueRounded:se,readOnly:B,ownerState:ur,slots:R,slotProps:C},Kr=bt===Math.ceil(we)&&($!==-1||ee!==-1);if(q<1){const it=Array.from(new Array(1/q));return Q.createElement(ro,{...Ki,key:bt,className:Zo(Ki.className,Kr&&Nn.iconActive),iconActive:Kr},it.map((Ue,Ht)=>{const Jt=s0(bt-1+(Ht+1)*q,q);return K.jsx(pR,{...oi,isActive:!1,itemValue:Jt,labelProps:{style:it.length-1===Ht?{}:{width:Jt===we?`${(Ht+1)*q*100}%`:"0%",overflow:"hidden",position:"absolute"}}},Jt)}))}return K.jsx(pR,{...oi,isActive:Kr,itemValue:bt},bt)}),!B&&!h&&K.jsxs(Xn,{...Oc,children:[K.jsx("input",{className:Nn.visuallyHidden,value:"",id:`${x}-empty`,type:"radio",name:x,checked:se==null,onFocus:()=>Rr(!0),onBlur:()=>Rr(!1),onChange:Pe}),K.jsx("span",{className:Nn.visuallyHidden,children:d})]})]})});var Nm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var MU=Nm.exports,mR;function VU(){return mR||(mR=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(MU,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function f(d,g){this._input=d,this._value=g}return e=function(d){var g,_,v,T;if(e.isNumeral(d))g=d.value();else if(d===0||typeof d>"u")g=0;else if(d===null||t.isNaN(d))g=null;else if(typeof d=="string")if(h.zeroFormat&&d===h.zeroFormat)g=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&d.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(d)}else g=Number(d)||null;return new f(d,g)},e.version=r,e.isNumeral=function(d){return d instanceof f},e._=t={numberToFormat:function(d,g,_){var v=o[e.options.currentLocale],T=!1,w=!1,I=0,D="",U=1e12,L=1e9,V=1e6,q=1e3,B="",G=!1,M,R,C,b,x,P,O;if(d=d||0,R=Math.abs(d),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(x=e._.includes(g,"+")?g.indexOf("+"):d<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(D=" "),g=g.replace(new RegExp(D+"a[kmbt]?"),""),R>=U&&!M||M==="t"?(D+=v.abbreviations.trillion,d=d/U):R<U&&R>=L&&!M||M==="b"?(D+=v.abbreviations.billion,d=d/L):R<L&&R>=V&&!M||M==="m"?(D+=v.abbreviations.million,d=d/V):(R<V&&R>=q&&!M||M==="k")&&(D+=v.abbreviations.thousand,d=d/q)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),C=d.toString().split(".")[0],b=g.split(".")[1],P=g.indexOf(","),I=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,b?(e._.includes(b,"[")?(b=b.replace("]",""),b=b.split("["),B=e._.toFixed(d,b[0].length+b[1].length,_,b[1].length)):B=e._.toFixed(d,b.length,_),C=B.split(".")[0],e._.includes(B,".")?B=v.delimiters.decimal+B.split(".")[1]:B="",w&&Number(B.slice(1))===0&&(B="")):C=e._.toFixed(d,0,_),D&&!M&&Number(C)>=1e3&&D!==v.abbreviations.trillion)switch(C=String(Number(C)/1e3),D){case v.abbreviations.thousand:D=v.abbreviations.million;break;case v.abbreviations.million:D=v.abbreviations.billion;break;case v.abbreviations.billion:D=v.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),G=!0),C.length<I)for(var se=I-C.length;se>0;se--)C="0"+C;return P>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(C=""),O=C+B+(D||""),T?O=(T&&G?"(":"")+O+(T&&G?")":""):x>=0?O=x===0?(G?"-":"+")+O:O+(G?"-":"+"):G&&(O="-"+O),O},stringToNumber:function(d){var g=o[h.currentLocale],_=d,v={thousand:3,million:6,billion:9,trillion:12},T,w,I;if(h.zeroFormat&&d===h.zeroFormat)w=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(d=d.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(I=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(I)){w*=Math.pow(10,v[T]);break}w*=(d.split("-").length+Math.min(d.split("(").length-1,d.split(")").length-1))%2?1:-1,d=d.replace(/[^0-9\.]+/g,""),w*=Number(d)}return w},isNaN:function(d){return typeof d=="number"&&isNaN(d)},includes:function(d,g){return d.indexOf(g)!==-1},insert:function(d,g,_){return d.slice(0,_)+g+d.slice(_)},reduce:function(d,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(d),v=_.length>>>0,T=0,w;if(arguments.length===3)w=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[T++]}for(;T<v;T++)T in _&&(w=g(w,_[T],T,_));return w},multiplier:function(d){var g=d.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var d=Array.prototype.slice.call(arguments);return d.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(d,g,_,v){var T=d.toString().split("."),w=g-(v||0),I,D,U,L;return T.length===2?I=Math.min(Math.max(T[1].length,w),g):I=w,U=Math.pow(10,I),L=(_(d+"e+"+I)/U).toFixed(I),v>g-I&&(D=new RegExp("\\.?0{1,"+(v-(g-I))+"}$"),L=L.replace(D,"")),L}},e.options=h,e.formats=i,e.locales=o,e.locale=function(d){return d&&(h.currentLocale=d.toLowerCase()),h.currentLocale},e.localeData=function(d){if(!d)return o[h.currentLocale];if(d=d.toLowerCase(),!o[d])throw new Error("Unknown locale : "+d);return o[d]},e.reset=function(){for(var d in u)h[d]=u[d]},e.zeroFormat=function(d){h.zeroFormat=typeof d=="string"?d:null},e.nullFormat=function(d){h.nullFormat=typeof d=="string"?d:null},e.defaultFormat=function(d){h.defaultFormat=typeof d=="string"?d:"0.0"},e.register=function(d,g,_){if(g=g.toLowerCase(),this[d+"s"][g])throw new TypeError(g+" "+d+" already registered.");return this[d+"s"][g]=_,_},e.validate=function(d,g){var _,v,T,w,I,D,U,L;if(typeof d!="string"&&(d+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",d)),d=d.trim(),d.match(/^\d+$/))return!0;if(d==="")return!1;try{U=e.localeData(g)}catch{U=e.localeData(e.locale())}return T=U.currency.symbol,I=U.abbreviations,_=U.delimiters.decimal,U.delimiters.thousands==="."?v="\\.":v=U.delimiters.thousands,L=d.match(/^[^\d]+/),L!==null&&(d=d.substr(1),L[0]!==T)||(L=d.match(/[^\d]+$/),L!==null&&(d=d.slice(0,-1),L[0]!==I.thousand&&L[0]!==I.million&&L[0]!==I.billion&&L[0]!==I.trillion))?!1:(D=new RegExp(v+"{2}"),d.match(/[^\d.,]/g)?!1:(w=d.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(D):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(D)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(D)&&!!w[1].match(/^\d+$/)))},e.fn=f.prototype={clone:function(){return e(this)},format:function(d,g){var _=this._value,v=d||h.defaultFormat,T,w,I;if(g=g||Math.round,_===0&&h.zeroFormat!==null)w=h.zeroFormat;else if(_===null&&h.nullFormat!==null)w=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){I=i[T].format;break}I=I||e._.numberToFormat,w=I(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(d){return this._value=Number(d),this},add:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,w,I){return v+Math.round(g*T)}return this._value=t.reduce([this._value,d],_,0)/g,this},subtract:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,w,I){return v-Math.round(g*T)}return this._value=t.reduce([d],_,Math.round(this._value*g))/g,this},multiply:function(d){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)*Math.round(v*I)/Math.round(I*I)}return this._value=t.reduce([this._value,d],g,1),this},divide:function(d){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)/Math.round(v*I)}return this._value=t.reduce([this._value,d],g),this},difference:function(d){return Math.abs(e(this._value).subtract(d).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(d){var g=d%10;return~~(d%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(d,g,_){var v=e._.includes(g," BPS")?" ":"",T;return d=d*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(d){return+(e._.stringToNumber(d)*1e-4).toFixed(15)}})}(),function(){var d={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=d.suffixes.concat(g.suffixes.filter(function(T){return d.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,w,I){var D,U=e._.includes(w,"ib")?g:d,L=e._.includes(w," b")||e._.includes(w," ib")?" ":"",V,q,B;for(w=w.replace(/\s?i?b/,""),V=0;V<=U.suffixes.length;V++)if(q=Math.pow(U.base,V),B=Math.pow(U.base,V+1),T===null||T===0||T>=q&&T<B){L+=U.suffixes[V],q>0&&(T=T/q);break}return D=e._.numberToFormat(T,w,I),D+L},unformat:function(T){var w=e._.stringToNumber(T),I,D;if(w){for(I=d.suffixes.length-1;I>=0;I--){if(e._.includes(T,d.suffixes[I])){D=Math.pow(d.base,I);break}if(e._.includes(T,g.suffixes[I])){D=Math.pow(g.base,I);break}}w*=D||1}return w}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,I,D;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(d,g,_),d>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):d<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),D=0;D<T.before.length;D++)switch(I=T.before[D],I){case"$":w=e._.insert(w,v.currency.symbol,D);break;case" ":w=e._.insert(w," ",D+v.currency.symbol.length-1);break}for(D=T.after.length-1;D>=0;D--)switch(I=T.after[D],I){case"$":w=D===T.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(T.after.length-(1+D)));break;case" ":w=D===T.after.length-1?w+" ":e._.insert(w," ",-(T.after.length-(1+D)+v.currency.symbol.length-1));break}return w}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(d,g,_){var v,T=typeof d=="number"&&!e._.isNaN(d)?d.toExponential():"0e+0",w=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(d){var g=e._.includes(d,"e+")?d.split("e+"):d.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(d,"e-")?v*=-1:v;function T(w,I,D,U){var L=e._.correctionFactor(w,I),V=w*L*(I*L)/(L*L);return V}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(d),T=e._.numberToFormat(d,g,_),T+w}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(d,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(d=d*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(d){var g=e._.stringToNumber(d);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(d,g,_){var v=Math.floor(d/60/60),T=Math.floor((d-v*60*60)/60),w=Math.round(d-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(w<10?"0"+w:w)},unformat:function(d){var g=d.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(Nm)),Nm.exports}var LU=VU();const UU=CC(LU),lx=({amount:n})=>{const e=UU(n).format("$0,0.00");return K.jsx("div",{children:e})},BU="_card_container_y68sv_1",FU="_button_y68sv_19",zU="_rating_y68sv_115",jU="_product_container_y68sv_125",qU="_product_flexed_y68sv_149",ud={card_container:BU,button:FU,rating:zU,product_container:jU,product_flexed:qU};function Yg({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:o,id:u,rating:h,price:f,description:d}=n,[g,_]=Q.useContext(hf);console.log(g);const v=()=>{_({type:Ra.ADD_TO_BASKET,item:{id:u,title:o,price:f,image:i,rating:h,description:d}})};return K.jsxs("div",{className:`${ud.card_container} ${e?ud.product_flexed:""}`,children:[K.jsx(nr,{to:`/products/${u}`,children:K.jsx("img",{src:i,alt:o})}),K.jsxs("div",{children:[K.jsx("h3",{children:o}),t&&K.jsx("div",{style:{width:"500px"},children:d}),K.jsxs("div",{className:ud.rating,children:[K.jsx(kU,{value:h.rate,precision:.1,readOnly:!0}),K.jsx("small",{children:h.count})]}),K.jsx("div",{children:K.jsx(lx,{amount:f})}),r&&K.jsx("button",{className:ud.button,onClick:v,children:"Add to cart"})]})]})}var HU={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function ux(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return HU[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function mm(n){var e=ux(n);return"".concat(e.value).concat(e.unit)}var $U=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},rn=function(){return rn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rn.apply(this,arguments)},GU=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},KU=$U("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function WU(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.height,g=d===void 0?15:d,_=n.width,v=_===void 0?5:_,T=n.radius,w=T===void 0?2:T,I=n.margin,D=I===void 0?2:I,U=GU(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),L=ux(D).value,V=L+18,q=V/2+V/5.5,B=rn({display:"inherit",position:"relative",fontSize:"0",top:V,left:V,width:"".concat(V*3,"px"),height:"".concat(V*3,"px")},f),G=function(F){return{position:"absolute",width:mm(v),height:mm(g),margin:mm(D),backgroundColor:i,borderRadius:mm(w),transition:"2s",animationFillMode:"both",animation:"".concat(KU," ").concat(1.2/u,"s ").concat(F*.12,"s infinite ease-in-out")}},M=rn(rn({},G(1)),{top:"".concat(V,"px"),left:"0"}),R=rn(rn({},G(2)),{top:"".concat(q,"px"),left:"".concat(q,"px"),transform:"rotate(-45deg)"}),C=rn(rn({},G(3)),{top:"0",left:"".concat(V,"px"),transform:"rotate(90deg)"}),b=rn(rn({},G(4)),{top:"".concat(-1*q,"px"),left:"".concat(q,"px"),transform:"rotate(45deg)"}),x=rn(rn({},G(5)),{top:"".concat(-1*V,"px"),left:"0"}),P=rn(rn({},G(6)),{top:"".concat(-1*q,"px"),left:"".concat(-1*q,"px"),transform:"rotate(-45deg)"}),O=rn(rn({},G(7)),{top:"0",left:"".concat(-1*V,"px"),transform:"rotate(90deg)"}),se=rn(rn({},G(8)),{top:"".concat(q,"px"),left:"".concat(-1*q,"px"),transform:"rotate(45deg)"});return t?Q.createElement("span",rn({style:B},U),Q.createElement("span",{style:M}),Q.createElement("span",{style:R}),Q.createElement("span",{style:C}),Q.createElement("span",{style:b}),Q.createElement("span",{style:x}),Q.createElement("span",{style:P}),Q.createElement("span",{style:O}),Q.createElement("span",{style:se})):null}function JE(){return K.jsx("div",{style:QU.loaderContainer,children:K.jsx(WU,{color:"#36d7b7"})})}const QU={loaderContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",backgroundColor:"#f0f0f0"}};function YU(){const[n,e]=Q.useState([]),[t,r]=Q.useState(!0);return Q.useEffect(()=>{Nt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.error("Error fetching products:",i),r(!1)})},[]),t?K.jsx(JE,{}):K.jsx("section",{className:ud.product_container,children:n.map(i=>K.jsx(Yg,{product:i,renderAdd:!0},i.id))})}function XU(){return K.jsxs(rl,{children:[K.jsx(SL,{}),K.jsx(PL,{}),K.jsx(YU,{})]})}const JU="_authContainer_cklvk_1",ZU="_logo_cklvk_19",e9="_signupBox_cklvk_29",a0={authContainer:JU,logo:ZU,signupBox:e9},t9=()=>{};var gR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},n9=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|d>>6,T=d&63;f||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):n9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||d==null||_==null)throw new r9;const v=o<<2|h>>4;if(r.push(v),d!==64){const T=h<<4&240|d>>2;if(r.push(T),_!==64){const w=d<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class r9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i9=function(n){const e=cx(n);return hx.encodeByteArray(e,!0)},ng=function(n){return i9(n).replace(/\./g,"")},ZE=function(n){try{return hx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!s9(t)||(n[t]=rg(n[t],e[t]));return n}function s9(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=()=>eb().__FIREBASE_DEFAULTS__,o9=()=>{if(typeof process>"u"||typeof gR>"u")return;const n=gR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},l9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ZE(n[1]);return e&&JSON.parse(e)},Xg=()=>{try{return t9()||a9()||o9()||l9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dx=n=>{var e,t;return(t=(e=Xg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},u9=n=>{const e=dx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fx=()=>{var n;return(n=Xg())===null||n===void 0?void 0:n.config},px=n=>{var e;return(e=Xg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){return n.endsWith(".cloudworkstations.dev")}async function mx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ng(JSON.stringify(t)),ng(JSON.stringify(u)),""].join(".")}const _d={};function d9(){const n={prod:[],emulator:[]};for(const e of Object.keys(_d))_d[e]?n.emulator.push(e):n.prod.push(e);return n}function f9(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let yR=!1;function gx(n,e){if(typeof window>"u"||typeof document>"u"||!_f(window.location.host)||_d[n]===e||_d[n]||yR)return;_d[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=d9().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{yR=!0,u()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=f9(r),T=t("text"),w=document.getElementById(T)||document.createElement("span"),I=t("learnmore"),D=document.getElementById(I)||document.createElement("a"),U=t("preprendIcon"),L=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const V=v.element;h(V),g(D,I);const q=d();f(L,U),V.append(L,w,D,q),document.body.appendChild(V)}o?(w.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function Jg(){var n;const e=(n=Xg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m9(){return typeof window<"u"||yx()}function yx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function g9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _x(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vx(){const n=kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ex(){return!Jg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bx(){return!Jg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Bd(){try{return typeof indexedDB=="object"}catch{return!1}}function y9(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="FirebaseError";class Wn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_9,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?v9(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Wn(i,h,r)}}function v9(n,e){return n.replace(E9,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const E9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function b9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ps(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(vR(o)&&vR(u)){if(!Ps(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function vR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function cd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wx(n,e){const t=new w9(n,e);return t.subscribe.bind(t)}class w9{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");T9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=o0),i.error===void 0&&(i.error=o0),i.complete===void 0&&(i.complete=o0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function o0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class Fi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new c9;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I9(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A9(n){return n===Bo?void 0:n}function I9(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new S9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=[];var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const Sx={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},R9=He.INFO,C9={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},P9=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=C9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zg{constructor(e){this.name=e,this._logLevel=R9,this._logHandler=P9,this._userLogHandler=null,nb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}function x9(n){nb.forEach(e=>{e.setLogLevel(n)})}function O9(n,e){for(const t of nb){let r=null;e&&e.level&&(r=Sx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??i.logLevel)&&n({level:He[o].toLowerCase(),message:h,args:u,type:i.name})}}}const D9=(n,e)=>e.some(t=>n instanceof t);let ER,bR;function N9(){return ER||(ER=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k9(){return bR||(bR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ax=new WeakMap,q0=new WeakMap,Ix=new WeakMap,l0=new WeakMap,rb=new WeakMap;function M9(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ca(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Ax.set(t,n)}).catch(()=>{}),rb.set(e,n),e}function V9(n){if(q0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});q0.set(n,e)}let H0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return q0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ix.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ca(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L9(n){H0=n(H0)}function U9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(u0(this),e,...t);return Ix.set(r,e.sort?e.sort():[e]),Ca(r)}:k9().includes(n)?function(...e){return n.apply(u0(this),e),Ca(Ax.get(this))}:function(...e){return Ca(n.apply(u0(this),e))}}function B9(n){return typeof n=="function"?U9(n):(n instanceof IDBTransaction&&V9(n),D9(n,N9())?new Proxy(n,H0):n)}function Ca(n){if(n instanceof IDBRequest)return M9(n);if(l0.has(n))return l0.get(n);const e=B9(n);return e!==n&&(l0.set(n,e),rb.set(e,n)),e}const u0=n=>rb.get(n);function F9(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Ca(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ca(u.result),f.oldVersion,f.newVersion,Ca(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const z9=["get","getKey","getAll","getAllKeys","count"],j9=["put","add","delete","clear"],c0=new Map;function wR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(c0.get(e))return c0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=j9.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||z9.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),i&&f.done]))[0]};return c0.set(e,o),o}L9(n=>({...n,get:(e,t,r)=>wR(e,t)||n.get(e,t,r),has:(e,t)=>!!wR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(H9(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function H9(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",$0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Zg("@firebase/app"),$9="@firebase/app-compat",G9="@firebase/analytics-compat",K9="@firebase/analytics",W9="@firebase/app-check-compat",Q9="@firebase/app-check",Y9="@firebase/auth",X9="@firebase/auth-compat",J9="@firebase/database",Z9="@firebase/data-connect",eB="@firebase/database-compat",tB="@firebase/functions",nB="@firebase/functions-compat",rB="@firebase/installations",iB="@firebase/installations-compat",sB="@firebase/messaging",aB="@firebase/messaging-compat",oB="@firebase/performance",lB="@firebase/performance-compat",uB="@firebase/remote-config",cB="@firebase/remote-config-compat",hB="@firebase/storage",dB="@firebase/storage-compat",fB="@firebase/firestore",pB="@firebase/ai",mB="@firebase/firestore-compat",gB="firebase",yB="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]",_B={[ig]:"fire-core",[$9]:"fire-core-compat",[K9]:"fire-analytics",[G9]:"fire-analytics-compat",[Q9]:"fire-app-check",[W9]:"fire-app-check-compat",[Y9]:"fire-auth",[X9]:"fire-auth-compat",[J9]:"fire-rtdb",[Z9]:"fire-data-connect",[eB]:"fire-rtdb-compat",[tB]:"fire-fn",[nB]:"fire-fn-compat",[rB]:"fire-iid",[iB]:"fire-iid-compat",[sB]:"fire-fcm",[aB]:"fire-fcm-compat",[oB]:"fire-perf",[lB]:"fire-perf-compat",[uB]:"fire-rc",[cB]:"fire-rc-compat",[hB]:"fire-gcs",[dB]:"fire-gcs-compat",[fB]:"fire-fst",[mB]:"fire-fst-compat",[pB]:"fire-vertex","fire-js":"fire-js",[gB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Map,Hu=new Map,$u=new Map;function Fd(n,e){try{n.container.addComponent(e)}catch(t){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rx(n,e){n.container.addOrOverwriteComponent(e)}function La(n){const e=n.name;if($u.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;$u.set(e,n);for(const t of Va.values())Fd(t,n);for(const t of Hu.values())Fd(t,n);return!0}function vf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vB(n,e,t=Ma){vf(n,e).clearInstance(t)}function Cx(n){return n.options!==void 0}function It(n){return n==null?!1:n.settings!==void 0}function EB(){$u.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new vl("app","Firebase",bB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Px=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n,e){const t=ZE(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class wB extends Px{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&TR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&TR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,qr(ig,$0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){sb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw jr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=yB;function ey(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ma,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(t||(t=fx()),!t)throw jr.create("no-options");const o=Va.get(i);if(o){if(Ps(t,o.options)&&Ps(r,o.config))return o;throw jr.create("duplicate-app",{appName:i})}const u=new Tx(i);for(const f of $u.values())u.addComponent(f);const h=new Px(t,r,u);return Va.set(i,h),h}function TB(n,e){if(m9()&&!yx())throw jr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let t;Cx(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=d=>[...d].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw jr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Hu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new Tx(o);for(const d of $u.values())h.addComponent(d);const f=new wB(t,e,o,h);return Hu.set(o,f),f}function ib(n=Ma){const e=Va.get(n);if(!e&&n===Ma&&fx())return ey();if(!e)throw jr.create("no-app",{appName:n});return e}function SB(){return Array.from(Va.values())}async function sb(n){let e=!1;const t=n.name;Va.has(t)?(e=!0,Va.delete(t)):Hu.has(t)&&n.decRefCount()<=0&&(Hu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function qr(n,e,t){var r;let i=(r=_B[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(h.join(" "));return}La(new Fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function xx(n,e){if(n!==null&&typeof n!="function")throw jr.create("invalid-log-argument");O9(n,e)}function Ox(n){x9(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB="firebase-heartbeat-database",IB=1,zd="firebase-heartbeat-store";let h0=null;function Dx(){return h0||(h0=F9(AB,IB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zd)}catch(t){console.warn(t)}}}}).catch(n=>{throw jr.create("idb-open",{originalErrorMessage:n.message})})),h0}async function RB(n){try{const t=(await Dx()).transaction(zd),r=await t.objectStore(zd).get(Nx(n));return await t.done,r}catch(e){if(e instanceof Wn)xs.warn(e.message);else{const t=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xs.warn(t.message)}}}async function SR(n,e){try{const r=(await Dx()).transaction(zd,"readwrite");await r.objectStore(zd).put(e,Nx(n)),await r.done}catch(t){if(t instanceof Wn)xs.warn(t.message);else{const r=jr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xs.warn(r.message)}}}function Nx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=1024,PB=30;class xB{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DB(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>PB){const u=NB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=AR(),{heartbeatsToSend:r,unsentEntries:i}=OB(this._heartbeatsCache.heartbeats),o=ng(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return xs.warn(t),""}}}function AR(){return new Date().toISOString().substring(0,10)}function OB(n,e=CB){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),IR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),IR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class DB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bd()?y9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RB(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return SR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return SR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IR(n){return ng(JSON.stringify({version:2,heartbeats:n})).length}function NB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(n){La(new Fi("platform-logger",e=>new q9(e),"PRIVATE")),La(new Fi("heartbeat",e=>new xB(e),"PRIVATE")),qr(ig,$0,n),qr(ig,$0,"esm2017"),qr("fire-js","")}kB("");const MB=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Wn,SDK_VERSION:Qa,_DEFAULT_ENTRY_NAME:Ma,_addComponent:Fd,_addOrOverwriteComponent:Rx,_apps:Va,_clearComponents:EB,_components:$u,_getProvider:vf,_isFirebaseApp:Cx,_isFirebaseServerApp:It,_registerComponent:La,_removeServiceInstance:vB,_serverApps:Hu,deleteApp:sb,getApp:ib,getApps:SB,initializeApp:ey,initializeServerApp:TB,onLog:xx,registerVersion:qr,setLogLevel:Ox},Symbol.toStringTag,{value:"Module"}));var VB="firebase",LB="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(VB,LB,"app");function ab(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Jh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},bu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BB=UB,FB=kx,Mx=new vl("auth","Firebase",kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Zg("@firebase/auth");function zB(n,...e){sg.logLevel<=He.WARN&&sg.warn(`Auth (${Qa}): ${n}`,...e)}function km(n,...e){sg.logLevel<=He.ERROR&&sg.error(`Auth (${Qa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n,...e){throw lb(n,...e)}function fn(n,...e){return lb(n,...e)}function ob(n,e,t){const r=Object.assign(Object.assign({},FB()),{[e]:t});return new vl("auth","Firebase",r).create(e,{appName:n.name})}function wn(n){return ob(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ec(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tn(n,"argument-error"),ob(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Mx.create(n,...e)}function ge(n,e,...t){if(!n)throw lb(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw km(e),new Error(e)}function ii(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ub(){return RR()==="http:"||RR()==="https:"}function RR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ub()||_x()||"connection"in navigator)?navigator.onLine:!0}function qB(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=p9()||tb()}get(){return jB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n,e){ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GB=new Ef(3e4,6e4);function zt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function jt(n,e,t,r,i={}){return Lx(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=vc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},o);return g9()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&_f(n.emulatorConfig.host)&&(d.credentials="include"),Vx.fetch()(await Ux(n,n.config.apiHost,t,h),d)})}async function Lx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},HB),e);try{const i=new WB(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw hd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw hd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw hd(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ob(n,g,d);Tn(n,g)}}catch(i){if(i instanceof Wn)throw i;Tn(n,"network-request-failed",{message:String(i)})}}async function Ms(n,e,t,r,i={}){const o=await jt(n,e,t,r,i);return"mfaPendingCredential"in o&&Tn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Ux(n,e,t,r){const i=`${e}${t}?${r}`,o=n,u=o.config.emulator?cb(n.config,i):`${n.config.apiScheme}://${i}`;return $B.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function KB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(fn(this.auth,"network-request-failed")),GB.get())})}}function hd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=fn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n){return n!==void 0&&n.getResponse!==void 0}function PR(n){return n!==void 0&&n.enterprise!==void 0}class Bx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(n){return(await jt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Fx(n,e){return jt(n,"GET","/v2/recaptchaConfig",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YB(n,e){return jt(n,"POST","/v1/accounts:delete",e)}async function XB(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function ag(n,e){return jt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JB(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=ty(r);ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:vd(d0(i.auth_time)),issuedAtTime:vd(d0(i.iat)),expirationTime:vd(d0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function d0(n){return Number(n)*1e3}function ty(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return km("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZE(t);return i?JSON.parse(i):(km("Failed to decode base64 JWT payload"),null)}catch(i){return km("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xR(n){const e=ty(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Wn&&ZB(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ZB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vd(this.lastLoginAt),this.creationTime=vd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Os(n,ag(t,{idToken:r}));ge(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?zx(o.providerUserInfo):[],h=nF(n.providerData,u),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new G0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function tF(n){const e=Ce(n);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zx(n){return n.map(e=>{var{providerId:t}=e,r=ab(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(n,e){const t=await Lx(n,{},async()=>{const r=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=await Ux(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Vx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iF(n,e){return jt(n,"POST","/v2/accounts:revokeToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=xR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await rF(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new Vu;return r&&(ge(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vu,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ab(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new G0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Os(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JB(this,e)}reload(){return tF(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(It(this.auth.app))return Promise.reject(wn(this.auth));const e=await this.getIdToken();return await Os(this,YB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,f,d,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,U=(d=t.createdAt)!==null&&d!==void 0?d:void 0,L=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:q,isAnonymous:B,providerData:G,stsTokenManager:M}=t;ge(V&&M,e,"internal-error");const R=Vu.fromJSON(this.name,M);ge(typeof V=="string",e,"internal-error"),ma(_,e.name),ma(v,e.name),ge(typeof q=="boolean",e,"internal-error"),ge(typeof B=="boolean",e,"internal-error"),ma(T,e.name),ma(w,e.name),ma(I,e.name),ma(D,e.name),ma(U,e.name),ma(L,e.name);const C=new ni({uid:V,auth:e,email:v,emailVerified:q,displayName:_,isAnonymous:B,photoURL:w,phoneNumber:T,tenantId:I,stsTokenManager:R,createdAt:U,lastLoginAt:L});return G&&Array.isArray(G)&&(C.providerData=G.map(b=>Object.assign({},b))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Vu;i.updateFromServerResponse(t);const o=new ni({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?zx(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Vu;h.updateFromIdToken(r);const f=new ni({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new G0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Map;function wr(n){ii(n instanceof Function,"Expected a class definition");let e=OR.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,OR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jx.type="NONE";const Gu=jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n,e,t){return`firebase:${n}:${e}:${t}`}class Lu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=el(this.userKey,i.apiKey,o),this.fullPersistenceKey=el("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ag(this.auth,{idToken:e}).catch(()=>{});return t?ni._fromGetAccountInfoResponse(this.auth,t,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Lu(wr(Gu),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||wr(Gu);const u=el(r,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let _;if(typeof g=="string"){const v=await ag(e,{idToken:g}).catch(()=>{});if(!v)break;_=await ni._fromGetAccountInfoResponse(e,v,g)}else _=ni._fromJSON(e,g);d!==o&&(h=_),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Lu(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Lu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kx(e))return"Blackberry";if(Wx(e))return"Webos";if(Hx(e))return"Safari";if((e.includes("chrome/")||$x(e))&&!e.includes("edge/"))return"Chrome";if(bf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qx(n=kt()){return/firefox\//i.test(n)}function Hx(n=kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $x(n=kt()){return/crios\//i.test(n)}function Gx(n=kt()){return/iemobile/i.test(n)}function bf(n=kt()){return/android/i.test(n)}function Kx(n=kt()){return/blackberry/i.test(n)}function Wx(n=kt()){return/webos/i.test(n)}function wf(n=kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sF(n=kt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function aF(n=kt()){var e;return wf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oF(){return vx()&&document.documentMode===10}function Qx(n=kt()){return wf(n)||bf(n)||Wx(n)||Kx(n)||/windows phone/i.test(n)||Gx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n,e=[]){let t;switch(n){case"Browser":t=DR(kt());break;case"Worker":t=`${DR(kt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(n,e={}){return jt(n,"GET","/v2/passwordPolicy",zt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=6;class hF{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:cF,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NR(this),this.idTokenSubscription=new NR(this),this.beforeStateQueue=new lF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Lu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ag(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(It(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(It(this.app))return Promise.reject(wn(this));const t=e?Ce(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return It(this.app)?Promise.reject(wn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return It(this.app)?Promise.reject(wn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uF(this),t=new hF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await iF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wr(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await Lu.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&zB(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mt(n){return Ce(n)}class NR{constructor(e){this.auth=e,this.observer=null,this.addObserver=wx(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fF(n){Tf=n}function hb(n){return Tf.loadJS(n)}function pF(){return Tf.recaptchaV2Script}function mF(){return Tf.recaptchaEnterpriseScript}function gF(){return Tf.gapiScript}function Xx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=500,_F=6e4,gm=1e12;class vF{constructor(e){this.auth=e,this.counter=gm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new wF(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||gm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||gm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||gm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class EF{constructor(){this.enterprise=new bF}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bF{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wF{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ge(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=TF(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},_F)},yF))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function TF(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const SF="recaptcha-enterprise",Ed="NO_RECAPTCHA";class Jx{constructor(e){this.type=SF,this.auth=Mt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{Fx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new Bx(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function i(o,u,h){const f=window.grecaptcha;PR(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(Ed)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EF().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&PR(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=mF();f.length!==0&&(f+=h),hb(f).then(()=>{i(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function Zh(n,e,t,r=!1,i=!1){const o=new Jx(n);let u;if(i)u=Ed;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Pa(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Zh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Zh(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Zh(n,e,t);return r(n,h).catch(async f=>{var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await Zh(n,e,t,!1,!0);return r(n,g)}return Promise.reject(f)})}else{const h=await Zh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function AF(n){const e=Mt(n),t=await Fx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Bx(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Jx(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(n,e){const t=vf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ps(o,e??{}))return i;Tn(i,"already-initialized")}return t.initialize({options:e})}function RF(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(wr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Zx(n,e,t){const r=Mt(n);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=eO(e),{host:u,port:h}=CF(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Ps(d,r.config.emulator)&&Ps(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,_f(u)?(mx(`${o}//${u}${f}`),gx("Auth",!0)):i||PF()}function eO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CF(n){const e=eO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:kR(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:kR(u)}}}function kR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PF(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(n,e){return jt(n,"POST","/v1/accounts:resetPassword",zt(n,e))}async function xF(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function OF(n,e){return jt(n,"POST","/v1/accounts:signUp",e)}async function DF(n,e){return jt(n,"POST","/v1/accounts:update",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(n,e){return Ms(n,"POST","/v1/accounts:signInWithPassword",zt(n,e))}async function ny(n,e){return jt(n,"POST","/v1/accounts:sendOobCode",zt(n,e))}async function kF(n,e){return ny(n,e)}async function MF(n,e){return ny(n,e)}async function VF(n,e){return ny(n,e)}async function LF(n,e){return ny(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(n,e){return Ms(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}async function BF(n,e){return Ms(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends bc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Hd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Hd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pa(e,t,"signInWithPassword",NF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return UF(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pa(e,r,"signUpPassword",OF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return BF(e,{idToken:t,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(n,e){return Ms(n,"POST","/v1/accounts:signInWithIdp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="http://localhost";class zi extends bc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=ab(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new zi(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Is(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Is(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Is(e,t)}buildRequest(){const e={requestUri:FF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(n,e){return jt(n,"POST","/v1/accounts:sendVerificationCode",zt(n,e))}async function zF(n,e){return Ms(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e))}async function jF(n,e){const t=await Ms(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e));if(t.temporaryProof)throw hd(n,"account-exists-with-different-credential",t);return t}const qF={USER_NOT_FOUND:"user-not-found"};async function HF(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ms(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,t),qF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends bc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new tl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new tl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return zF(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return jF(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return HF(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new tl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GF(n){const e=Nu(cd(n)).link,t=e?Nu(cd(e)).deep_link_id:null,r=Nu(cd(n)).deep_link_id;return(r?Nu(cd(r)).link:null)||r||t||e||n}class ry{constructor(e){var t,r,i,o,u,h;const f=Nu(cd(e)),d=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=$F((i=f.mode)!==null&&i!==void 0?i:null);ge(d&&g&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=GF(e);try{return new ry(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(e,t){return Hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ry.parseLink(t);return ge(r,"argument-error"),Hd._fromEmailAndCode(e,r.code,r.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Uu extends wc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ge("providerId"in t&&"signInMethod"in t,"argument-error"),zi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ge(e.idToken||e.accessToken,"argument-error"),zi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Uu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Uu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new Uu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends wc{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zi._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends wc{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="http://localhost";class Ku extends bc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Is(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Is(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Is(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Ku(r,o)}static _create(e,t){return new Ku(e,t)}buildRequest(){return{requestUri:KF,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="saml.";class og extends Vs{constructor(e){ge(e.startsWith(WF),"argument-error"),super(e)}static credentialFromResult(e){return og.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return og.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ku.fromJSON(e);return ge(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Ku._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends wc{constructor(){super("twitter.com")}static credential(e,t){return zi._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ni.credential(t,r)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(n,e){return Ms(n,"POST","/v1/accounts:signUp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ni._fromIdTokenResponse(e,r,i),u=VR(r);return new Hr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=VR(r);return new Hr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function VR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(n){var e;if(It(n.app))return Promise.reject(wn(n));const t=Mt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Hr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await nO(t,{returnSecureToken:!0}),i=await Hr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends Wn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new lg(e,t,r,i)}}function rO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(n,e){const t=Ce(n);await iy(!0,t,e);const{providerUserInfo:r}=await XB(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=iO(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function db(n,e,t=!1){const r=await Os(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hr._forOperation(n,"link",r)}async function iy(n,e,t){await qd(e);const r=iO(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";ge(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,e,t=!1){const{auth:r}=n;if(It(r.app))return Promise.reject(wn(r));const i="reauthenticate";try{const o=await Os(n,rO(r,i,e,n),t);ge(o.idToken,r,"internal-error");const u=ty(o.idToken);ge(u,r,"internal-error");const{sub:h}=u;return ge(n.uid===h,r,"user-mismatch"),Hr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(n,e,t=!1){if(It(n.app))return Promise.reject(wn(n));const r="signIn",i=await rO(n,r,e),o=await Hr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function sy(n,e){return aO(Mt(n),e)}async function oO(n,e){const t=Ce(n);return await iy(!1,t,e.providerId),db(t,e)}async function lO(n,e){return sO(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(n,e){return Ms(n,"POST","/v1/accounts:signInWithCustomToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(n,e){if(It(n.app))return Promise.reject(wn(n));const t=Mt(n),r=await XF(t,{token:e,returnSecureToken:!0}),i=await Hr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?fb._fromServerResponse(e,t):"totpInfo"in t?pb._fromServerResponse(e,t):Tn(e,"internal-error")}}class fb extends Sf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new fb(t)}}class pb extends Sf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new pb(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n,e,t){var r;ge(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ge(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ge(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ge(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ge(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(n){const e=Mt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZF(n,e,t){const r=Mt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&ay(r,i,t),await Pa(r,i,"getOobCode",MF,"EMAIL_PASSWORD_PROVIDER")}async function ez(n,e,t){await tO(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mb(n),r})}async function tz(n,e){await DF(Ce(n),{oobCode:e})}async function uO(n,e){const t=Ce(n),r=await tO(t,{oobCode:e}),i=r.requestType;switch(ge(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(r.mfaInfo,t,"internal-error");default:ge(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Sf._fromServerResponse(Mt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function nz(n,e){const{data:t}=await uO(Ce(n),e);return t.email}async function cO(n,e,t){if(It(n.app))return Promise.reject(wn(n));const r=Mt(n),u=await Pa(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nO,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&mb(n),f}),h=await Hr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function hO(n,e,t){return It(n.app)?Promise.reject(wn(n)):sy(Ce(n),Ya.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(n,e,t){const r=Mt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ge(h.handleCodeInApp,r,"argument-error"),h&&ay(r,u,h)}o(i,t),await Pa(r,i,"getOobCode",VF,"EMAIL_PASSWORD_PROVIDER")}function iz(n,e){const t=ry.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function sz(n,e,t){if(It(n.app))return Promise.reject(wn(n));const r=Ce(n),i=Ya.credentialWithLink(e,t||jd());return ge(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),sy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(n,e){return jt(n,"POST","/v1/accounts:createAuthUri",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(n,e){const t=ub()?jd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await az(Ce(n),r);return i||[]}async function lz(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&ay(t.auth,i,e);const{email:o}=await kF(t.auth,i);o!==n.email&&await n.reload()}async function uz(n,e,t){const r=Ce(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&ay(r.auth,o,t);const{email:u}=await LF(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(n,e){return jt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Os(r,cz(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function dz(n,e){const t=Ce(n);return It(t.auth.app)?Promise.reject(wn(t.auth)):dO(t,e,null)}function fz(n,e){return dO(Ce(n),null,e)}async function dO(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Os(n,xF(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=ty(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Bu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new mz(o,i);case"github.com":return new gz(o,i);case"google.com":return new yz(o,i);case"twitter.com":return new _z(o,i,n.screenName||null);case"custom":case"anonymous":return new Bu(o,null);default:return new Bu(o,r,i)}}class Bu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class fO extends Bu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class mz extends Bu{constructor(e,t){super(e,"facebook.com",t)}}class gz extends fO{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class yz extends Bu{constructor(e,t){super(e,"google.com",t)}}class _z extends fO{constructor(e,t,r){super(e,"twitter.com",t,r)}}function vz(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:pz(t)}function Ez(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function bz(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Wo("enroll",e,t)}static _fromMfaPendingCredential(e){return new Wo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Wo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Wo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Mt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>Sf._fromServerResponse(r,h));ge(i.mfaPendingCredential,r,"internal-error");const u=Wo._fromMfaPendingCredential(i.mfaPendingCredential);return new gb(u,o,async h=>{const f=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const g=await Hr._fromIdTokenResponse(r,t.operationType,d);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ge(t.user,r,"internal-error"),Hr._forOperation(t.user,t.operationType,d);default:Tn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function wz(n,e){var t;const r=Ce(n),i=e;return ge(e.customData.operationType,r,"argument-error"),ge((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),gb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:start",zt(n,e))}function Tz(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:finalize",zt(n,e))}function Sz(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(n,e))}class yb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Sf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new yb(e)}async getSession(){return Wo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Os(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Os(this.user,Sz(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const f0=new WeakMap;function Az(n){const e=Ce(n);return f0.has(e)||f0.set(e,yb._fromUser(e)),f0.get(e)}const ug="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ug,"1"),this.storage.removeItem(ug),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=1e3,Rz=10;class mO extends pO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);oF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Rz):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Iz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mO.type="LOCAL";const oy=mO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO extends pO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gO.type="SESSION";const Ua=gO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ly(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await Cz(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ly.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=Af("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function xz(n){an().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function Oz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Nz(){return _b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="firebaseLocalStorageDb",kz=1,cg="firebaseLocalStorage",_O="fbase_key";class If{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uy(n,e){return n.transaction([cg],e?"readwrite":"readonly").objectStore(cg)}function Mz(){const n=indexedDB.deleteDatabase(yO);return new If(n).toPromise()}function K0(){const n=indexedDB.open(yO,kz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(cg,{keyPath:_O})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(cg)?e(r):(r.close(),await Mz(),e(await K0()))})})}async function UR(n,e,t){const r=uy(n,!0).put({[_O]:e,value:t});return new If(r).toPromise()}async function Vz(n,e){const t=uy(n,!1).get(e),r=await new If(t).toPromise();return r===void 0?null:r.value}function BR(n,e){const t=uy(n,!0).delete(e);return new If(t).toPromise()}const Lz=800,Uz=3;class vO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Uz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ly._getInstance(Nz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Oz(),!this.activeServiceWorker)return;this.sender=new Pz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K0();return await UR(e,ug,"1"),await BR(e,ug),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>UR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Vz(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>BR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=uy(i,!1).getAll();return new If(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vO.type="LOCAL";const Wu=vO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:start",zt(n,e))}function Bz(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:finalize",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=Xx("rcb"),Fz=new Ef(3e4,6e4);class zz{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=an().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ge(jz(t),e,"argument-error"),this.shouldResolveImmediately(t)&&CR(an().grecaptcha)?Promise.resolve(an().grecaptcha):new Promise((r,i)=>{const o=an().setTimeout(()=>{i(fn(e,"network-request-failed"))},Fz.get());an()[p0]=()=>{an().clearTimeout(o),delete an()[p0];const h=an().grecaptcha;if(!h||!CR(h)){i(fn(e,"internal-error"));return}const f=h.render;h.render=(d,g)=>{const _=f(d,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${pF()}?${vc({onload:p0,render:"explicit",hl:t})}`;hb(u).catch(()=>{clearTimeout(o),i(fn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=an().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function jz(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class qz{async load(e){return new vF(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="recaptcha",Hz={theme:"light",type:"image"};let $z=class{constructor(e,t,r=Object.assign({},Hz)){this.parameters=r,this.type=bd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(e),this.isInvisible=this.parameters.size==="invisible",ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;ge(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qz:new zz,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=an()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ge(ub()&&!_b(),this.auth,"internal-error"),await Gz(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await QB(this.auth);ge(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Gz(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=tl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Kz(n,e,t){if(It(n.app))return Promise.reject(wn(n));const r=Mt(n),i=await cy(r,e,Ce(t));return new vb(i,o=>sy(r,o))}async function Wz(n,e,t){const r=Ce(n);await iy(!1,r,"phone");const i=await cy(r.auth,e,Ce(t));return new vb(i,o=>oO(r,o))}async function Qz(n,e,t){const r=Ce(n);if(It(r.auth.app))return Promise.reject(wn(r.auth));const i=await cy(r.auth,e,Ce(t));return new vb(i,o=>lO(r,o))}async function cy(n,e,t){var r;if(!n._getRecaptchaConfig())try{await AF(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){ge(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Pa(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Ed){ge((t==null?void 0:t.type)===bd,g,"argument-error");const v=await m0(g,_,t);return LR(g,v)}return LR(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ge(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;ge(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Pa(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Ed){ge((t==null?void 0:t.type)===bd,_,"argument-error");const T=await m0(_,v,t);return FR(_,T)}return FR(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Pa(n,o,"sendVerificationCode",async(d,g)=>{if(g.captchaResponse===Ed){ge((t==null?void 0:t.type)===bd,d,"argument-error");const _=await m0(d,g,t);return MR(d,_)}return MR(d,g)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t==null||t._reset()}}async function Yz(n,e){const t=Ce(n);if(It(t.auth.app))return Promise.reject(wn(t.auth));await db(t,e)}async function m0(n,e,t){ge(t.type===bd,n,"argument-error");const r=await t.verify();ge(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al=class Mm{constructor(e){this.providerId=Mm.PROVIDER_ID,this.auth=Mt(e)}verifyPhoneNumber(e,t){return cy(this.auth,e,Ce(t))}static credential(e,t){return tl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Mm.credentialFromTaggedObject(t)}static credentialFromError(e){return Mm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?tl._fromTokenResponse(t,r):null}};al.PROVIDER_ID="phone";al.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n,e){return e?wr(e):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb extends bc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Is(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Is(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Is(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xz(n){return aO(n.auth,new Eb(n),n.bypassAuthState)}function Jz(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),sO(t,new Eb(n),n.bypassAuthState)}async function Zz(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),db(t,new Eb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xz;case"linkViaPopup":case"linkViaRedirect":return Zz;case"reauthViaPopup":case"reauthViaRedirect":return Jz;default:Tn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new Ef(2e3,1e4);async function tj(n,e,t){if(It(n.app))return Promise.reject(fn(n,"operation-not-supported-in-this-environment"));const r=Mt(n);Ec(n,e,Vs);const i=El(r,t);return new ws(r,"signInViaPopup",e,i).executeNotNull()}async function nj(n,e,t){const r=Ce(n);if(It(r.auth.app))return Promise.reject(fn(r.auth,"operation-not-supported-in-this-environment"));Ec(r.auth,e,Vs);const i=El(r.auth,t);return new ws(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function rj(n,e,t){const r=Ce(n);Ec(r.auth,e,Vs);const i=El(r.auth,t);return new ws(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ws extends EO{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Af();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ej.get())};e()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="pendingRedirect",wd=new Map;class sj extends EO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=wd.get(this.auth._key());if(!e){try{const r=await aj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aj(n,e){const t=wO(e),r=bO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function bb(n,e){return bO(n)._set(wO(e),"true")}function oj(){wd.clear()}function wb(n,e){wd.set(n._key(),e)}function bO(n){return wr(n._redirectPersistence)}function wO(n){return el(ij,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(n,e,t){return uj(n,e,t)}async function uj(n,e,t){if(It(n.app))return Promise.reject(wn(n));const r=Mt(n);Ec(n,e,Vs),await r._initializationPromise;const i=El(r,t);return await bb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function cj(n,e,t){return hj(n,e,t)}async function hj(n,e,t){const r=Ce(n);if(Ec(r.auth,e,Vs),It(r.auth.app))return Promise.reject(wn(r.auth));await r.auth._initializationPromise;const i=El(r.auth,t);await bb(i,r.auth);const o=await TO(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function dj(n,e,t){return fj(n,e,t)}async function fj(n,e,t){const r=Ce(n);Ec(r.auth,e,Vs),await r.auth._initializationPromise;const i=El(r.auth,t);await iy(!1,r,e.providerId),await bb(i,r.auth);const o=await TO(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function pj(n,e){return await Mt(n)._initializationPromise,hy(n,e,!1)}async function hy(n,e,t=!1){if(It(n.app))return Promise.reject(wn(n));const r=Mt(n),i=El(r,e),u=await new sj(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function TO(n){const e=Af(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=10*60*1e3;class SO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!AO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(fn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mj&&this.cachedEventUids.clear(),this.cachedEventUids.has(zR(e))}saveEventToCache(e){this.cachedEventUids.add(zR(e)),this.lastProcessedEventTime=Date.now()}}function zR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AO({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(n,e={}){return jt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_j=/^https?/;async function vj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await IO(n);for(const t of e)try{if(Ej(t))return}catch{}Tn(n,"unauthorized-domain")}function Ej(n){const e=jd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!_j.test(t))return!1;if(yj.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new Ef(3e4,6e4);function jR(){const n=an().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wj(n){return new Promise((e,t)=>{var r,i,o;function u(){jR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jR(),t(fn(n,"network-request-failed"))},timeout:bj.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=an().gapi)===null||o===void 0)&&o.load)u();else{const h=Xx("iframefcb");return an()[h]=()=>{gapi.load?u():t(fn(n,"network-request-failed"))},hb(`${gF()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Vm=null,e})}let Vm=null;function Tj(n){return Vm=Vm||wj(n),Vm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new Ef(5e3,15e3),Aj="__/auth/iframe",Ij="emulator/auth/iframe",Rj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pj(n){const e=n.config;ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cb(e,Ij):`https://${n.config.authDomain}/${Aj}`,r={apiKey:e.apiKey,appName:n.name,v:Qa},i=Cj.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${vc(r).slice(1)}`}async function xj(n){const e=await Tj(n),t=an().gapi;return ge(t,n,"internal-error"),e.open({where:document.body,url:Pj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=fn(n,"network-request-failed"),h=an().setTimeout(()=>{o(u)},Sj.get());function f(){an().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dj=500,Nj=600,kj="_blank",Mj="http://localhost";class qR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vj(n,e,t,r=Dj,i=Nj){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Oj),{width:r.toString(),height:i.toString(),top:o,left:u}),d=kt().toLowerCase();t&&(h=$x(d)?kj:t),qx(d)&&(e=e||Mj,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[T,w])=>`${v}${T}=${w},`,"");if(aF(d)&&h!=="_self")return Lj(e||"",h),new qR(null);const _=window.open(e||"",h,g);ge(_,n,"popup-blocked");try{_.focus()}catch{}return new qR(_)}function Lj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="__/auth/handler",Bj="emulator/auth/handler",Fj=encodeURIComponent("fac");async function W0(n,e,t,r,i,o){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Qa,eventId:i};if(e instanceof Vs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",b9(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof wc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${Fj}=${encodeURIComponent(f)}`:"";return`${zj(n)}?${vc(h).slice(1)}${d}`}function zj({config:n}){return n.emulator?cb(n,Bj):`https://${n.authDomain}/${Uj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="webStorageSupport";class jj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ua,this._completeRedirectFn=hy,this._overrideRedirectResult=wb}async _openPopup(e,t,r,i){var o;ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await W0(e,t,r,jd(),i);return Vj(e,u,Af())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await W0(e,t,r,jd(),i);return xz(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await xj(e),r=new SO(e);return t.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(g0,{type:g0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[g0];u!==void 0&&t(!!u),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qx()||Hx()||wf()}}const RO=jj;class qj{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ki("unexpected MultiFactorSessionType")}}}class Tb extends qj{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Tb(e)}_finalizeEnroll(e,t,r){return Tz(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Bz(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class CO{constructor(){}static assertion(e){return Tb._fromCredential(e)}}CO.FACTOR_ID="phone";var HR="@firebase/auth",$R="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gj(n){La(new Fi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ge(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yx(n)},d=new dF(r,i,o,f);return RF(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),La(new Fi("auth-internal",e=>{const t=Mt(e.getProvider("auth").getImmediate());return(r=>new Hj(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(HR,$R,$j(n)),qr(HR,$R,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=5*60,Wj=px("authIdTokenMaxAge")||Kj;let GR=null;const Qj=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Wj)return;const i=t==null?void 0:t.token;GR!==i&&(GR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yj(n=ib()){const e=vf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IF(n,{popupRedirectResolver:RO,persistence:[Wu,oy,Ua]}),r=px("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=Qj(o.toString());bz(t,u,()=>u(t.currentUser)),Ez(t,h=>u(h))}}const i=dx("auth");return i&&Zx(t,`http://${i}`),t}function Xj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=fn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Xj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gj("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t){this._delegate=e,this.firebase=t,Fd(e,new Fi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),sb(this._delegate)))}_getService(e,t=Ma){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ma){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Fd(this._delegate,e)}_addOrOverwriteComponent(e){Rx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},KR=new vl("app-compat","Firebase",Zj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:qr,setLogLevel:Ox,onLog:xx,apps:null,SDK_VERSION:Qa,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:MB}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(d){delete e[d]}function i(d){if(d=d||Ma,!_R(e,d))throw KR.create("no-app",{appName:d});return e[d]}i.App=n;function o(d,g={}){const _=ey(d,g);if(_R(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(d=>e[d])}function h(d){const g=d.name,_=g.replace("-compat","");if(La(d)&&d.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw KR.create("invalid-app-argument",{appName:g});return T[_]()};d.serviceProps!==void 0&&rg(v,d.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,d.multipleInstances?T:[])}}return d.type==="PUBLIC"?t[_]:null}function f(d,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){const n=e8(Jj);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:PO,extendNamespace:e,createSubscribe:wx,ErrorFactory:vl,deepExtend:rg});function e(t){rg(n,t)}return n}const t8=PO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Zg("@firebase/app-compat"),n8="@firebase/app-compat",r8="0.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(n){qr(n8,r8,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=eb();if(n.firebase!==void 0){WR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&WR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const dy=t8;i8();var QR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,xO;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function C(){}C.prototype=R.prototype,M.D=R.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(b,x,P){for(var O=Array(arguments.length-2),se=2;se<arguments.length;se++)O[se-2]=arguments[se];return R.prototype[x].apply(b,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,R,C){C||(C=0);var b=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)b[x]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(x=0;16>x;++x)b[x]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=M.g[0],C=M.g[1],x=M.g[2];var P=M.g[3],O=R+(P^C&(x^P))+b[0]+3614090360&4294967295;R=C+(O<<7&4294967295|O>>>25),O=P+(x^R&(C^x))+b[1]+3905402710&4294967295,P=R+(O<<12&4294967295|O>>>20),O=x+(C^P&(R^C))+b[2]+606105819&4294967295,x=P+(O<<17&4294967295|O>>>15),O=C+(R^x&(P^R))+b[3]+3250441966&4294967295,C=x+(O<<22&4294967295|O>>>10),O=R+(P^C&(x^P))+b[4]+4118548399&4294967295,R=C+(O<<7&4294967295|O>>>25),O=P+(x^R&(C^x))+b[5]+1200080426&4294967295,P=R+(O<<12&4294967295|O>>>20),O=x+(C^P&(R^C))+b[6]+2821735955&4294967295,x=P+(O<<17&4294967295|O>>>15),O=C+(R^x&(P^R))+b[7]+4249261313&4294967295,C=x+(O<<22&4294967295|O>>>10),O=R+(P^C&(x^P))+b[8]+1770035416&4294967295,R=C+(O<<7&4294967295|O>>>25),O=P+(x^R&(C^x))+b[9]+2336552879&4294967295,P=R+(O<<12&4294967295|O>>>20),O=x+(C^P&(R^C))+b[10]+4294925233&4294967295,x=P+(O<<17&4294967295|O>>>15),O=C+(R^x&(P^R))+b[11]+2304563134&4294967295,C=x+(O<<22&4294967295|O>>>10),O=R+(P^C&(x^P))+b[12]+1804603682&4294967295,R=C+(O<<7&4294967295|O>>>25),O=P+(x^R&(C^x))+b[13]+4254626195&4294967295,P=R+(O<<12&4294967295|O>>>20),O=x+(C^P&(R^C))+b[14]+2792965006&4294967295,x=P+(O<<17&4294967295|O>>>15),O=C+(R^x&(P^R))+b[15]+1236535329&4294967295,C=x+(O<<22&4294967295|O>>>10),O=R+(x^P&(C^x))+b[1]+4129170786&4294967295,R=C+(O<<5&4294967295|O>>>27),O=P+(C^x&(R^C))+b[6]+3225465664&4294967295,P=R+(O<<9&4294967295|O>>>23),O=x+(R^C&(P^R))+b[11]+643717713&4294967295,x=P+(O<<14&4294967295|O>>>18),O=C+(P^R&(x^P))+b[0]+3921069994&4294967295,C=x+(O<<20&4294967295|O>>>12),O=R+(x^P&(C^x))+b[5]+3593408605&4294967295,R=C+(O<<5&4294967295|O>>>27),O=P+(C^x&(R^C))+b[10]+38016083&4294967295,P=R+(O<<9&4294967295|O>>>23),O=x+(R^C&(P^R))+b[15]+3634488961&4294967295,x=P+(O<<14&4294967295|O>>>18),O=C+(P^R&(x^P))+b[4]+3889429448&4294967295,C=x+(O<<20&4294967295|O>>>12),O=R+(x^P&(C^x))+b[9]+568446438&4294967295,R=C+(O<<5&4294967295|O>>>27),O=P+(C^x&(R^C))+b[14]+3275163606&4294967295,P=R+(O<<9&4294967295|O>>>23),O=x+(R^C&(P^R))+b[3]+4107603335&4294967295,x=P+(O<<14&4294967295|O>>>18),O=C+(P^R&(x^P))+b[8]+1163531501&4294967295,C=x+(O<<20&4294967295|O>>>12),O=R+(x^P&(C^x))+b[13]+2850285829&4294967295,R=C+(O<<5&4294967295|O>>>27),O=P+(C^x&(R^C))+b[2]+4243563512&4294967295,P=R+(O<<9&4294967295|O>>>23),O=x+(R^C&(P^R))+b[7]+1735328473&4294967295,x=P+(O<<14&4294967295|O>>>18),O=C+(P^R&(x^P))+b[12]+2368359562&4294967295,C=x+(O<<20&4294967295|O>>>12),O=R+(C^x^P)+b[5]+4294588738&4294967295,R=C+(O<<4&4294967295|O>>>28),O=P+(R^C^x)+b[8]+2272392833&4294967295,P=R+(O<<11&4294967295|O>>>21),O=x+(P^R^C)+b[11]+1839030562&4294967295,x=P+(O<<16&4294967295|O>>>16),O=C+(x^P^R)+b[14]+4259657740&4294967295,C=x+(O<<23&4294967295|O>>>9),O=R+(C^x^P)+b[1]+2763975236&4294967295,R=C+(O<<4&4294967295|O>>>28),O=P+(R^C^x)+b[4]+1272893353&4294967295,P=R+(O<<11&4294967295|O>>>21),O=x+(P^R^C)+b[7]+4139469664&4294967295,x=P+(O<<16&4294967295|O>>>16),O=C+(x^P^R)+b[10]+3200236656&4294967295,C=x+(O<<23&4294967295|O>>>9),O=R+(C^x^P)+b[13]+681279174&4294967295,R=C+(O<<4&4294967295|O>>>28),O=P+(R^C^x)+b[0]+3936430074&4294967295,P=R+(O<<11&4294967295|O>>>21),O=x+(P^R^C)+b[3]+3572445317&4294967295,x=P+(O<<16&4294967295|O>>>16),O=C+(x^P^R)+b[6]+76029189&4294967295,C=x+(O<<23&4294967295|O>>>9),O=R+(C^x^P)+b[9]+3654602809&4294967295,R=C+(O<<4&4294967295|O>>>28),O=P+(R^C^x)+b[12]+3873151461&4294967295,P=R+(O<<11&4294967295|O>>>21),O=x+(P^R^C)+b[15]+530742520&4294967295,x=P+(O<<16&4294967295|O>>>16),O=C+(x^P^R)+b[2]+3299628645&4294967295,C=x+(O<<23&4294967295|O>>>9),O=R+(x^(C|~P))+b[0]+4096336452&4294967295,R=C+(O<<6&4294967295|O>>>26),O=P+(C^(R|~x))+b[7]+1126891415&4294967295,P=R+(O<<10&4294967295|O>>>22),O=x+(R^(P|~C))+b[14]+2878612391&4294967295,x=P+(O<<15&4294967295|O>>>17),O=C+(P^(x|~R))+b[5]+4237533241&4294967295,C=x+(O<<21&4294967295|O>>>11),O=R+(x^(C|~P))+b[12]+1700485571&4294967295,R=C+(O<<6&4294967295|O>>>26),O=P+(C^(R|~x))+b[3]+2399980690&4294967295,P=R+(O<<10&4294967295|O>>>22),O=x+(R^(P|~C))+b[10]+4293915773&4294967295,x=P+(O<<15&4294967295|O>>>17),O=C+(P^(x|~R))+b[1]+2240044497&4294967295,C=x+(O<<21&4294967295|O>>>11),O=R+(x^(C|~P))+b[8]+1873313359&4294967295,R=C+(O<<6&4294967295|O>>>26),O=P+(C^(R|~x))+b[15]+4264355552&4294967295,P=R+(O<<10&4294967295|O>>>22),O=x+(R^(P|~C))+b[6]+2734768916&4294967295,x=P+(O<<15&4294967295|O>>>17),O=C+(P^(x|~R))+b[13]+1309151649&4294967295,C=x+(O<<21&4294967295|O>>>11),O=R+(x^(C|~P))+b[4]+4149444226&4294967295,R=C+(O<<6&4294967295|O>>>26),O=P+(C^(R|~x))+b[11]+3174756917&4294967295,P=R+(O<<10&4294967295|O>>>22),O=x+(R^(P|~C))+b[2]+718787259&4294967295,x=P+(O<<15&4294967295|O>>>17),O=C+(P^(x|~R))+b[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+P&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var C=R-this.blockSize,b=this.B,x=this.h,P=0;P<R;){if(x==0)for(;P<=C;)i(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<R;)if(b[x++]=M.charCodeAt(P++),x==this.blockSize){i(this,b),x=0;break}}else for(;P<R;)if(b[x++]=M[P++],x==this.blockSize){i(this,b),x=0;break}}this.h=x,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var C=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=C&255,C/=256;for(this.u(M),M=Array(16),R=C=0;4>R;++R)for(var b=0;32>b;b+=8)M[C++]=this.g[R]>>>b&255;return M};function o(M,R){var C=h;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=R(M)}function u(M,R){this.h=R;for(var C=[],b=!0,x=M.length-1;0<=x;x--){var P=M[x]|0;b&&P==R||(C[x]=P,b=!1)}this.g=C}var h={};function f(M){return-128<=M&&128>M?o(M,function(R){return new u([R|0],0>R?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return D(d(-M));for(var R=[],C=1,b=0;M>=C;b++)R[b]=M/C|0,C*=4294967296;return new u(R,0)}function g(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return D(g(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(R,8)),b=_,x=0;x<M.length;x+=8){var P=Math.min(8,M.length-x),O=parseInt(M.substring(x,x+P),R);8>P?(P=d(Math.pow(R,P)),b=b.j(P).add(d(O))):(b=b.j(C),b=b.add(d(O)))}return b}var _=f(0),v=f(1),T=f(16777216);n=u.prototype,n.m=function(){if(I(this))return-D(this).m();for(var M=0,R=1,C=0;C<this.g.length;C++){var b=this.i(C);M+=(0<=b?b:4294967296+b)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(I(this))return"-"+D(this).toString(M);for(var R=d(Math.pow(M,6)),C=this,b="";;){var x=q(C,R).g;C=U(C,x.j(R));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=x,w(C))return P+b;for(;6>P.length;)P="0"+P;b=P+b}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function I(M){return M.h==-1}n.l=function(M){return M=U(this,M),I(M)?-1:w(M)?0:1};function D(M){for(var R=M.g.length,C=[],b=0;b<R;b++)C[b]=~M.g[b];return new u(C,~M.h).add(v)}n.abs=function(){return I(this)?D(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],b=0,x=0;x<=R;x++){var P=b+(this.i(x)&65535)+(M.i(x)&65535),O=(P>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);b=O>>>16,P&=65535,O&=65535,C[x]=O<<16|P}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(M,R){return M.add(D(R))}n.j=function(M){if(w(this)||w(M))return _;if(I(this))return I(M)?D(this).j(D(M)):D(D(this).j(M));if(I(M))return D(this.j(D(M)));if(0>this.l(T)&&0>M.l(T))return d(this.m()*M.m());for(var R=this.g.length+M.g.length,C=[],b=0;b<2*R;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(var x=0;x<M.g.length;x++){var P=this.i(b)>>>16,O=this.i(b)&65535,se=M.i(x)>>>16,F=M.i(x)&65535;C[2*b+2*x]+=O*F,L(C,2*b+2*x),C[2*b+2*x+1]+=P*F,L(C,2*b+2*x+1),C[2*b+2*x+1]+=O*se,L(C,2*b+2*x+1),C[2*b+2*x+2]+=P*se,L(C,2*b+2*x+2)}for(b=0;b<R;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=R;b<2*R;b++)C[b]=0;return new u(C,0)};function L(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function V(M,R){this.g=M,this.h=R}function q(M,R){if(w(R))throw Error("division by zero");if(w(M))return new V(_,_);if(I(M))return R=q(D(M),R),new V(D(R.g),D(R.h));if(I(R))return R=q(M,D(R)),new V(D(R.g),R.h);if(30<M.g.length){if(I(M)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var C=v,b=R;0>=b.l(M);)C=B(C),b=B(b);var x=G(C,1),P=G(b,1);for(b=G(b,2),C=G(C,2);!w(b);){var O=P.add(b);0>=O.l(M)&&(x=x.add(C),P=O),b=G(b,1),C=G(C,1)}return R=U(M,x.j(R)),new V(x,R)}for(x=_;0<=M.l(R);){for(C=Math.max(1,Math.floor(M.m()/R.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),P=d(C),O=P.j(R);I(O)||0<O.l(M);)C-=b,P=d(C),O=P.j(R);w(P)&&(P=v),x=x.add(P),M=U(M,O)}return new V(x,M)}n.A=function(M){return q(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],b=0;b<R;b++)C[b]=this.i(b)&M.i(b);return new u(C,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],b=0;b<R;b++)C[b]=this.i(b)|M.i(b);return new u(C,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],b=0;b<R;b++)C[b]=this.i(b)^M.i(b);return new u(C,this.h^M.h)};function B(M){for(var R=M.g.length+1,C=[],b=0;b<R;b++)C[b]=M.i(b)<<1|M.i(b-1)>>>31;return new u(C,M.h)}function G(M,R){var C=R>>5;R%=32;for(var b=M.g.length-C,x=[],P=0;P<b;P++)x[P]=0<R?M.i(P+C)>>>R|M.i(P+C+1)<<32-R:M.i(P+C);return new u(x,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xO=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,xa=u}).apply(typeof QR<"u"?QR:typeof self<"u"?self:typeof window<"u"?window:{});var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OO,dd,DO,Lm,Q0,NO,kO,MO;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ym=="object"&&ym];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var Y=p[k];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],k=S[p],E=E(k),E!=k&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,k=!1,Y={next:function(){if(!k&&S<p.length){var ie=S++;return{value:E(ie,p[ie]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function d(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function w(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(k,Y,ie){for(var _e=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)_e[Ke-2]=arguments[Ke];return E.prototype[Y].apply(k,_e)}}function I(p){const E=p.length;if(0<E){const S=Array(E);for(let k=0;k<E;k++)S[k]=p[k];return S}return[]}function D(p,E){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const Y=p.length||0,ie=k.length||0;p.length=Y+ie;for(let _e=0;_e<ie;_e++)p[Y+_e]=k[_e]}else p.push(k)}}class U{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function L(p){return/^[\s\xa0]*$/.test(p)}function V(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function q(p){return q[" "](p),p}q[" "]=function(){};var B=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function G(p,E,S){for(const k in p)E.call(S,p[k],k,p)}function M(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function R(p){const E={};for(const S in p)E[S]=p[S];return E}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)p[S]=k[S];for(let ie=0;ie<C.length;ie++)S=C[ie],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function x(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function P(p){h.setTimeout(()=>{throw p},0)}function O(){var p=we;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class se{constructor(){this.h=this.g=null}add(E,S){const k=F.get();k.set(E,S),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new U(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,oe=!1,we=new se,j=()=>{const p=h.Promise.resolve(void 0);ee=()=>{p.then(le)}};var le=()=>{for(var p;p=O();){try{p.h.call(p.g)}catch(S){P(S)}var E=F;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}oe=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function ke(p,E){if(me.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(B){e:{try{q(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Pe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}w(ke,me);var Pe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function Ir(p,E,S,k,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!k,this.ha=Y,this.key=++nt,this.da=this.fa=!1}function ai(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Rr(p){this.src=p,this.g={},this.h=0}Rr.prototype.add=function(p,E,S,k,Y){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var _e=Nn(p,E,k,Y);return-1<_e?(E=p[_e],S||(E.fa=!1)):(E=new Ir(E,this.src,ie,!!k,Y),E.fa=S,p.push(E)),E};function ur(p,E){var S=E.type;if(S in p.g){var k=p.g[S],Y=Array.prototype.indexOf.call(k,E,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(k,Y,1),ie&&(ai(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Nn(p,E,S,k){for(var Y=0;Y<p.length;++Y){var ie=p[Y];if(!ie.da&&ie.listener==E&&ie.capture==!!S&&ie.ha==k)return Y}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),no={};function Al(p,E,S,k,Y){if(Array.isArray(E)){for(var ie=0;ie<E.length;ie++)Al(p,E[ie],S,k,Y);return null}return S=Kr(S),p&&p[qt]?p.K(E,S,d(k)?!!k.capture:!1,Y):Xn(p,E,S,!1,k,Y)}function Xn(p,E,S,k,Y,ie){if(!E)throw Error("Invalid event type");var _e=d(Y)?!!Y.capture:!!Y,Ke=bt(p);if(Ke||(p[Gr]=Ke=new Rr(p)),S=Ke.add(E,S,k,_e,ie),S.proxy)return S;if(k=Oc(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)Te||(Y=_e),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),k,Y);else if(p.attachEvent)p.attachEvent(Fe(E.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Oc(){function p(S){return E.call(p.src,p.listener,S)}const E=yt;return p}function ro(p,E,S,k,Y){if(Array.isArray(E))for(var ie=0;ie<E.length;ie++)ro(p,E[ie],S,k,Y);else k=d(k)?!!k.capture:!!k,S=Kr(S),p&&p[qt]?(p=p.i,E=String(E).toString(),E in p.g&&(ie=p.g[E],S=Nn(ie,S,k,Y),-1<S&&(ai(ie[S]),Array.prototype.splice.call(ie,S,1),ie.length==0&&(delete p.g[E],p.h--)))):p&&(p=bt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Nn(E,S,k,Y)),(S=-1<p?E[p]:null)&&Ki(S))}function Ki(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[qt])ur(E.i,p);else{var S=p.type,k=p.proxy;E.removeEventListener?E.removeEventListener(S,k,p.capture):E.detachEvent?E.detachEvent(Fe(S),k):E.addListener&&E.removeListener&&E.removeListener(k),(S=bt(E))?(ur(S,p),S.h==0&&(S.src=null,E[Gr]=null)):ai(p)}}}function Fe(p){return p in no?no[p]:no[p]="on"+p}function yt(p,E){if(p.da)p=!0;else{E=new ke(E,this);var S=p.listener,k=p.ha||p.src;p.fa&&Ki(p),p=S.call(k,E)}return p}function bt(p){return p=p[Gr],p instanceof Rr?p:null}var oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kr(p){return typeof p=="function"?p:(p[oi]||(p[oi]=function(E){return p.handleEvent(E)}),p[oi])}function it(){ye.call(this),this.i=new Rr(this),this.M=this,this.F=null}w(it,ye),it.prototype[qt]=!0,it.prototype.removeEventListener=function(p,E,S,k){ro(this,p,E,S,k)};function Ue(p,E){var S,k=p.F;if(k)for(S=[];k;k=k.F)S.push(k);if(p=p.M,k=E.type||E,typeof E=="string")E=new me(E,p);else if(E instanceof me)E.target=E.target||p;else{var Y=E;E=new me(k,p),b(E,Y)}if(Y=!0,S)for(var ie=S.length-1;0<=ie;ie--){var _e=E.g=S[ie];Y=Ht(_e,k,!0,E)&&Y}if(_e=E.g=p,Y=Ht(_e,k,!0,E)&&Y,Y=Ht(_e,k,!1,E)&&Y,S)for(ie=0;ie<S.length;ie++)_e=E.g=S[ie],Y=Ht(_e,k,!1,E)&&Y}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],k=0;k<S.length;k++)ai(S[k]);delete p.g[E],p.h--}}this.F=null},it.prototype.K=function(p,E,S,k){return this.i.add(String(p),E,!1,S,k)},it.prototype.L=function(p,E,S,k){return this.i.add(String(p),E,!0,S,k)};function Ht(p,E,S,k){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,ie=0;ie<E.length;++ie){var _e=E[ie];if(_e&&!_e.da&&_e.capture==S){var Ke=_e.listener,un=_e.ha||_e.src;_e.fa&&ur(p.i,_e),Y=Ke.call(un,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function Jt(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function zf(p){p.g=Jt(()=>{p.g=null,p.i&&(p.i=!1,zf(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Fy extends ye{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:zf(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function io(p){ye.call(this),this.h=p,this.g={}}w(io,ye);var so=[];function ao(p){G(p.g,function(E,S){this.g.hasOwnProperty(S)&&Ki(E)},p),p.g={}}io.prototype.N=function(){io.aa.N.call(this),ao(this)},io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wr=h.JSON.stringify,Il=h.JSON.parse,oo=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function Dc(){}Dc.prototype.h=null;function Nc(p){return p.h||(p.h=p.i())}function kc(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qi(){me.call(this,"d")}w(Qi,me);function Mc(){me.call(this,"c")}w(Mc,me);var li={},Vc=null;function zs(){return Vc=Vc||new it}li.La="serverreachability";function Rl(p){me.call(this,li.La,p)}w(Rl,me);function js(p){const E=zs();Ue(E,new Rl(E))}li.STAT_EVENT="statevent";function jf(p,E){me.call(this,li.STAT_EVENT,p),this.stat=E}w(jf,me);function wt(p){const E=zs();Ue(E,new jf(E,p))}li.Ma="timingevent";function ln(p,E){me.call(this,li.Ma,p),this.size=E}w(ln,me);function Zt(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Lc(p,E,S,k,Y,ie){p.info(function(){if(p.g)if(ie)for(var _e="",Ke=ie.split("&"),un=0;un<Ke.length;un++){var We=Ke[un].split("=");if(1<We.length){var gn=We[0];We=We[1];var cn=gn.split("_");_e=2<=cn.length&&cn[1]=="type"?_e+(gn+"="+We+"&"):_e+(gn+"=redacted&")}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+E+`
`+S+`
`+_e})}function zy(p,E,S,k,Y,ie,_e){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+E+`
`+S+`
`+ie+" "+_e})}function qs(p,E,S,k){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+lo(p,S)+(k?" "+k:"")})}function qf(p,E){p.info(function(){return"TIMEOUT: "+E})}Cr.prototype.info=function(){};function lo(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var k=S[p];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return Wr(S)}catch{return E}}var Hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}w(ci,Dc),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function jn(p,E,S,k){this.j=p,this.i=E,this.l=S,this.R=k||1,this.U=new io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var Uc={},Cl={};function Qr(p,E,S){p.L=1,p.v=po(cr(E)),p.m=S,p.P=!0,Xi(p,null)}function Xi(p,E){p.F=Date.now(),uo(p),p.A=cr(p.v);var S=p.A,k=p.R;Array.isArray(k)||(k=[String(k)]),Hc(S.i,"t",k),p.C=0,S=p.j.J,p.h=new $t,p.g=sp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new Fy(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,k=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(so[0]=Y.toString()),Y=so);for(var ie=0;ie<Y.length;ie++){var _e=Al(S,Y[ie],k||E.handleEvent,!1,E.h||E);if(!_e)break;E.g[_e.key]=_e}E=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),js(),Lc(p.i,p.u,p.A,p.l,p.R,p.m)}jn.prototype.ca=function(p){p=p.target;const E=this.M;E&&Dr(p)==3?E.j():this.Y(p)},jn.prototype.Y=function(p){try{if(p==this.g)e:{const cn=Dr(this.g);var E=this.g.Ba();const ss=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Xf(this.g)))){this.J||cn!=4||E==7||(E==8||0>=ss?js(3):js(2)),$s(this);var S=this.g.Z();this.X=S;t:if(Hf(this)){var k=Xf(this.g);p="";var Y=k.length,ie=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),hi(this);var _e="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(k[E],{stream:!(ie&&E==Y-1)});k.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,zy(this.i,this.u,this.A,this.l,this.R,cn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,un=this.g;if((Ke=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ke)){var We=Ke;break t}}We=null}if(S=We)qs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,S);else{this.o=!1,this.s=3,wt(12),Sn(this),hi(this);break e}}if(this.P){S=!0;let An;for(;!this.J&&this.C<_e.length;)if(An=$f(this,_e),An==Cl){cn==4&&(this.s=4,wt(14),S=!1),qs(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Uc){this.s=4,wt(15),qs(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else qs(this.i,this.l,An,null),co(this,An);if(Hf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||_e.length!=0||this.h.h||(this.s=1,wt(16),S=!1),this.o=this.o&&S,!S)qs(this.i,this.l,_e,"[Invalid Chunked Response]"),Sn(this),hi(this);else if(0<_e.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),wo(gn),gn.M=!0,wt(11))}}else qs(this.i,this.l,_e,null),co(this,_e);cn==4&&Sn(this),this.o&&!this.J&&(cn==4?np(this.j,this):(this.o=!1,uo(this)))}else Gy(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Sn(this),hi(this)}}}catch{}finally{}};function Hf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function $f(p,E){var S=p.C,k=E.indexOf(`
`,S);return k==-1?Cl:(S=Number(E.substring(S,k)),isNaN(S)?Uc:(k+=1,k+S>E.length?Cl:(E=E.slice(k,k+S),p.C=k+S,E)))}jn.prototype.cancel=function(){this.J=!0,Sn(this)};function uo(p){p.S=Date.now()+p.I,Gf(p,p.I)}function Gf(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Zt(v(p.ba,p),E)}function $s(p){p.B&&(h.clearTimeout(p.B),p.B=null)}jn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(qf(this.i,this.A),this.L!=2&&(js(),wt(17)),Sn(this),this.s=2,hi(this)):Gf(this,this.S-p)};function hi(p){p.j.G==0||p.J||np(p.j,p)}function Sn(p){$s(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,ao(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function co(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||Bc(S.h,p))){if(!p.K&&Bc(S.h,p)&&S.G==3){try{var k=S.Da.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Fl(S),Ul(S);else break e;Qc(S),wt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=Zt(v(S.Za,S),6e3));if(1>=xl(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else is(S,11)}else if((p.K||S.g==p)&&Fl(S),!L(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let We=Y[E];if(S.T=We[0],We=We[1],S.G==2)if(We[0]=="c"){S.K=We[1],S.ia=We[2];const gn=We[3];gn!=null&&(S.la=gn,S.j.info("VER="+S.la));const cn=We[4];cn!=null&&(S.Aa=cn,S.j.info("SVER="+S.Aa));const ss=We[5];ss!=null&&typeof ss=="number"&&0<ss&&(k=1.5*ss,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const An=p.g;if(An){const _i=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var ie=k.h;ie.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Ol(ie,ie.h),ie.h=null))}if(k.D){const Xc=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Xc&&(k.ya=Xc,ut(k.I,k.D,Xc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var _e=p;if(k.qa=ip(k,k.J?k.ia:null,k.W),_e.K){qn(k.h,_e);var Ke=_e,un=k.L;un&&(Ke.I=un),Ke.B&&($s(Ke),uo(Ke)),k.g=_e}else ep(k);0<S.i.length&&Bl(S)}else We[0]!="stop"&&We[0]!="close"||is(S,7);else S.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?is(S,7):Kc(S):We[0]!="noop"&&S.l&&S.l.ta(We),S.v=0)}}js(4)}catch{}}var Kf=class{constructor(p,E){this.g=p,this.map=E}};function Ji(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function xl(p){return p.h?1:p.g?p.g.size:0}function Bc(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Ol(p,E){p.g?p.g.add(E):p.h=E}function qn(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Ji.prototype.cancel=function(){if(this.i=Fc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Fc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return I(p.i)}function jy(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var E=[],S=p.length,k=0;k<S;k++)E.push(p[k]);return E}E=[],S=0;for(k in p)E[S++]=p[k];return E}function Dl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const k in p)E[S++]=k;return E}}}function zc(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Dl(p),k=jy(p),Y=k.length,ie=0;ie<Y;ie++)E.call(void 0,k[ie],S&&S[ie],p)}var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qy(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var k=p[S].indexOf("="),Y=null;if(0<=k){var ie=p[S].substring(0,k);Y=p[S].substring(k+1)}else ie=p[S];E(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function en(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof en){this.h=p.h,fo(this,p.j),this.o=p.o,this.g=p.g,Gs(this,p.s),this.l=p.l;var E=p.i,S=new es;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Zi(this,S),this.m=p.m}else p&&(E=String(p).match(ho))?(this.h=!1,fo(this,E[1]||"",!0),this.o=Pr(E[2]||""),this.g=Pr(E[3]||"",!0),Gs(this,E[4]),this.l=Pr(E[5]||"",!0),Zi(this,E[6]||"",!0),this.m=Pr(E[7]||"")):(this.h=!1,this.i=new es(null,this.h))}en.prototype.toString=function(){var p=[],E=this.j;E&&p.push(mo(E,jc,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(mo(E,jc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(mo(S,S.charAt(0)=="/"?Hy:qc,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",mo(S,Nl)),p.join("")};function cr(p){return new en(p)}function fo(p,E,S){p.j=S?Pr(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Gs(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Zi(p,E,S){E instanceof es?(p.i=E,Qf(p.i,p.h)):(S||(E=mo(E,$y)),p.i=new es(E,p.h))}function ut(p,E,S){p.i.set(E,S)}function po(p){return ut(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Pr(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function mo(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,Wf),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Wf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var jc=/[#\/\?@]/g,qc=/[#\?:]/g,Hy=/[#\?]/g,$y=/[#\?@]/g,Nl=/#/g;function es(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function xr(p){p.g||(p.g=new Map,p.h=0,p.i&&qy(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=es.prototype,n.add=function(p,E){xr(this),this.i=null,p=di(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function ts(p,E){xr(p),E=di(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function ns(p,E){return xr(p),E=di(p,E),p.g.has(E)}n.forEach=function(p,E){xr(this),this.g.forEach(function(S,k){S.forEach(function(Y){p.call(E,Y,k,this)},this)},this)},n.na=function(){xr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let k=0;k<E.length;k++){const Y=p[k];for(let ie=0;ie<Y.length;ie++)S.push(E[k])}return S},n.V=function(p){xr(this);let E=[];if(typeof p=="string")ns(this,p)&&(E=E.concat(this.g.get(di(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return xr(this),this.i=null,p=di(this,p),ns(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Hc(p,E,S){ts(p,E),0<S.length&&(p.i=null,p.g.set(di(p,E),I(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var k=E[S];const ie=encodeURIComponent(String(k)),_e=this.V(k);for(k=0;k<_e.length;k++){var Y=ie;_e[k]!==""&&(Y+="="+encodeURIComponent(String(_e[k]))),p.push(Y)}}return this.i=p.join("&")};function di(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Qf(p,E){E&&!p.j&&(xr(p),p.i=null,p.g.forEach(function(S,k){var Y=k.toLowerCase();k!=Y&&(ts(this,k),Hc(this,Y,S))},p)),p.j=E}function go(p,E){const S=new Cr;if(h.Image){const k=new Image;k.onload=T(Or,S,"TestLoadImage: loaded",!0,E,k),k.onerror=T(Or,S,"TestLoadImage: error",!1,E,k),k.onabort=T(Or,S,"TestLoadImage: abort",!1,E,k),k.ontimeout=T(Or,S,"TestLoadImage: timeout",!1,E,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else E(!1)}function Yr(p,E){const S=new Cr,k=new AbortController,Y=setTimeout(()=>{k.abort(),Or(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:k.signal}).then(ie=>{clearTimeout(Y),ie.ok?Or(S,"TestPingServer: ok",!0,E):Or(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Or(S,"TestPingServer: error",!1,E)})}function Or(p,E,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function yo(){this.g=new oo}function fi(p,E,S){const k=S||"";try{zc(p,function(Y,ie){let _e=Y;d(Y)&&(_e=Wr(Y)),E.push(k+ie+"="+encodeURIComponent(_e))})}catch(Y){throw E.push(k+"type="+encodeURIComponent("_badmap")),Y}}function Ks(p){this.l=p.Ub||null,this.j=p.eb||!1}w(Ks,Dc),Ks.prototype.g=function(){return new rs(this.l,this.j)},Ks.prototype.i=function(p){return function(){return p}}({});function rs(p,E){it.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(rs,it),n=rs.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,mi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$c(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function $c(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?pi(this):mi(this),this.readyState==3&&$c(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,pi(this))},n.Qa=function(p){this.g&&(this.response=p,pi(this))},n.ga=function(){this.g&&pi(this)};function pi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,mi(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function mi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Gc(p){let E="";return G(p,function(S,k){E+=k,E+=":",E+=S,E+=`\r
`}),E}function mn(p,E,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=Gc(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):ut(p,E,S))}function rt(p){it.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(rt,it);var kl=/^https?$/i,_o=["POST","PUT"];n=rt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?Nc(this.o):Nc(ui),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ie){Yf(this,ie);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ie of k.keys())S.set(ie,k.get(ie));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(_o,E,void 0))||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of S)this.g.setRequestHeader(ie,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){Yf(this,ie)}};function Yf(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Ml(p),gi(p)}function Ml(p){p.A||(p.A=!0,Ue(p,"complete"),Ue(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ue(this,"complete"),Ue(this,"abort"),gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vl(this):this.bb())},n.bb=function(){Vl(this)};function Vl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Dr(p)!=4||p.Z()!=2)){if(p.u&&Dr(p)==4)Jt(p.Ea,0,p);else if(Ue(p,"readystatechange"),Dr(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var k;if(k=_e===0){var Y=String(p.D).match(ho)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),k=!kl.test(Y?Y.toLowerCase():"")}S=k}if(S)Ue(p,"complete"),Ue(p,"success");else{p.m=6;try{var ie=2<Dr(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",Ml(p)}}finally{gi(p)}}}}function gi(p,E){if(p.g){vo(p);const S=p.g,k=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Ue(p,"ready");try{S.onreadystatechange=k}catch{}}}function vo(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Dr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Il(E)}};function Xf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Gy(p){const E={};p=(p.g&&2<=Dr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(L(p[k]))continue;var S=x(p[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ie=E[Y]||[];E[Y]=ie,ie.push(S)}M(E,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eo(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function Ll(p){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eo("baseRetryDelayMs",5e3,p),this.cb=Eo("retryDelaySeedMs",1e4,p),this.Wa=Eo("forwardChannelMaxRetries",2,p),this.wa=Eo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ji(p&&p.concurrentRequestLimit),this.Da=new yo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ll.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,k){wt(0),this.W=p,this.H=E||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=ip(this,null,this.W),Bl(this)};function Kc(p){if(Jf(p),p.G==3){var E=p.U++,S=cr(p.I);if(ut(S,"SID",p.K),ut(S,"RID",E),ut(S,"TYPE","terminate"),bo(p,S),E=new jn(p,p.j,E),E.L=2,E.v=po(cr(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=sp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),uo(E)}rp(p)}function Ul(p){p.g&&(wo(p),p.g.cancel(),p.g=null)}function Jf(p){Ul(p),p.u&&(h.clearTimeout(p.u),p.u=null),Fl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Bl(p){if(!Pl(p.h)&&!p.s){p.s=!0;var E=p.Ga;ee||j(),oe||(ee(),oe=!0),we.add(E,p),p.B=0}}function Ky(p,E){return xl(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Zt(v(p.Ga,p,E),Yc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new jn(this,this.j,p);let ie=this.o;if(this.S&&(ie?(ie=R(ie),b(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Zf(this,Y,E),S=cr(this.I),ut(S,"RID",p),ut(S,"CVER",22),this.D&&ut(S,"X-HTTP-Session-Id",this.D),bo(this,S),ie&&(this.O?E="headers="+encodeURIComponent(String(Gc(ie)))+"&"+E:this.m&&mn(S,this.m,ie)),Ol(this.h,Y),this.Ua&&ut(S,"TYPE","init"),this.P?(ut(S,"$req",E),ut(S,"SID","null"),Y.T=!0,Qr(Y,S,null)):Qr(Y,S,E),this.G=2}}else this.G==3&&(p?Wc(this,p):this.i.length==0||Pl(this.h)||Wc(this))};function Wc(p,E){var S;E?S=E.l:S=p.U++;const k=cr(p.I);ut(k,"SID",p.K),ut(k,"RID",S),ut(k,"AID",p.T),bo(p,k),p.m&&p.o&&mn(k,p.m,p.o),S=new jn(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=Zf(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ol(p.h,S),Qr(S,k,E)}function bo(p,E){p.H&&G(p.H,function(S,k){ut(E,k,S)}),p.l&&zc({},function(S,k){ut(E,k,S)})}function Zf(p,E,S){S=Math.min(p.i.length,S);var k=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let ie=-1;for(;;){const _e=["count="+S];ie==-1?0<S?(ie=Y[0].g,_e.push("ofs="+ie)):ie=0:_e.push("ofs="+ie);let Ke=!0;for(let un=0;un<S;un++){let We=Y[un].g;const gn=Y[un].map;if(We-=ie,0>We)ie=Math.max(0,Y[un].g-100),Ke=!1;else try{fi(gn,_e,"req"+We+"_")}catch{k&&k(gn)}}if(Ke){k=_e.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,k}function ep(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ee||j(),oe||(ee(),oe=!0),we.add(E,p),p.v=0}}function Qc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Zt(v(p.Fa,p),Yc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,tp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Zt(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Ul(this),tp(this))};function wo(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function tp(p){p.g=new jn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=cr(p.qa);ut(E,"RID","rpc"),ut(E,"SID",p.K),ut(E,"AID",p.T),ut(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&ut(E,"TO",p.ja),ut(E,"TYPE","xmlhttp"),bo(p,E),p.m&&p.o&&mn(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=po(cr(E)),S.m=null,S.P=!0,Xi(S,p)}n.Za=function(){this.C!=null&&(this.C=null,Ul(this),Qc(this),wt(19))};function Fl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function np(p,E){var S=null;if(p.g==E){Fl(p),wo(p),p.g=null;var k=2}else if(Bc(p.h,E))S=E.D,qn(p.h,E),k=1;else return;if(p.G!=0){if(E.o)if(k==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;k=zs(),Ue(k,new ln(k,S)),Bl(p)}else ep(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(k==1&&Ky(p,E)||k==2&&Qc(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:is(p,5);break;case 4:is(p,10);break;case 3:is(p,6);break;default:is(p,2)}}}function Yc(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function is(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),k=p.Xa;const Y=!k;k=new en(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||fo(k,"https"),po(k),Y?go(k.toString(),S):Yr(k.toString(),S)}else wt(2);p.G=0,p.l&&p.l.sa(E),rp(p),Jf(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function rp(p){if(p.G=0,p.ka=[],p.l){const E=Fc(p.h);(E.length!=0||p.i.length!=0)&&(D(p.ka,E),D(p.ka,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.ra()}}function ip(p,E,S){var k=S instanceof en?cr(S):new en(S);if(k.g!="")E&&(k.g=E+"."+k.g),Gs(k,k.s);else{var Y=h.location;k=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new en(null);k&&fo(ie,k),E&&(ie.g=E),Y&&Gs(ie,Y),S&&(ie.l=S),k=ie}return S=p.D,E=p.ya,S&&E&&ut(k,S,E),ut(k,"VER",p.la),bo(p,k),k}function sp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new rt(new Ks({eb:S})):new rt(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ap(){}n=ap.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zl(){}zl.prototype.g=function(p,E){return new Hn(p,E)};function Hn(p,E){it.call(this),this.g=new Ll(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!L(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new yi(this)}w(Hn,it),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Kc(this.g)},Hn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Wr(p),p=S);E.i.push(new Kf(E.Ya++,p)),E.G==3&&Bl(E)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Kc(this.g),delete this.g,Hn.aa.N.call(this)};function op(p){Qi.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}w(op,Qi);function lp(){Mc.call(this),this.status=1}w(lp,Mc);function yi(p){this.g=p}w(yi,ap),yi.prototype.ua=function(){Ue(this.g,"a")},yi.prototype.ta=function(p){Ue(this.g,new op(p))},yi.prototype.sa=function(p){Ue(this.g,new lp)},yi.prototype.ra=function(){Ue(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,MO=function(){return new zl},kO=function(){return zs()},NO=li,Q0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,Lm=Hs,Yi.COMPLETE="complete",DO=Yi,kc.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",it.prototype.listen=it.prototype.K,dd=kc,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,OO=rt}).apply(typeof ym<"u"?ym:typeof self<"u"?self:typeof window<"u"?window:{});const YR="@firebase/firestore",XR="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Zg("@firebase/firestore");function Cu(){return Ba.logLevel}function s8(n){Ba.setLogLevel(n)}function pe(n,...e){if(Ba.logLevel<=He.DEBUG){const t=e.map(Sb);Ba.debug(`Firestore (${Tc}): ${n}`,...t)}}function Wt(n,...e){if(Ba.logLevel<=He.ERROR){const t=e.map(Sb);Ba.error(`Firestore (${Tc}): ${n}`,...t)}}function ji(n,...e){if(Ba.logLevel<=He.WARN){const t=e.map(Sb);Ba.warn(`Firestore (${Tc}): ${n}`,...t)}}function Sb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,VO(n,r,t)}function VO(n,e,t){let r=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wt(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||VO(e,i,r)}function a8(n,e){n||be(57014,e)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class l8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class u8{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new LO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class c8{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h8{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new c8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d8{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,It(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new JR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=f8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function Y0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return De(r,i);{const o=Ab(),u=p8(o.encode(ZR(n,t)),o.encode(ZR(e,t)));return u!==0?u:De(r,i)}}t+=r>65535?2:1}return De(n.length,e.length)}function ZR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function p8(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function Qu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function BO(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=-62135596800,t1=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*t1);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<e1)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t1}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-e1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Pt(0,0))}static max(){return new Ie(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="__name__";class Ii{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Ii.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return De(e.length,t.length)}static compareSegments(e,t){const r=Ii.isNumericId(e),i=Ii.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ii.extractNumericId(e).compare(Ii.extractNumericId(t)):Y0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class $e extends Ii{construct(e,t,r){return new $e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new $e(t)}static emptyPath(){return new $e([])}}const m8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Ii{construct(e,t,r){return new Rt(e,t,r)}static isValidIdentifier(e){return m8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n1}static keyField(){return new Rt([n1])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(t)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve($e.fromString(e))}static fromName(e){return new ve($e.fromString(e).popFirst(5))}static empty(){return new ve($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=-1;class hg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function X0(n){return n.fields.find(e=>e.kind===2)}function Fo(n){return n.fields.filter(e=>e.kind!==2)}hg.UNKNOWN_ID=-1;class Um{constructor(e,t){this.fieldPath=e,this.kind=t}}class $d{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $d(0,Ar.min())}}function FO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Ar(i,ve.empty(),e)}function zO(n){return new Ar(n.readTime,n.key,Yu)}class Ar{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ar(Ie.min(),ve.empty(),Yu)}static max(){return new Ar(Ie.max(),ve.empty(),Yu)}}function Ib(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==jO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},f=>r(f))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next(g=>{u[d]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="SimpleDb";class fy{static open(e,t,r,i){try{return new fy(t,e.transaction(i,r))}catch(o){throw new Td(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Dn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Td(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Rb(r.target.error);this.S.reject(new Td(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(vr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new y8(t)}}class Ui{static delete(e){return pe(vr,"Removing database:",e),jo(eb().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Bd())return!1;if(Ui.F())return!0;const e=kt(),t=Ui.M(e),r=0<t&&t<10,i=HO(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,Ui.M(kt())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(pe(vr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new Td(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new fe(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new fe(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Td(e,u))},i.onupgradeneeded=o=>{pe(vr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(vr,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=fy.open(this.db,e,o?"readonly":"readwrite",r),f=i(h).next(d=>(h.v(),d)).catch(d=>(h.abort(d),X.reject(d))).toPromise();return f.catch(()=>{}),await h.D,f}catch(h){const f=h,d=f.name!=="FirebaseError"&&u<3;if(pe(vr,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function HO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class g8{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return jo(this.K.delete())}}class Td extends fe{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ja(n){return n.name==="IndexedDbTransactionError"}class y8{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(vr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(vr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),jo(r)}add(e){return pe(vr,"ADD",this.store.name,e,e),jo(this.store.add(e))}get(e){return jo(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(vr,"GET",this.store.name,e,t),t))}delete(e){return pe(vr,"DELETE",this.store.name,e),jo(this.store.delete(e))}count(){return pe(vr,"COUNT",this.store.name),jo(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.Y(o,(h,f)=>{u.push(f)}).next(()=>u)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}X(e,t){pe(vr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const i=this.cursor(r);return this.Y(i,(o,u,h)=>h.delete())}te(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Y(i,t)}ne(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=Rb(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Y(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const f=new g8(h),d=t(h.primaryKey,h.value,f);if(d instanceof X){const g=d.catch(_=>(f.done(),X.reject(_)));r.push(g)}f.isDone?i():f.j===null?h.continue():h.continue(f.j)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jo(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Rb(r.target.error);t(i)}})}let r1=!1;function Rb(n){const e=Ui.M(kt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return r1||(r1=!0,setTimeout(()=>{throw r},0)),r}}return n}const Sd="IndexBackfiller";class _8{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){pe(Sd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();pe(Sd,`Documents written: ${t}`)}catch(t){Ja(t)?pe(Sd,"Ignoring IndexedDB error during index backfill: ",t):await Xa(t)}await this.ie(6e4)})}}class v8{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Sd,`Processing collection: ${u}`),this._e(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(i,o)).next(h=>(pe(Sd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=zO(o);Ib(u,r)>0&&(r=u)}),new Ar(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rr.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=-1;function Rf(n){return n==null}function Gd(n){return n===0&&1/n==-1/0}function $O(n){return typeof n=="number"&&Number.isInteger(n)&&!Gd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="";function Fn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=i1(e)),e=E8(n.get(t),e);return i1(e)}function E8(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case dg:t+="";break;default:t+=o}}return t}function i1(n){return n+dg+""}function Mi(n){const e=n.length;if(Ae(e>=2,64408,{path:n}),e===2)return Ae(n.charAt(0)===dg&&n.charAt(1)==="",56145,{path:n}),$e.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(dg,o);switch((u<0||u>t)&&be(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;i.length===0?f=h:(i+=h,f=i,i=""),r.push(f);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:be(61167,{path:n})}o=u+2}return new $e(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="remoteDocuments",Cf="owner",wu="owner",Kd="mutationQueues",b8="userId",ti="mutations",s1="batchId",Qo="userMutationsIndex",a1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(n,e){return[n,Fn(e)]}function GO(n,e,t){return[n,Fn(e),t]}const w8={},Xu="documentMutations",fg="remoteDocumentsV14",T8=["prefixPath","collectionGroup","readTime","documentId"],Fm="documentKeyIndex",S8=["prefixPath","collectionGroup","documentId"],KO="collectionGroupIndex",A8=["collectionGroup","readTime","prefixPath","documentId"],Wd="remoteDocumentGlobal",J0="remoteDocumentGlobalKey",Ju="targets",WO="queryTargetsIndex",I8=["canonicalId","targetId"],Zu="targetDocuments",R8=["targetId","path"],Cb="documentTargetsIndex",C8=["path","targetId"],pg="targetGlobalKey",nl="targetGlobal",Qd="collectionParents",P8=["collectionId","parent"],ec="clientMetadata",x8="clientId",py="bundles",O8="bundleId",my="namedQueries",D8="name",Pb="indexConfiguration",N8="indexId",Z0="collectionGroupIndex",k8="collectionGroup",Ad="indexState",M8=["indexId","uid"],QO="sequenceNumberIndex",V8=["uid","sequenceNumber"],Id="indexEntries",L8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],YO="documentKeyIndex",U8=["indexId","uid","orderedDocumentKey"],gy="documentOverlays",B8=["userId","collectionPath","documentId"],eE="collectionPathOverlayIndex",F8=["userId","collectionPath","largestBatchId"],XO="collectionGroupOverlayIndex",z8=["userId","collectionGroup","largestBatchId"],xb="globals",j8="name",JO=[Kd,ti,Xu,zo,Ju,Cf,nl,Zu,ec,Wd,Qd,py,my],q8=[...JO,gy],ZO=[Kd,ti,Xu,fg,Ju,Cf,nl,Zu,ec,Wd,Qd,py,my,gy],eD=ZO,Ob=[...eD,Pb,Ad,Id],H8=Ob,tD=[...Ob,xb],$8=tD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends qO{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function pn(n,e){const t=Ee(n);return Ui.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Za(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||Pn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _m(this.root,e,this.comparator,!1)}getReverseIterator(){return new _m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _m(this.root,e,this.comparator,!0)}}class _m{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Pn.RED,this.left=i??Pn.EMPTY,this.right=o??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Pn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new l1(this.data.getIterator())}getIteratorFrom(e){return new l1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class l1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new ir([])}unionWith(e){let t=new lt(Rt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rD("Invalid base64 string: "+o):o}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const K8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(Ae(!!n,39018),typeof n=="string"){let e=0;const t=K8.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="server_timestamp",sD="__type__",aD="__previous_value__",oD="__local_write_time__";function yy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sD])===null||t===void 0?void 0:t.stringValue)===iD}function _y(n){const e=n.mapValue.fields[aD];return yy(e)?_y(e):e}function Yd(n){const e=Ds(n.mapValue.fields[oD].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,t,r,i,o,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const mg="(default)";class Fa{constructor(e,t){this.projectId=e,this.database=t||mg}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database===mg}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="__type__",lD="__max__",Ta={mapValue:{fields:{__type__:{stringValue:lD}}}},Nb="__vector__",tc="value",zm={nullValue:"NULL_VALUE"};function za(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yy(n)?4:uD(n)?9007199254740991:vy(n)?10:11:be(28295,{value:n})}function qi(n,e){if(n===e)return!0;const t=za(n);if(t!==za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yd(n).isEqual(Yd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Ds(i.timestampValue),h=Ds(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ns(i.bytesValue).isEqual(Ns(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return At(i.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return At(i.integerValue)===At(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=At(i.doubleValue),h=At(o.doubleValue);return u===h?Gd(u)===Gd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Qu(n.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(o1(u)!==o1(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!qi(u[f],h[f])))return!1;return!0}(n,e);default:return be(52216,{left:n})}}function Xd(n,e){return(n.values||[]).find(t=>qi(t,e))!==void 0}function ja(n,e){if(n===e)return 0;const t=za(n),r=za(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=At(o.integerValue||o.doubleValue),f=At(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return u1(n.timestampValue,e.timestampValue);case 4:return u1(Yd(n),Yd(e));case 5:return Y0(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Ns(o),f=Ns(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=De(h[d],f[d]);if(g!==0)return g}return De(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=De(At(o.latitude),At(u.latitude));return h!==0?h:De(At(o.longitude),At(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return c1(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,d,g;const _=o.fields||{},v=u.fields||{},T=(h=_[tc])===null||h===void 0?void 0:h.arrayValue,w=(f=v[tc])===null||f===void 0?void 0:f.arrayValue,I=De(((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0,((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:c1(T,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Ta.mapValue&&u===Ta.mapValue)return 0;if(o===Ta.mapValue)return 1;if(u===Ta.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const v=Y0(f[_],g[_]);if(v!==0)return v;const T=ja(h[f[_]],d[g[_]]);if(T!==0)return T}return De(f.length,g.length)}(n.mapValue,e.mapValue);default:throw be(23264,{Pe:t})}}function u1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Ds(n),r=Ds(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function c1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=ja(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function nc(n){return nE(n)}function nE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ds(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=nE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${nE(t.fields[u])}`;return i+"}"}(n.mapValue):be(61005,{value:n})}function jm(n){switch(za(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_y(n);return e?16+jm(e):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+jm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Za(r.fields,(o,u)=>{i+=o.length+jm(u)}),i}(n.mapValue);default:throw be(13486,{value:n})}}function ol(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function rE(n){return!!n&&"integerValue"in n}function Jd(n){return!!n&&"arrayValue"in n}function h1(n){return!!n&&"nullValue"in n}function d1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qm(n){return!!n&&"mapValue"in n}function vy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Db])===null||t===void 0?void 0:t.stringValue)===Nb}function Rd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Za(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lD}const cD={mapValue:{fields:{[Db]:{stringValue:Nb},[tc]:{arrayValue:{}}}}};function Q8(n){return"nullValue"in n?zm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ol(Fa.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?vy(n)?cD:{mapValue:{}}:be(35942,{value:n})}function Y8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ol(Fa.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?cD:"mapValue"in n?vy(n)?{mapValue:{}}:Ta:be(61959,{value:n})}function f1(n,e){const t=ja(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function p1(n,e){const t=ja(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rd(t)}setAll(e){let t=Rt.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Rd(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());qm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Za(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new On(Rd(this.value))}}function hD(n){const e=[];return Za(n.fields,(t,r)=>{const i=new Rt([t]);if(qm(r)){const o=hD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Et(e,0,Ie.min(),Ie.min(),Ie.min(),On.empty(),0)}static newFoundDocument(e,t,r,i){return new Et(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new Et(e,2,t,Ie.min(),Ie.min(),On.empty(),0)}static newUnknownDocument(e,t){return new Et(e,3,t,Ie.min(),Ie.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this.position=e,this.inclusive=t}}function m1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=ja(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function g1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t="asc"){this.field=e,this.dir=t}}function X8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{}class Ge extends dD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new J8(e,t,r):t==="array-contains"?new tq(e,r):t==="in"?new _D(e,r):t==="not-in"?new nq(e,r):t==="array-contains-any"?new rq(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Z8(e,r):new eq(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ja(t,this.value)):t!==null&&za(this.value)===za(t)&&this.matchesComparison(ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends dD{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ot(e,t)}matches(e){return rc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function rc(n){return n.op==="and"}function iE(n){return n.op==="or"}function kb(n){return fD(n)&&rc(n)}function fD(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function sE(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+nc(n.value);if(kb(n))return n.filters.map(e=>sE(e)).join(",");{const e=n.filters.map(t=>sE(t)).join(",");return`${n.op}(${e})`}}function pD(n,e){return n instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&qi(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&pD(u,i.filters[h]),!0):!1}(n,e):void be(19439)}function mD(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function gD(n){return n instanceof Ge?function(t){return`${t.field.canonicalString()} ${t.op} ${nc(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(gD).join(" ,")+"}"}(n):"Filter"}class J8 extends Ge{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class Z8 extends Ge{constructor(e,t){super(e,"in",t),this.keys=yD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eq extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=yD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class tq extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jd(t)&&Xd(t.arrayValue,this.value)}}class _D extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xd(this.value.arrayValue,t)}}class nq extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xd(this.value.arrayValue,t)}}class rq extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function aE(n,e=null,t=[],r=[],i=null,o=null,u=null){return new iq(n,e,t,r,i,o,u)}function ll(n){const e=Ee(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>nc(r)).join(",")),e.Ie=t}return e.Ie}function Pf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!X8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!g1(n.startAt,e.startAt)&&g1(n.endAt,e.endAt)}function gg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function yg(n,e){return n.filters.filter(t=>t instanceof Ge&&t.field.isEqual(e))}function y1(n,e,t){let r=zm,i=!0;for(const o of yg(n,e)){let u=zm,h=!0;switch(o.op){case"<":case"<=":u=Q8(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=zm}f1({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];f1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function _1(n,e,t){let r=Ta,i=!0;for(const o of yg(n,e)){let u=Ta,h=!0;switch(o.op){case">=":case">":u=Y8(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ta}p1({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];p1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vD(n,e,t,r,i,o,u,h){return new Ls(n,e,t,r,i,o,u,h)}function Sc(n){return new Ls(n)}function v1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Mb(n){return n.collectionGroup!==null}function Fu(n){const e=Ee(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new lt(Rt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Zd(o,r))}),t.has(Rt.keyField().canonicalString())||e.Ee.push(new Zd(Rt.keyField(),r))}return e.Ee}function Qn(n){const e=Ee(n);return e.de||(e.de=sq(e,Fu(n))),e.de}function sq(n,e){if(n.limitType==="F")return aE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Zd(i.field,o)});const t=n.endAt?new qa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qa(n.startAt.position,n.startAt.inclusive):null;return aE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function oE(n,e){const t=n.filters.concat([e]);return new Ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _g(n,e,t){return new Ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xf(n,e){return Pf(Qn(n),Qn(e))&&n.limitType===e.limitType}function ED(n){return`${ll(Qn(n))}|lt:${n.limitType}`}function Pu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>gD(i)).join(", ")}]`),Rf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>nc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>nc(i)).join(",")),`Target(${r})`}(Qn(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Fu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,f){const d=m1(u,h,f);return u.inclusive?d<=0:d<0}(r.startAt,Fu(r),i)||r.endAt&&!function(u,h,f){const d=m1(u,h,f);return u.inclusive?d>=0:d>0}(r.endAt,Fu(r),i))}(n,e)}function bD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wD(n){return(e,t)=>{let r=!1;for(const i of Fu(n)){const o=aq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function aq(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?ja(f,d):be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return nD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=new vt(ve.comparator);function sr(){return oq}const TD=new vt(ve.comparator);function fd(...n){let e=TD;for(const t of n)e=e.insert(t.key,t);return e}function SD(n){let e=TD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vi(){return Cd()}function AD(){return Cd()}function Cd(){return new Us(n=>n.toString(),(n,e)=>n.isEqual(e))}const lq=new vt(ve.comparator),uq=new lt(ve.comparator);function Ve(...n){let e=uq;for(const t of n)e=e.add(t);return e}const cq=new lt(De);function Vb(){return cq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function ID(n){return{integerValue:""+n}}function RD(n,e){return $O(e)?ID(e):Lb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this._=void 0}}function hq(n,e,t){return n instanceof ic?function(i,o){const u={fields:{[sD]:{stringValue:iD},[oD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yy(o)&&(o=_y(o)),o&&(u.fields[aD]=o),{mapValue:u}}(t,e):n instanceof ul?PD(n,e):n instanceof cl?xD(n,e):function(i,o){const u=CD(i,o),h=E1(u)+E1(i.Re);return rE(u)&&rE(i.Re)?ID(h):Lb(i.serializer,h)}(n,e)}function dq(n,e,t){return n instanceof ul?PD(n,e):n instanceof cl?xD(n,e):t}function CD(n,e){return n instanceof sc?function(r){return rE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ic extends Ey{}class ul extends Ey{constructor(e){super(),this.elements=e}}function PD(n,e){const t=OD(e);for(const r of n.elements)t.some(i=>qi(i,r))||t.push(r);return{arrayValue:{values:t}}}class cl extends Ey{constructor(e){super(),this.elements=e}}function xD(n,e){let t=OD(e);for(const r of n.elements)t=t.filter(i=>!qi(i,r));return{arrayValue:{values:t}}}class sc extends Ey{constructor(e,t){super(),this.serializer=e,this.Re=t}}function E1(n){return At(n.integerValue||n.doubleValue)}function OD(n){return Jd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.field=e,this.transform=t}}function fq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ul&&i instanceof ul||r instanceof cl&&i instanceof cl?Qu(r.elements,i.elements,qi):r instanceof sc&&i instanceof sc?qi(r.Re,i.Re):r instanceof ic&&i instanceof ic}(n.transform,e.transform)}class pq{constructor(e,t){this.version=e,this.transformResults=t}}class Ct{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ct}static exists(e){return new Ct(void 0,e)}static updateTime(e){return new Ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class by{}function DD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ic(n.key,Ct.none()):new Ac(n.key,n.data,Ct.none());{const t=n.data,r=On.empty();let i=new lt(Rt.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Bs(n.key,r,new ir(i.toArray()),Ct.none())}}function mq(n,e,t){n instanceof Ac?function(i,o,u){const h=i.value.clone(),f=w1(i.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Bs?function(i,o,u){if(!Hm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=w1(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(ND(i)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Pd(n,e,t,r){return n instanceof Ac?function(o,u,h,f){if(!Hm(o.precondition,u))return h;const d=o.value.clone(),g=T1(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Bs?function(o,u,h,f){if(!Hm(o.precondition,u))return h;const d=T1(o.fieldTransforms,f,u),g=u.data;return g.setAll(ND(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Hm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function gq(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=CD(r.transform,i||null);o!=null&&(t===null&&(t=On.empty()),t.set(r.field,o))}return t||null}function b1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qu(r,i,(o,u)=>fq(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ac extends by{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bs extends by{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ND(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function w1(n,e,t){const r=new Map;Ae(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,dq(u,h,t[i]))}return r}function T1(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,hq(o,u,e))}return r}class Ic extends by{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub extends by{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&mq(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=AD();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const f=DD(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,(t,r)=>b1(t,r))&&Qu(this.baseMutations,e.baseMutations,(t,r)=>b1(t,r))}}class Fb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return lq}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Fb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,Ye;function kD(n){switch(n){case re.OK:return be(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function MD(n){if(n===void 0)return Wt("GRPC error has no .code"),re.UNKNOWN;switch(n){case sn.OK:return re.OK;case sn.CANCELLED:return re.CANCELLED;case sn.UNKNOWN:return re.UNKNOWN;case sn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case sn.INTERNAL:return re.INTERNAL;case sn.UNAVAILABLE:return re.UNAVAILABLE;case sn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case sn.NOT_FOUND:return re.NOT_FOUND;case sn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case sn.ABORTED:return re.ABORTED;case sn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case sn.DATA_LOSS:return re.DATA_LOSS;default:return be(39323,{code:n})}}(Ye=sn||(sn={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=new xa([4294967295,4294967295],0);function S1(n){const e=Ab().encode(n),t=new xO;return t.update(e),new Uint8Array(t.digest())}function A1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xa([t,r],0),new xa([i,o],0)]}class jb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pd(`Invalid padding: ${t}`);if(r<0)throw new pd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new pd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=xa.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(xa.fromNumber(r)));return i.compare(_q)===1&&(i=new xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=S1(e),[r,i]=A1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new jb(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=S1(e),[r,i]=A1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,kf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nf(Ie.min(),i,new vt(De),sr(),Ve())}}class kf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new kf(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class VD{constructor(e,t){this.targetId=e,this.Ce=t}}class LD{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class I1{constructor(){this.Fe=0,this.Me=R1(),this.xe=Ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),r=Ve();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:be(38017,{changeType:o})}}),new kf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=R1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vq{constructor(e){this.ze=e,this.je=new Map,this.He=sr(),this.Je=vm(),this.Ye=vm(),this.Ze=new vt(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(gg(o))if(r===0){const u=new ve(o.path);this.tt(t,u,Et.newNoDocument(u,Ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Ns(r).toUint8Array()}catch(f){if(f instanceof rD)return ji("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new jb(u,i,o)}catch(f){return ji(f instanceof pd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&gg(h.target)){const f=new ve(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Et.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Ve();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const i=new Nf(e,t,this.Ze,this.He,r);return this.He=sr(),this.Je=vm(),this.Ye=vm(),this.Ze=new vt(De),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new I1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new lt(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new lt(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new I1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function vm(){return new vt(ve.comparator)}function R1(){return new vt(ve.comparator)}const Eq={asc:"ASCENDING",desc:"DESCENDING"},bq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wq={and:"AND",or:"OR"};class Tq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lE(n,e){return n.useProto3Json||Rf(e)?e:{value:e}}function ac(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Sq(n,e){return ac(n,e.toTimestamp())}function Qt(n){return Ae(!!n,49232),Ie.fromTimestamp(function(t){const r=Ds(t);return new Pt(r.seconds,r.nanos)}(n))}function qb(n,e){return uE(n,e).canonicalString()}function uE(n,e){const t=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function BD(n){const e=$e.fromString(n);return Ae(QD(e),10190,{key:e.toString()}),e}function ef(n,e){return qb(n.databaseId,e.path)}function Bi(n,e){const t=BD(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(jD(t))}function FD(n,e){return qb(n.databaseId,e)}function zD(n){const e=BD(n);return e.length===4?$e.emptyPath():jD(e)}function cE(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jD(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function C1(n,e,t){return{name:ef(n,e),fields:t.value.mapValue.fields}}function qD(n,e,t){const r=Bi(n,e.name),i=Qt(e.updateTime),o=e.createTime?Qt(e.createTime):Ie.min(),u=new On({mapValue:{fields:e.fields}}),h=Et.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Aq(n,e){return"found"in e?function(r,i){Ae(!!i.found,43571),i.found.name,i.found.updateTime;const o=Bi(r,i.found.name),u=Qt(i.found.updateTime),h=i.found.createTime?Qt(i.found.createTime):Ie.min(),f=new On({mapValue:{fields:i.found.fields}});return Et.newFoundDocument(o,u,h,f)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing,3894),Ae(!!i.readTime,22933);const o=Bi(r,i.missing),u=Qt(i.readTime);return Et.newNoDocument(o,u)}(n,e):be(7234,{result:e})}function Iq(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:be(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(Ae(g===void 0||typeof g=="string",58123),Ft.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Ft.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(d){const g=d.code===void 0?re.UNKNOWN:MD(d.code);return new fe(g,d.message||"")}(u);t=new LD(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bi(n,r.document.name),o=Qt(r.document.updateTime),u=r.document.createTime?Qt(r.document.createTime):Ie.min(),h=new On({mapValue:{fields:r.document.fields}}),f=Et.newFoundDocument(i,o,u,h),d=r.targetIds||[],g=r.removedTargetIds||[];t=new $m(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bi(n,r.document),o=r.readTime?Qt(r.readTime):Ie.min(),u=Et.newNoDocument(i,o),h=r.removedTargetIds||[];t=new $m([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bi(n,r.document),o=r.removedTargetIds||[];t=new $m([],o,i,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new yq(i,o),h=r.targetId;t=new VD(h,u)}}return t}function tf(n,e){let t;if(e instanceof Ac)t={update:C1(n,e.key,e.value)};else if(e instanceof Ic)t={delete:ef(n,e.key)};else if(e instanceof Bs)t={update:C1(n,e.key,e.data),updateMask:Dq(e.fieldMask)};else{if(!(e instanceof Ub))return be(16599,{ft:e.type});t={verify:ef(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof ic)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ul)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof cl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof sc)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw be(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Sq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be(27497)}(n,e.precondition)),t}function hE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?Ct.updateTime(Qt(o.updateTime)):o.exists!==void 0?Ct.exists(o.exists):Ct.none()}(e.currentDocument):Ct.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let f=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new ic;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];f=new ul(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];f=new cl(g)}else"increment"in h?f=new sc(u,h.increment):be(16584,{proto:h});const d=Rt.fromServerFormat(h.fieldPath);return new Df(d,f)}(n,i)):[];if(e.update){e.update.name;const i=Bi(n,e.update.name),o=new On({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const d=f.fieldPaths||[];return new ir(d.map(g=>Rt.fromServerFormat(g)))}(e.updateMask);return new Bs(i,o,u,t,r)}return new Ac(i,o,t,r)}if(e.delete){const i=Bi(n,e.delete);return new Ic(i,t)}if(e.verify){const i=Bi(n,e.verify);return new Ub(i,t)}return be(1463,{proto:e})}function Rq(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>function(i,o){let u=i.updateTime?Qt(i.updateTime):Qt(o);return u.isEqual(Ie.min())&&(u=Qt(o)),new pq(u,i.transformResults||[])}(t,e))):[]}function HD(n,e){return{documents:[FD(n,e.path)]}}function $D(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=FD(n,i);const o=function(d){if(d.length!==0)return WD(ot.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:xu(v.field),direction:Pq(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=lE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function GD(n){let e=zD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=KD(_);return v instanceof ot&&kb(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(w){return new Zd(Ou(w.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Rf(v)?null:v}(t.limit));let f=null;t.startAt&&(f=function(_){const v=!!_.before,T=_.values||[];return new qa(T,v)}(t.startAt));let d=null;return t.endAt&&(d=function(_){const v=!_.before,T=_.values||[];return new qa(T,v)}(t.endAt)),vD(e,i,u,o,h,"F",f,d)}function Cq(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ou(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ou(t.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ou(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ou(t.unaryFilter.field);return Ge.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ge.create(Ou(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>KD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(t.compositeFilter.op))}(n):be(30097,{filter:n})}function Pq(n){return Eq[n]}function xq(n){return bq[n]}function Oq(n){return wq[n]}function xu(n){return{fieldPath:n.canonicalString()}}function Ou(n){return Rt.fromServerFormat(n.fieldPath)}function WD(n){return n instanceof Ge?function(t){if(t.op==="=="){if(d1(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NAN"}};if(h1(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(d1(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NOT_NAN"}};if(h1(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(t.field),op:xq(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>WD(i));return r.length===1?r[0]:{compositeFilter:{op:Oq(t.op),filters:r}}}(n):be(54877,{filter:n})}function Dq(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function QD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,r,i,o=Ie.min(),u=Ie.min(),h=Ft.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.wt=e}}function Nq(n,e){let t;if(e.document)t=qD(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=dl(e.noDocument.readTime);t=Et.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return be(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=dl(e.unknownDocument.version);t=Et.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Pt(i[0],i[1]);return Ie.fromTimestamp(o)}(e.readTime)),t}function P1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:ef(o,u.key),fields:u.data.value.mapValue.fields,updateTime:ac(o,u.version.toTimestamp()),createTime:ac(o,u.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:hl(e.version)};else{if(!e.isUnknownDocument())return be(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:hl(e.version)}}return r}function vg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dl(n){const e=new Pt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function qo(n,e){const t=(e.baseMutations||[]).map(o=>hE(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>hE(n.wt,o)),i=Pt.fromMillis(e.localWriteTimeMs);return new Bb(e.batchId,i,t,r)}function md(n){const e=dl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?dl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){const u=o.documents.length;return Ae(u===1,1966,{count:u}),Qn(Sc(zD(o.documents[0])))}(n.query):function(o){return Qn(GD(o))}(n.query),new Ts(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ft.fromBase64String(n.resumeToken))}function XD(n,e){const t=hl(e.snapshotVersion),r=hl(e.lastLimboFreeSnapshotVersion);let i;i=gg(e.target)?HD(n.wt,e.target):$D(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ll(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Hb(n){const e=GD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_g(e,e.limit,"L"):e}function y0(n,e){return new zb(e.largestBatchId,hE(n.wt,e.overlayMutation))}function x1(n,e){const t=e.path.lastSegment();return[n,Fn(e.path.popLast()),t]}function O1(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:hl(r.readTime),documentKey:Fn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{getBundleMetadata(e,t){return D1(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:dl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return D1(e).put(function(i){return{bundleId:i.id,createTime:hl(Qt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return N1(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Hb(o.bundledQuery),readTime:dl(o.readTime)}}(r)})}saveNamedQuery(e,t){return N1(e).put(function(i){return{name:i.name,readTime:hl(Qt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function D1(n){return pn(n,py)}function N1(n){return pn(n,my)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t){this.serializer=e,this.userId=t}static St(e,t){const r=t.uid||"";return new wy(e,r)}getOverlay(e,t){return ed(e).get(x1(this.userId,t)).next(r=>r?y0(this.serializer,r):null)}getOverlays(e,t){const r=Vi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new zb(t,u);i.push(this.bt(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Fn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(ed(e).X(eE,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Vi(),o=Fn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ed(e).J(eE,u).next(h=>{for(const f of h){const d=y0(this.serializer,f);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Vi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ed(e).te({index:XO,range:h},(f,d,g)=>{const _=y0(this.serializer,d);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}bt(e,t){return ed(e).put(function(i,o,u){const[h,f,d]=x1(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:tf(i.wt,u.mutation)}}(this.serializer,this.userId,t))}}function ed(n){return pn(n,gy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{Dt(e){return pn(e,xb)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(At(e.integerValue));else if("doubleValue"in e){const r=At(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Gd(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Ds(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ns(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?uD(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):vy(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):be(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;const o=e.fields||{};this.Mt(t,53);const u=tc,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(At(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ve.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Ho.Wt=new Ho;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=255;function Vq(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function k1(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=Vq(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class Lq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=t.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const t=this.tn(e),r=k1(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}rn(e){const t=this.tn(e),r=k1(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}sn(){this._n(Su),this._n(255)}an(){this.un(Su),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===Su?(this._n(Su),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===Su?(this.un(Su),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Uq{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class Bq{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class td{constructor(){this.ln=new Lq,this.hn=new Uq(this.ln),this.Pn=new Bq(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,t,r,i){this.In=e,this.En=t,this.dn=r,this.An=i}Rn(){const e=this.An.length,t=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.An,0),t!==e?r.set([0],this.An.length):++r[r.length-1],new $o(this.In,this.En,this.dn,r)}Vn(e,t,r){return{indexId:this.In,uid:e,arrayValue:Gm(this.dn),directionalValue:Gm(this.An),orderedDocumentKey:Gm(t),documentKey:r.path.toArray()}}mn(e,t,r){const i=this.Vn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function ga(n,e){let t=n.In-e.In;return t!==0?t:(t=M1(n.dn,e.dn),t!==0?t:(t=M1(n.An,e.An),t!==0?t:ve.comparator(n.En,e.En)))}function M1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Gm(n){return bx()?function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r}(n):n}function V1(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(n)}class L1{constructor(e){this.fn=new lt((t,r)=>Rt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const t of e.filters){const r=t;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const t=X0(e);if(t!==void 0&&!this.Sn(t))return!1;const r=Fo(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.Sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.fn.size>0){const h=this.fn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const f=r[o];if(!this.bn(h,f)||!this.Dn(this.gn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.gn.length||!this.Dn(this.gn[u++],h))return!1}return!0}vn(){if(this.yn)return null;let e=new lt(Rt.comparator);const t=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Um(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Um(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Um(r.field,r.dir==="asc"?0:1)));return new hg(hg.UNKNOWN_ID,this.collectionId,t,$d.empty())}Sn(e){for(const t of this.pn)if(this.bn(t,e))return!0;return!1}bn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}Dn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){var e,t;if(Ae(n instanceof Ge||n instanceof ot,20012),n instanceof Ge){if(n instanceof _D){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Ge.create(n.field,"==",o)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>JD(i));return ot.create(r,n.op)}function Fq(n){if(n.getFilters().length===0)return[];const e=pE(JD(n));return Ae(ZD(e),7391),dE(e)||fE(e)?[e]:e.getFilters()}function dE(n){return n instanceof Ge}function fE(n){return n instanceof ot&&kb(n)}function ZD(n){return dE(n)||fE(n)||function(t){if(t instanceof ot&&iE(t)){for(const r of t.getFilters())if(!dE(r)&&!fE(r))return!1;return!0}return!1}(n)}function pE(n){if(Ae(n instanceof Ge||n instanceof ot,34018),n instanceof Ge)return n;if(n.filters.length===1)return pE(n.filters[0]);const e=n.filters.map(r=>pE(r));let t=ot.create(e,n.op);return t=Eg(t),ZD(t)?t:(Ae(t instanceof ot,64498),Ae(rc(t),40251),Ae(t.filters.length>1,57927),t.filters.reduce((r,i)=>$b(r,i)))}function $b(n,e){let t;return Ae(n instanceof Ge||n instanceof ot,38388),Ae(e instanceof Ge||e instanceof ot,25473),t=n instanceof Ge?e instanceof Ge?function(i,o){return ot.create([i,o],"and")}(n,e):U1(n,e):e instanceof Ge?U1(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0,48005),rc(i)&&rc(o))return mD(i,o.getFilters());const u=iE(i)?i:o,h=iE(i)?o:i,f=u.filters.map(d=>$b(d,h));return ot.create(f,"or")}(n,e),Eg(t)}function U1(n,e){if(rc(e))return mD(e,n.getFilters());{const t=e.filters.map(r=>$b(n,r));return ot.create(t,"or")}}function Eg(n){if(Ae(n instanceof Ge||n instanceof ot,11850),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return Eg(e[0]);if(fD(n))return n;const t=e.map(i=>Eg(i)),r=[];return t.forEach(i=>{i instanceof Ge?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(){this.Cn=new Gb}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Ar.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Gb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="IndexedDbIndexManager",Em=new Uint8Array(0);class jq{constructor(e,t){this.databaseId=t,this.Fn=new Gb,this.Mn=new Us(r=>ll(r),(r,i)=>Pf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Fn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Fn.add(t)});const o={collectionId:r,parent:Fn(i)};return F1(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[BO(t),""],!1,!0);return F1(e).J(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Mi(u.parent))}return r})}addFieldIndex(e,t){const r=nd(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Iu(e);return o.next(h=>{u.put(O1(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=nd(e),i=Iu(e),o=Au(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=nd(e),r=Au(e),i=Iu(e);return t.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,t){return X.forEach(this.xn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new L1(r).vn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Au(e);let i=!0;const o=new Map;return X.forEach(this.xn(t),u=>this.On(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Ve();const h=[];return X.forEach(o,(f,d)=>{pe(B1,`Using index ${function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(q=>`${q.fieldPath}:${q.kind}`).join(",")}`}(f)} to execute ${ll(t)}`);const g=function(V,q){const B=X0(q);if(B===void 0)return null;for(const G of yg(V,B.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null}(d,f),_=function(V,q){const B=new Map;for(const G of Fo(q))for(const M of yg(V,G.fieldPath))switch(M.op){case"==":case"in":B.set(G.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return B.set(G.fieldPath.canonicalString(),M.value),Array.from(B.values())}return null}(d,f),v=function(V,q){const B=[];let G=!0;for(const M of Fo(q)){const R=M.kind===0?y1(V,M.fieldPath,V.startAt):_1(V,M.fieldPath,V.startAt);B.push(R.value),G&&(G=R.inclusive)}return new qa(B,G)}(d,f),T=function(V,q){const B=[];let G=!0;for(const M of Fo(q)){const R=M.kind===0?_1(V,M.fieldPath,V.endAt):y1(V,M.fieldPath,V.endAt);B.push(R.value),G&&(G=R.inclusive)}return new qa(B,G)}(d,f),w=this.Nn(f,d,v),I=this.Nn(f,d,T),D=this.Bn(f,d,_),U=this.Ln(f.indexId,g,w,v.inclusive,I,T.inclusive,D);return X.forEach(U,L=>r.Z(L,t.limit).next(V=>{V.forEach(q=>{const B=ve.fromSegments(q.documentKey);u.has(B)||(u=u.add(B),h.push(B))})}))}).next(()=>h)}return X.resolve(null)})}xn(e){let t=this.Mn.get(e);return t||(e.filters.length===0?t=[e]:t=Fq(ot.create(e.filters,"and")).map(r=>aE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,t),t)}Ln(e,t,r,i,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let _=0;_<f;++_){const v=t?this.kn(t[_/d]):Em,T=this.qn(e,v,r[_%d],i),w=this.Qn(e,v,o[_%d],u),I=h.map(D=>this.qn(e,v,D,!0));g.push(...this.createRange(T,w,I))}return g}qn(e,t,r,i){const o=new $o(e,ve.empty(),t,r);return i?o:o.Rn()}Qn(e,t,r,i){const o=new $o(e,ve.empty(),t,r);return i?o.Rn():o}On(e,t){const r=new L1(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.wn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.xn(t);return X.forEach(i,o=>this.On(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let d=new lt(Rt.comparator),g=!1;for(const _ of f.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:d=d.add(v.field));for(const _ of f.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}$n(e,t){const r=new td;for(const i of Fo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.Tn(i.kind);Ho.Wt.vt(o,u)}return r.cn()}kn(e){const t=new td;return Ho.Wt.vt(e,t.Tn(0)),t.cn()}Un(e,t){const r=new td;return Ho.Wt.vt(ol(this.databaseId,t),r.Tn(function(o){const u=Fo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.cn()}Bn(e,t,r){if(r===null)return[];let i=[];i.push(new td);let o=0;for(const u of Fo(e)){const h=r[o++];for(const f of i)if(this.Kn(t,u.fieldPath)&&Jd(h))i=this.Wn(i,u,h);else{const d=f.Tn(u.kind);Ho.Wt.vt(h,d)}}return this.Gn(i)}Nn(e,t,r){return this.Bn(e,t,r.position)}Gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}Wn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const f=new td;f.seed(h.cn()),Ho.Wt.vt(u,f.Tn(t.kind)),o.push(f)}return o}Kn(e,t){return!!e.filters.find(r=>r instanceof Ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=nd(e),i=Iu(e);return(t?r.J(Z0,IDBKeyRange.bound(t,t)):r.J()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(f=>{u.push(function(g,_){const v=_?new $d(_.sequenceNumber,new Ar(dl(_.readTime),new ve(Mi(_.documentKey)),_.largestBatchId)):$d.empty(),T=g.fields.map(([w,I])=>new Um(Rt.fromServerFormat(w),I));return new hg(g.indexId,g.collectionGroup,T,v)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=nd(e),o=Iu(e);return this.zn(e).next(u=>i.J(Z0,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,f=>o.put(O1(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,f=>this.jn(e,i,f).next(d=>{const g=this.Hn(o,f);return d.isEqual(g)?X.resolve():this.Jn(e,o,f,d,g)}))))})}Yn(e,t,r,i){return Au(e).put(i.Vn(this.uid,this.Un(r,t.key),t.key))}Zn(e,t,r,i){return Au(e).delete(i.mn(this.uid,this.Un(r,t.key),t.key))}jn(e,t,r){const i=Au(e);let o=new lt(ga);return i.te({index:YO,range:IDBKeyRange.only([r.indexId,this.uid,Gm(this.Un(r,t))])},(u,h)=>{o=o.add(new $o(r.indexId,t,V1(h.arrayValue),V1(h.directionalValue)))}).next(()=>o)}Hn(e,t){let r=new lt(ga);const i=this.$n(t,e);if(i==null)return r;const o=X0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(Jd(u))for(const h of u.arrayValue.values||[])r=r.add(new $o(t.indexId,e.key,this.kn(h),i))}else r=r.add(new $o(t.indexId,e.key,Em,i));return r}Jn(e,t,r,i,o){pe(B1,"Updating index entries for document '%s'",t.key);const u=[];return function(f,d,g,_,v){const T=f.getIterator(),w=d.getIterator();let I=Tu(T),D=Tu(w);for(;I||D;){let U=!1,L=!1;if(I&&D){const V=g(I,D);V<0?L=!0:V>0&&(U=!0)}else I!=null?L=!0:U=!0;U?(_(D),D=Tu(w)):L?(v(I),I=Tu(T)):(I=Tu(T),D=Tu(w))}}(i,o,ga,h=>{u.push(this.Yn(e,t,r,h))},h=>{u.push(this.Zn(e,t,r,h))}),X.waitFor(u)}zn(e){let t=1;return Iu(e).te({index:QO,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>ga(u,h)).filter((u,h,f)=>!h||ga(u,f[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=ga(u,e),f=ga(u,t);if(h===0)i[0]=e.Rn();else if(h>0&&f<0)i.push(u),i.push(u.Rn());else if(f>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Xn(i[u],i[u+1]))return[];const h=i[u].mn(this.uid,Em,ve.empty()),f=i[u+1].mn(this.uid,Em,ve.empty());o.push(IDBKeyRange.bound(h,f))}return o}Xn(e,t){return ga(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(z1)}getMinOffset(e,t){return X.mapArray(this.xn(t),r=>this.On(e,r).next(i=>i||be(44426))).next(z1)}}function F1(n){return pn(n,Qd)}function Au(n){return pn(n,Id)}function nd(n){return pn(n,Pb)}function Iu(n){return pn(n,Ad)}function z1(n){Ae(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Ib(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ar(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e2=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n,e,t){const r=n.store(ti),i=n.store(Xu),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.te({range:u},(g,_,v)=>(h++,v.delete()));o.push(f.next(()=>{Ae(h===1,47070,{batchId:t.batchId})}));const d=[];for(const g of t.mutations){const _=GO(e,g.key.path,t.batchId);o.push(i.delete(_)),d.push(g.key)}return X.waitFor(o).next(()=>d)}function bg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw be(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(e2,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);class Ty{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.er={}}static St(e,t,r,i){Ae(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Ty(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ya(e).te({index:Qo,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Du(e),u=ya(e);return u.add({}).next(h=>{Ae(typeof h=="number",49019);const f=new Bb(h,t,r,i),d=function(T,w,I){const D=I.baseMutations.map(L=>tf(T.wt,L)),U=I.mutations.map(L=>tf(T.wt,L));return{userId:w,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:D,mutations:U}}(this.serializer,this.userId,f),g=[];let _=new lt((v,T)=>De(v.canonicalString(),T.canonicalString()));for(const v of i){const T=GO(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(d)),g.push(o.put(T,w8))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.er[h]=f.keys()}),X.waitFor(g).next(()=>f)})}lookupMutationBatch(e,t){return ya(e).get(t).next(r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),qo(this.serializer,r)):null)}tr(e,t){return this.er[t]?X.resolve(this.er[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.er[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ya(e).te({index:Qo,range:i},(u,h,f)=>{h.userId===this.userId&&(Ae(h.batchId>=r,47524,{nr:r}),o=qo(this.serializer,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Oa;return ya(e).te({index:Qo,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Oa],[this.userId,Number.POSITIVE_INFINITY]);return ya(e).J(Qo,t).next(r=>r.map(i=>qo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Bm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Du(e).te({range:i},(u,h,f)=>{const[d,g,_]=u,v=Mi(g);if(d===this.userId&&t.path.isEqual(v))return ya(e).get(_).next(T=>{if(!T)throw be(61480,{rr:u,batchId:_});Ae(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(qo(this.serializer,T))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(De);const i=[];return t.forEach(o=>{const u=Bm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=Du(e).te({range:h},(d,g,_)=>{const[v,T,w]=d,I=Mi(T);v===this.userId&&o.path.isEqual(I)?r=r.add(w):_.done()});i.push(f)}),X.waitFor(i).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Bm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new lt(De);return Du(e).te({range:u},(f,d,g)=>{const[_,v,T]=f,w=Mi(v);_===this.userId&&r.isPrefixOf(w)?w.length===i&&(h=h.add(T)):g.done()}).next(()=>this.ir(e,h))}ir(e,t){const r=[],i=[];return t.forEach(o=>{i.push(ya(e).get(o).next(u=>{if(u===null)throw be(35274,{batchId:o});Ae(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(qo(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return t2(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.sr(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Du(e).te({range:r},(o,u,h)=>{if(o[0]===this.userId){const f=Mi(o[1]);i.push(f)}else h.done()}).next(()=>{Ae(i.length===0,56720,{_r:i.map(o=>o.canonicalString())})})})}containsKey(e,t){return n2(e,this.userId,t)}ar(e){return r2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Oa,lastStreamToken:""})}}function n2(n,e,t){const r=Bm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Du(n).te({range:o,ee:!0},(h,f,d)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),d.done()}).next(()=>u)}function ya(n){return pn(n,ti)}function Du(n){return pn(n,Xu)}function r2(n){return pn(n,Kd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fl(0)}static lr(){return new fl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.hr(e).next(t=>{const r=new fl(t.highestTargetId);return t.highestTargetId=r.next(),this.Pr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(t=>Ie.fromTimestamp(new Pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.hr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pr(e,i)))}addTargetData(e,t){return this.Tr(e,t).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(t,r),this.Pr(e,r))))}updateTargetData(e,t){return this.Tr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ru(e).delete(t.targetId)).next(()=>this.hr(e)).next(r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Ru(e).te((u,h)=>{const f=md(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(i++,o.push(this.removeTargetData(e,f)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Ru(e).te((r,i)=>{const o=md(i);t(o)})}hr(e){return q1(e).get(pg).next(t=>(Ae(t!==null,2888),t))}Pr(e,t){return q1(e).put(pg,t)}Tr(e,t){return Ru(e).put(XD(this.serializer,t))}Ir(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ll(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Ru(e).te({range:i,index:WO},(u,h,f)=>{const d=md(h);Pf(t,d.target)&&(o=d,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=wa(e);return t.forEach(u=>{const h=Fn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=wa(e);return X.forEach(t,o=>{const u=Fn(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=wa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=wa(e);let o=Ve();return i.te({range:r,ee:!0},(u,h,f)=>{const d=Mi(u[1]),g=new ve(d);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Fn(t.path),i=IDBKeyRange.bound([r],[BO(r)],!1,!0);let o=0;return wa(e).te({index:Cb,ee:!0,range:i},([u,h],f,d)=>{u!==0&&(o++,d.done())}).next(()=>o>0)}Rt(e,t){return Ru(e).get(t).next(r=>r?md(r):null)}}function Ru(n){return pn(n,Ju)}function q1(n){return pn(n,nl)}function wa(n){return pn(n,Zu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="LruGarbageCollector",Hq=1048576;function $1([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class $q{constructor(e){this.Er=e,this.buffer=new lt($1),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class i2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(H1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ja(t)?pe(H1,"Ignoring IndexedDB error during garbage collection: ",t):await Xa(t)}await this.mr(3e5)})}}class Gq{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(rr.le);const r=new $q(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(j1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(d=Date.now(),Cu()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function s2(n,e){return new Gq(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,t){this.db=e,this.garbageCollector=s2(this,t)}pr(e){const t=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}yr(e,t){return this.br(e,(r,i)=>t(i))}addReference(e,t,r){return bm(e,r)}removeReference(e,t,r){return bm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return bm(e,t)}Dr(e,t){return function(i,o){let u=!1;return r2(i).ne(h=>n2(i,h,o).next(f=>(f&&(u=!0),X.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.br(e,(u,h)=>{if(h<=t){const f=this.Dr(e,u).next(d=>{if(!d)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ie.min()),wa(e).delete(function(_){return[0,Fn(_.path)]}(u))))});i.push(f)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return bm(e,t)}br(e,t){const r=wa(e);let i,o=rr.le;return r.te({index:Cb},([u,h],{path:f,sequenceNumber:d})=>{u===0?(o!==rr.le&&t(new ve(Mi(i)),o),o=d,i=f):o=rr.le}).next(()=>{o!==rr.le&&t(new ve(Mi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bm(n,e){return wa(n).put(function(r,i){return{targetId:0,path:Fn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.changes=new Us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Uo(e).put(r)}removeEntry(e,t,r){return Uo(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],vg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.vr(e,r)))}getEntry(e,t){let r=Et.newInvalidDocument(t);return Uo(e).te({index:Fm,range:IDBKeyRange.only(rd(t))},(i,o)=>{r=this.Cr(t,o)}).next(()=>r)}Fr(e,t){let r={size:0,document:Et.newInvalidDocument(t)};return Uo(e).te({index:Fm,range:IDBKeyRange.only(rd(t))},(i,o)=>{r={document:this.Cr(t,o),size:bg(o)}}).next(()=>r)}getEntries(e,t){let r=sr();return this.Mr(e,t,(i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u)}).next(()=>r)}Or(e,t){let r=sr(),i=new vt(ve.comparator);return this.Mr(e,t,(o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),i=i.insert(o,bg(u))}).next(()=>({documents:r,Nr:i}))}Mr(e,t,r){if(t.isEmpty())return X.resolve();let i=new lt(W1);t.forEach(f=>i=i.add(f));const o=IDBKeyRange.bound(rd(i.first()),rd(i.last())),u=i.getIterator();let h=u.getNext();return Uo(e).te({index:Fm,range:o},(f,d,g)=>{const _=ve.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;h&&W1(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,d),h=u.hasNext()?u.getNext():null),h?g.H(rd(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),vg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uo(e).J(IDBKeyRange.bound(h,f,!0)).next(d=>{o==null||o.incrementDocumentReadCount(d.length);let g=sr();for(const _ of d){const v=this.Cr(ve.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Of(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=sr();const u=K1(t,r),h=K1(t,Ar.max());return Uo(e).te({index:KO,range:IDBKeyRange.bound(u,h,!0)},(f,d,g)=>{const _=this.Cr(ve.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new Qq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return G1(e).get(J0).next(t=>(Ae(!!t,20021),t))}vr(e,t){return G1(e).put(J0,t)}Cr(e,t){if(t){const r=Nq(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return Et.newInvalidDocument(e)}}function o2(n){return new Wq(n)}class Qq extends a2{constructor(e,t){super(),this.Br=e,this.trackRemovals=t,this.Lr=new Us(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((o,u)=>De(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Lr.get(o);if(t.push(this.Br.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=P1(this.Br.serializer,u);i=i.add(o.path.popLast());const d=bg(f);r+=d-h.size,t.push(this.Br.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=P1(this.Br.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Br.addEntry(e,o,f))}}),i.forEach(o=>{t.push(this.Br.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Br.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Br.Fr(e,t).next(r=>(this.Lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Br.Or(e,t).next(({documents:r,Nr:i})=>(i.forEach((o,u)=>{this.Lr.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function G1(n){return pn(n,Wd)}function Uo(n){return pn(n,fg)}function rd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function K1(n,e){const t=e.documentKey.path.toArray();return[n,vg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function W1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pd(r.mutation,i,ir.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Vi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=fd();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Vi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=sr();const u=Cd(),h=function(){return Cd()}();return t.forEach((f,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Bs)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Pd(g.mutation,d,g.mutation.getFieldMask(),Pt.now())):u.set(d.key,ir.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,g)=>u.set(d,g)),t.forEach((d,g)=>{var _;return h.set(d,new Yq(g,(_=u.get(d))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Cd();let i=new vt((u,h)=>u-h),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||ir.empty();g=h.applyToLocalView(d,g),r.set(f,g);const _=(i.get(h.batchId)||Ve()).add(f);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,_=AD();g.forEach(v=>{if(!o.has(v)){const T=DD(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(Vi());let h=Yu,f=o;return u.next(d=>X.forEach(d,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{f=f.insert(g,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Ve())).next(g=>({batchId:h,changes:SD(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=fd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=fd();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,f=>{const d=function(_,v){return new Ls(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Et.newInvalidDocument(g)))});let h=fd();return u.forEach((f,d)=>{const g=o.get(f);g!==void 0&&Pd(g.mutation,d,ir.empty(),Pt.now()),Of(t,d)&&(h=h.insert(f,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:Hb(i.bundledQuery),readTime:Qt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(){this.overlays=new vt(ve.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=Vi(),o=t.length+1,u=new ve(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new vt((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=Vi(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Vi(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=i)););return X.resolve(h)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new zb(t,r));let o=this.Qr.get(t);o===void 0&&(o=Ve(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.$r=new lt(En.Ur),this.Kr=new lt(En.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new En(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new En(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new ve(new $e([])),r=new En(t,e),i=new En(t,e+1),o=[];return this.Kr.forEachInRange([r,i],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new $e([])),r=new En(t,e),i=new En(t,e+1);let o=Ve();return this.Kr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new En(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||De(e.Zr,t.Zr)}static Wr(e,t){return De(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new lt(En.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Bb(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Xr=this.Xr.add(new En(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Oa:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),i=new En(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],u=>{const h=this.ei(u.Zr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(De);return t.forEach(i=>{const o=new En(i,0),u=new En(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],h=>{r=r.add(h.Zr)})}),X.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const u=new En(new ve(o),0);let h=new lt(De);return this.Xr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(h=h.add(f.Zr)),!0)},u),X.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return X.forEach(t.mutations,i=>{const o=new En(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new En(t,0),i=this.Xr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.ii=e,this.docs=function(){return new vt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(t))}getEntries(e,t){let r=sr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Et.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=sr();const u=t.path,h=new ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||Ib(zO(g),r)<=0||(i.has(g.key)||Of(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){be(9500)}si(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new n7(this)}getSize(e){return X.resolve(this.size)}}class n7 extends a2{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.persistence=e,this.oi=new Us(t=>ll(t),Pf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Kb,this.targetCount=0,this.ui=fl.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new fl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t){this.ci={},this.overlays={},this.li=new rr(0),this.hi=!1,this.hi=!0,this.Pi=new Zq,this.referenceDelegate=e(this),this.Ti=new r7(this),this.indexManager=new zq,this.remoteDocumentCache=function(i){return new t7(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new YD(t),this.Ei=new Xq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new e7(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new i7(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return X.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class i7 extends qO{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.Vi=new Kb,this.mi=null}static fi(e){return new Sy(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,r=>{const i=ve.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class wg{constructor(e,t){this.persistence=e,this.yi=new Us(r=>Fn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=s2(this,t)}static fi(e,t){return new wg(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,u=>this.Dr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jm(e.data.value)),t}Dr(e,t,r){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e){this.serializer=e}q(e,t,r,i){const o=new fy("createOrUpgrade",t);r<1&&i>=1&&(function(f){f.createObjectStore(Cf)}(e),function(f){f.createObjectStore(Kd,{keyPath:b8}),f.createObjectStore(ti,{keyPath:s1,autoIncrement:!0}).createIndex(Qo,a1,{unique:!0}),f.createObjectStore(Xu)}(e),Q1(e),function(f){f.createObjectStore(zo)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(f){f.deleteObjectStore(Zu),f.deleteObjectStore(Ju),f.deleteObjectStore(nl)}(e),Q1(e)),u=u.next(()=>function(f){const d=f.store(nl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return d.put(pg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(f,d){return d.store(ti).J().next(_=>{f.deleteObjectStore(ti),f.createObjectStore(ti,{keyPath:s1,autoIncrement:!0}).createIndex(Qo,a1,{unique:!0});const v=d.store(ti),T=_.map(w=>v.put(w));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(ec,{keyPath:x8})})(e)})),r<5&&i>=5&&(u=u.next(()=>this.wi(o))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore(Wd)}(e),this.Si(o)))),r<7&&i>=7&&(u=u.next(()=>this.bi(o))),r<8&&i>=8&&(u=u.next(()=>this.Di(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.Ci(o))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(py,{keyPath:O8})})(e),function(f){f.createObjectStore(my,{keyPath:D8})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(f){const d=f.createObjectStore(gy,{keyPath:B8});d.createIndex(eE,F8,{unique:!1}),d.createIndex(XO,z8,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const d=f.createObjectStore(fg,{keyPath:T8});d.createIndex(Fm,S8),d.createIndex(KO,A8)}(e)).next(()=>this.Fi(e,o)).next(()=>e.deleteObjectStore(zo))),r<14&&i>=14&&(u=u.next(()=>this.Mi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore(Pb,{keyPath:N8,autoIncrement:!0}).createIndex(Z0,k8,{unique:!1}),f.createObjectStore(Ad,{keyPath:M8}).createIndex(QO,V8,{unique:!1}),f.createObjectStore(Id,{keyPath:L8}).createIndex(YO,U8,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(Ad).clear()}).next(()=>{t.objectStore(Id).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(xb,{keyPath:j8})})(e)})),r<18&&i>=18&&bx()&&(u=u.next(()=>{t.objectStore(Ad).clear()}).next(()=>{t.objectStore(Id).clear()})),u}Si(e){let t=0;return e.store(zo).te((r,i)=>{t+=bg(i)}).next(()=>{const r={byteSize:t};return e.store(Wd).put(J0,r)})}wi(e){const t=e.store(Kd),r=e.store(ti);return t.J().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,Oa],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Qo,u).next(h=>X.forEach(h,f=>{Ae(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=qo(this.serializer,f);return t2(e,o.userId,d).next(()=>{})}))}))}bi(e){const t=e.store(Zu),r=e.store(zo);return e.store(nl).get(pg).next(i=>{const o=[];return r.te((u,h)=>{const f=new $e(u),d=function(_){return[0,Fn(_)]}(f);o.push(t.get(d).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:Fn(_),sequenceNumber:i.highestListenSequenceNumber}))(f)))}).next(()=>X.waitFor(o))})}Di(e,t){e.createObjectStore(Qd,{keyPath:P8});const r=t.store(Qd),i=new Gb,o=u=>{if(i.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Fn(f)})}};return t.store(zo).te({ee:!0},(u,h)=>{const f=new $e(u);return o(f.popLast())}).next(()=>t.store(Xu).te({ee:!0},([u,h,f],d)=>{const g=Mi(h);return o(g.popLast())}))}Ci(e){const t=e.store(Ju);return t.te((r,i)=>{const o=md(i),u=XD(this.serializer,o);return t.put(u)})}Fi(e,t){const r=t.store(zo),i=[];return r.te((o,u)=>{const h=t.store(fg),f=function(_){return _.document?new ve($e.fromString(_.document.name).popFirst(5)):_.noDocument?ve.fromSegments(_.noDocument.path):_.unknownDocument?ve.fromSegments(_.unknownDocument.path):be(36783)}(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(d))}).next(()=>X.waitFor(i))}Mi(e,t){const r=t.store(ti),i=o2(this.serializer),o=new Wb(Sy.fi,this.serializer.wt);return r.J().next(u=>{const h=new Map;return u.forEach(f=>{var d;let g=(d=h.get(f.userId))!==null&&d!==void 0?d:Ve();qo(this.serializer,f).keys().forEach(_=>g=g.add(_)),h.set(f.userId,g)}),X.forEach(h,(f,d)=>{const g=new bn(d),_=wy.St(this.serializer,g),v=o.getIndexManager(g),T=Ty.St(g,this.serializer,v,o.referenceDelegate);return new l2(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new tE(t,rr.le),f).next()})})}}function Q1(n){n.createObjectStore(Zu,{keyPath:R8}).createIndex(Cb,C8,{unique:!0}),n.createObjectStore(Ju,{keyPath:"targetId"}).createIndex(WO,I8,{unique:!0}),n.createObjectStore(nl)}const _a="IndexedDbPersistence",_0=18e5,v0=5e3,E0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",u2="main";class Qb{constructor(e,t,r,i,o,u,h,f,d,g,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.xi=o,this.window=u,this.document=h,this.Oi=d,this.Ni=g,this.Bi=_,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=v=>Promise.resolve(),!Qb.C())throw new fe(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kq(this,i),this.Ui=t+u2,this.serializer=new YD(f),this.Ki=new Ui(this.Ui,this.Bi,new s7(this.serializer)),this.Pi=new Mq,this.Ti=new qq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=o2(this.serializer),this.Ei=new kq,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,g===!1&&Wt(_a,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(re.FAILED_PRECONDITION,E0);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new rr(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(t=>{t||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(t=>this.isPrimary&&!t?this.Xi(e).next(()=>!1):!!t&&this.es(e).next(()=>!0))).catch(e=>{if(Ja(e))return pe(_a,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(_a,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return id(e).get(wu).next(t=>X.resolve(this.ts(t)))}ns(e){return wm(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,_0)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=pn(t,ec);return r.J().next(i=>{const o=this._s(i,_0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.Wi)for(const t of e)this.Wi.removeItem(this.us(t.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?X.resolve(!0):id(e).get(wu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,v0)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new fe(re.FAILED_PRECONDITION,E0);return!1}}return!(!this.networkEnabled||!this.inForeground)||wm(e).J().next(r=>this._s(r,v0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(_a,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Cf,ec],e=>{const t=new tE(e,rr.le);return this.Xi(t).next(()=>this.ns(t))}),this.Ki.close(),this.Ts()}_s(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>wm(e).J().next(t=>this._s(t,_0).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,t){return Ty.St(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jq(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return wy.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe(_a,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(f){return f===18?$8:f===17?tD:f===16?H8:f===15?Ob:f===14?eD:f===13?ZO:f===12?q8:f===11?JO:void be(60245)}(this.Bi);let u;return this.Ki.runTransaction(e,i,o,h=>(u=new tE(h,this.li?this.li.next():rr.le),t==="readwrite-primary"?this.Yi(u).next(f=>!!f||this.Zi(u)).next(f=>{if(!f)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new fe(re.FAILED_PRECONDITION,jO);return r(u)}).next(f=>this.es(u).next(()=>f)):this.Es(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Es(e){return id(e).get(wu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,v0)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Ni||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fe(re.FAILED_PRECONDITION,E0)})}es(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return id(e).put(wu,t)}static C(){return Ui.C()}Xi(e){const t=id(e);return t.get(wu).next(r=>this.ts(r)?(pe(_a,"Releasing primary lease."),t.delete(wu)):X.resolve())}ss(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const t=/(?:Version|Mobile)\/1[456]/;Ex()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var t;try{const r=((t=this.Wi)===null||t===void 0?void 0:t.getItem(this.us(e)))!==null;return pe(_a,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wt(_a,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function id(n){return pn(n,Cf)}function wm(n){return pn(n,ec)}function Yb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Xb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Ex()?8:HO(kt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new a7;return this.bs(e,t,u).next(h=>{if(o.result=h,this.fs)return this.Ds(e,t,u,h.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Cu()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Pu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(Cu()<=He.DEBUG&&pe("QueryEngine","Query:",Pu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Cu()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Pu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(t))):X.resolve())}ws(e,t){if(v1(t))return X.resolve(null);let r=Qn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=_g(t,null,"F"),r=Qn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.vs(t,h);return this.Cs(t,d,u,f.readTime)?this.ws(e,_g(t,null,"F")):this.Fs(e,d,t,f)}))})))}Ss(e,t,r,i){return v1(t)||i.isEqual(Ie.min())?X.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,i)?X.resolve(null):(Cu()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pu(t)),this.Fs(e,u,t,FO(i,Yu)).next(h=>h))})}vs(e,t){let r=new lt(wD(e));return t.forEach((i,o)=>{Of(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return Cu()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Pu(t)),this.ys.getDocumentsMatchingQuery(e,t,Ar.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="LocalStore",o7=3e8;class l7{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new vt(De),this.Os=new Us(o=>ll(o),Pf),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function h2(n,e,t,r){return new l7(n,e,t,r)}async function d2(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=Ve();for(const d of i){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:h}))})})}function u7(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,d,g){const _=d.batch,v=_.keys();let T=X.resolve();return v.forEach(w=>{T=T.next(()=>g.getEntry(f,w)).next(I=>{const D=d.docVersions.get(w);Ae(D!==null,48541),I.version.compareTo(D)<0&&(_.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),g.addEntry(I)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ve();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function f2(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function c7(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Ti.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Ft.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(I,D,U){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=o7?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(v,T,g)&&h.push(t.Ti.updateTargetData(o,T))});let f=sr(),d=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(p2(o,u,e.documentUpdates).next(g=>{f=g.qs,d=g.Qs})),!r.isEqual(Ie.min())){const g=t.Ti.getLastRemoteSnapshotVersion(o).next(_=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(t.xs=i,o))}function p2(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=sr();return t.forEach((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):pe(Jb,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)}),{qs:u,Qs:i}})}function h7(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Oa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Ti.allocateTargetId(r).next(u=>(i=new Ts(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function lc(n,e,t){const r=Ee(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Ja(u))throw u;pe(Jb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Tg(n,e,t){const r=Ee(n);let i=Ie.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const _=Ee(f),v=_.Os.get(g);return v!==void 0?X.resolve(_.xs.get(v)):_.Ti.getTargetData(d,g)}(r,u,Qn(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?i:Ie.min(),t?o:Ve())).next(h=>(y2(r,bD(e),h),{documents:h,$s:o})))}function m2(n,e){const t=Ee(n),r=Ee(t.Ti),i=t.xs.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Rt(o,e).next(u=>u?u.target:null))}function g2(n,e){const t=Ee(n),r=t.Ns.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Bs.getAllFromCollectionGroup(i,e,FO(r,Yu),Number.MAX_SAFE_INTEGER)).then(i=>(y2(t,e,i),i))}function y2(n,e,t){let r=n.Ns.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}async function d7(n,e,t,r){const i=Ee(n);let o=Ve(),u=sr();for(const d of t){const g=e.Us(d.metadata.name);d.document&&(o=o.add(g));const _=e.Ks(d);_.setReadTime(e.Ws(d.metadata.readTime)),u=u.insert(g,_)}const h=i.Bs.newChangeBuffer({trackRemovals:!0}),f=await oc(i,function(g){return Qn(Sc($e.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>p2(d,h,u).next(g=>(h.apply(d),g)).next(g=>i.Ti.removeMatchingKeysForTargetId(d,f.targetId).next(()=>i.Ti.addMatchingKeys(d,o,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,g.qs,g.Qs)).next(()=>g.qs)))}async function f7(n,e,t=Ve()){const r=await oc(n,Qn(Hb(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Qt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ei.saveNamedQuery(o,e);const h=r.withResumeToken(Ft.EMPTY_BYTE_STRING,u);return i.xs=i.xs.insert(h.targetId,h),i.Ti.updateTargetData(o,h).next(()=>i.Ti.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ti.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ei.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firestore_clients";function Y1(n,e){return`${_2}_${n}_${e}`}const v2="firestore_mutations";function X1(n,e,t){let r=`${v2}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const E2="firestore_targets";function b0(n,e){return`${E2}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="SharedClientState";class Sg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Gs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new fe(i.error.code,i.error.message))),u?new Sg(e,t,i.state,o):(Wt(Pi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Gs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new fe(r.error.code,r.error.message))),o?new xd(e,r.state,i):(Wt(Pi,`Failed to parse target state for ID '${e}': ${t}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ag{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Gs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Vb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=$O(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Ag(e,o):(Wt(Pi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Zb{constructor(e,t){this.clientId=e,this.onlineState=t}static Gs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Zb(t.clientId,t.onlineState):(Wt(Pi,`Failed to parse online state: ${e}`),null)}}class mE{constructor(){this.activeTargetIds=Vb()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w0{constructor(e,t,r,i,o){this.window=e,this.xi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ys=this.Zs.bind(this),this.Xs=new vt(De),this.started=!1,this.eo=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.no=Y1(this.persistenceKey,this.Js),this.ro=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.Xs=this.Xs.insert(this.Js,new mE),this.io=new RegExp(`^${_2}_${u}_([^_]*)$`),this.so=new RegExp(`^${v2}_${u}_(\\d+)(?:_(.*))?$`),this.oo=new RegExp(`^${E2}_${u}_(\\d+)$`),this._o=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.ao=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ys)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Is();for(const r of e){if(r===this.Js)continue;const i=this.getItem(Y1(this.persistenceKey,r));if(i){const o=Ag.Gs(r,i);o&&(this.Xs=this.Xs.insert(o.clientId,o))}}this.uo();const t=this.storage.getItem(this._o);if(t){const r=this.co(t);r&&this.lo(r)}for(const r of this.eo)this.Zs(r);this.eo=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ro,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ho(this.Xs)}isActiveQueryTarget(e){let t=!1;return this.Xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Po(e,"pending")}updateMutationState(e,t,r){this.Po(e,t,r),this.To(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(b0(this.persistenceKey,e));if(i){const o=xd.Gs(e,i);o&&(r=o.state)}}return t&&this.Io.js(e),this.uo(),r}removeLocalQueryTarget(e){this.Io.Hs(e),this.uo()}isLocalQueryTarget(e){return this.Io.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(b0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Eo(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.To(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ao(e)}notifyBundleLoaded(e){this.Ro(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ys),this.removeItem(this.no),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Pi,"READ",e,t),t}setItem(e,t){pe(Pi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Pi,"REMOVE",e),this.storage.removeItem(e)}Zs(e){const t=e;if(t.storageArea===this.storage){if(pe(Pi,"EVENT",t.key,t.newValue),t.key===this.no)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.xi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.io.test(t.key)){if(t.newValue==null){const r=this.Vo(t.key);return this.mo(r,null)}{const r=this.fo(t.key,t.newValue);if(r)return this.mo(r.clientId,r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.po(t.key,t.newValue);if(r)return this.yo(r)}}else if(this.oo.test(t.key)){if(t.newValue!==null){const r=this.wo(t.key,t.newValue);if(r)return this.So(r)}}else if(t.key===this._o){if(t.newValue!==null){const r=this.co(t.newValue);if(r)return this.lo(r)}}else if(t.key===this.ro){const r=function(o){let u=rr.le;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number",30636,{bo:o}),u=h}catch(h){Wt(Pi,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==rr.le&&this.sequenceNumberHandler(r)}else if(t.key===this.ao){const r=this.Do(t.newValue);await Promise.all(r.map(i=>this.syncEngine.vo(i)))}}}else this.eo.push(t)})}}get Io(){return this.Xs.get(this.Js)}uo(){this.setItem(this.no,this.Io.zs())}Po(e,t,r){const i=new Sg(this.currentUser,e,t,r),o=X1(this.persistenceKey,this.currentUser,e);this.setItem(o,i.zs())}To(e){const t=X1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ao(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this._o,JSON.stringify(t))}Eo(e,t,r){const i=b0(this.persistenceKey,e),o=new xd(e,t,r);this.setItem(i,o.zs())}Ro(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ao,t)}Vo(e){const t=this.io.exec(e);return t?t[1]:null}fo(e,t){const r=this.Vo(e);return Ag.Gs(r,t)}po(e,t){const r=this.so.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Sg.Gs(new bn(o),i,t)}wo(e,t){const r=this.oo.exec(e),i=Number(r[1]);return xd.Gs(i,t)}co(e){return Zb.Gs(e)}Do(e){return JSON.parse(e)}async yo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pe(Pi,`Ignoring mutation for non-active user ${e.user.uid}`)}So(e){return this.syncEngine.Fo(e.targetId,e.state,e.error)}mo(e,t){const r=t?this.Xs.insert(e,t):this.Xs.remove(e),i=this.ho(this.Xs),o=this.ho(r),u=[],h=[];return o.forEach(f=>{i.has(f)||u.push(f)}),i.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Mo(u,h).then(()=>{this.Xs=r})}lo(e){this.Xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ho(e){let t=Vb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class b2{constructor(){this.xo=new mE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new mE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="ConnectivityMonitor";class Z1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(J1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(J1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm=null;function gE(){return Tm===null?Tm=function(){return 268435456+Math.round(2147483648*Math.random())}():Tm++,"0x"+Tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="RestConnection",m7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g7{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===mg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){const u=gE(),h=this.jo(e,t.toUriEncodedString());pe(T0,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,o);const{host:d}=new URL(h),g=_f(d);return this.Jo(e,h,f,r,g).then(_=>(pe(T0,`Received RPC '${e}' ${u}: `,_),_),_=>{throw ji(T0,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Yo(e,t,r,i,o,u){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){const r=m7[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class _7 extends g7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const u=gE();return new Promise((h,f)=>{const d=new OO;d.setWithCredentials(!0),d.listenOnce(DO.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Lm.NO_ERROR:const _=d.getResponseJson();pe(Vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Lm.TIMEOUT:pe(Vn,`RPC '${e}' ${u} timed out`),f(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const v=d.getStatus();if(pe(Vn,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const w=T==null?void 0:T.error;if(w&&w.status&&w.message){const I=function(U){const L=U.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(L)>=0?L:re.UNKNOWN}(w.status);f(new fe(I,w.message))}else f(new fe(re.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new fe(re.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{pe(Vn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(i);pe(Vn,`RPC '${e}' ${u} sending request:`,i),d.send(t,"POST",g,r,15)})}T_(e,t,r){const i=gE(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=MO(),h=kO(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");pe(Vn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=u.createWebChannel(g,f);let v=!1,T=!1;const w=new y7({Zo:D=>{T?pe(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(v||(pe(Vn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(Vn,`RPC '${e}' stream ${i} sending:`,D),_.send(D))},Xo:()=>_.close()}),I=(D,U,L)=>{D.listen(U,V=>{try{L(V)}catch(q){setTimeout(()=>{throw q},0)}})};return I(_,dd.EventType.OPEN,()=>{T||(pe(Vn,`RPC '${e}' stream ${i} transport opened.`),w.__())}),I(_,dd.EventType.CLOSE,()=>{T||(T=!0,pe(Vn,`RPC '${e}' stream ${i} transport closed`),w.u_())}),I(_,dd.EventType.ERROR,D=>{T||(T=!0,ji(Vn,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),w.u_(new fe(re.UNAVAILABLE,"The operation could not be completed")))}),I(_,dd.EventType.MESSAGE,D=>{var U;if(!T){const L=D.data[0];Ae(!!L,16349);const V=L,q=(V==null?void 0:V.error)||((U=V[0])===null||U===void 0?void 0:U.error);if(q){pe(Vn,`RPC '${e}' stream ${i} received error:`,q);const B=q.status;let G=function(C){const b=sn[C];if(b!==void 0)return MD(b)}(B),M=q.message;G===void 0&&(G=re.INTERNAL,M="Unknown error status: "+B+" with message "+q.message),T=!0,w.u_(new fe(G,M)),_.close()}else pe(Vn,`RPC '${e}' stream ${i} received:`,L),w.c_(L)}}),I(h,NO.STAT_EVENT,D=>{D.stat===Q0.PROXY?pe(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Q0.NOPROXY&&pe(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return typeof window<"u"?window:null}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n){return new Tq(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="PersistentStream";class T2{constructor(e,t,r,i,o,u,h,f){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new ew(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new fe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return pe(eC,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(pe(eC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v7 extends T2{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=Iq(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Qt(u.readTime):Ie.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=cE(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=gg(f)?{documents:HD(o,f)}:{query:$D(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=UD(o,u.resumeToken);const d=lE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=ac(o,u.snapshotVersion.toTimestamp());const d=lE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,e);const r=Cq(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=cE(this.serializer),t.removeTarget=e,this.L_(t)}}class E7 extends T2{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=Rq(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=cE(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tf(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{}class w7 extends b7{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,uE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(re.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,uE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(re.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class T7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Wt(t),this.oa=!1):pe("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="RemoteStore";class S7{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{eo(this)&&(pe(pl,"Restarting streams for network reachability change."),await async function(f){const d=Ee(f);d.Ta.add(4),await Rc(d),d.da.set("Unknown"),d.Ta.delete(4),await Vf(d)}(this))})}),this.da=new T7(r,i)}}async function Vf(n){if(eo(n))for(const e of n.Ia)await e(!0)}async function Rc(n){for(const e of n.Ia)await e(!1)}function Ay(n,e){const t=Ee(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),rw(t)?nw(t):Pc(t).M_()&&tw(t,e))}function uc(n,e){const t=Ee(n),r=Pc(t);t.Pa.delete(e),r.M_()&&S2(t,e),t.Pa.size===0&&(r.M_()?r.N_():eo(t)&&t.da.set("Unknown"))}function tw(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pc(n).H_(e)}function S2(n,e){n.Aa.Ke(e),Pc(n).J_(e)}function nw(n){n.Aa=new vq({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Pc(n).start(),n.da._a()}function rw(n){return eo(n)&&!Pc(n).F_()&&n.Pa.size>0}function eo(n){return Ee(n).Ta.size===0}function A2(n){n.Aa=void 0}async function A7(n){n.da.set("Online")}async function I7(n){n.Pa.forEach((e,t)=>{tw(n,e)})}async function R7(n,e){A2(n),rw(n)?(n.da.ca(e),nw(n)):n.da.set("Unknown")}async function C7(n,e,t){if(n.da.set("Online"),e instanceof LD&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.Pa.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Pa.delete(h),i.Aa.removeTarget(h))}(n,e)}catch(r){pe(pl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ig(n,r)}else if(e instanceof $m?n.Aa.Xe(e):e instanceof VD?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Ie.min()))try{const r=await f2(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.Aa.It(u);return h.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Pa.get(d);g&&o.Pa.set(d,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,d)=>{const g=o.Pa.get(f);if(!g)return;o.Pa.set(f,g.withResumeToken(Ft.EMPTY_BYTE_STRING,g.snapshotVersion)),S2(o,f);const _=new Ts(g.target,f,d,g.sequenceNumber);tw(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(pl,"Failed to raise snapshot:",r),await Ig(n,r)}}async function Ig(n,e,t){if(!Ja(e))throw e;n.Ta.add(1),await Rc(n),n.da.set("Offline"),t||(t=()=>f2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(pl,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await Vf(n)})}function I2(n,e){return e().catch(t=>Ig(n,t,e))}async function Cc(n){const e=Ee(n),t=Ha(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Oa;for(;P7(e);)try{const i=await h7(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,x7(e,i)}catch(i){await Ig(e,i)}R2(e)&&C2(e)}function P7(n){return eo(n)&&n.ha.length<10}function x7(n,e){n.ha.push(e);const t=Ha(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function R2(n){return eo(n)&&!Ha(n).F_()&&n.ha.length>0}function C2(n){Ha(n).start()}async function O7(n){Ha(n).ta()}async function D7(n){const e=Ha(n);for(const t of n.ha)e.Z_(t.mutations)}async function N7(n,e,t){const r=n.ha.shift(),i=Fb.from(r,e,t);await I2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Cc(n)}async function k7(n,e){e&&Ha(n).Y_&&await async function(r,i){if(function(u){return kD(u)&&u!==re.ABORTED}(i.code)){const o=r.ha.shift();Ha(r).O_(),await I2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Cc(r)}}(n,e),R2(n)&&C2(n)}async function tC(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(pl,"RemoteStore received new credentials");const r=eo(t);t.Ta.add(3),await Rc(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Vf(t)}async function yE(n,e){const t=Ee(n);e?(t.Ta.delete(2),await Vf(t)):e||(t.Ta.add(2),await Rc(t),t.da.set("Unknown"))}function Pc(n){return n.Ra||(n.Ra=function(t,r,i){const o=Ee(t);return o.ra(),new v7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:A7.bind(null,n),n_:I7.bind(null,n),i_:R7.bind(null,n),j_:C7.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),rw(n)?nw(n):n.da.set("Unknown")):(await n.Ra.stop(),A2(n))})),n.Ra}function Ha(n){return n.Va||(n.Va=function(t,r,i){const o=Ee(t);return o.ra(),new E7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:O7.bind(null,n),i_:k7.bind(null,n),X_:D7.bind(null,n),ea:N7.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await Cc(n)):(await n.Va.stop(),n.ha.length>0&&(pe(pl,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new iw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xc(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),Ja(n))return new fe(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{static emptySet(e){return new zu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=fd(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.ma=new vt(ve.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):be(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class cc{constructor(e,t,r,i,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new cc(e,t,zu.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class V7{constructor(){this.queries=rC(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=rC(),o.forEach((u,h)=>{for(const f of h.ya)f.onError(r)})})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function rC(){return new Us(n=>ED(n),xf)}async function sw(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new M7,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(i,!0);break;case 1:o.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=xc(u,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&ow(t)}async function aw(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function L7(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ya)h.va(i)&&(r=!0);u.pa=i}}r&&ow(t)}function U7(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ya)o.onError(t);r.queries.delete(e)}function ow(n){n.ba.forEach(e=>{e.next()})}var _E,iC;(iC=_E||(_E={})).Ca="default",iC.Cache="cache";class lw{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==_E.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,t){this.ka=e,this.byteLength=t}qa(){return"metadata"in this.ka}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.serializer=e}Us(e){return Bi(this.serializer,e)}Ks(e){return e.metadata.exists?qD(this.serializer,e.document,!1):Et.newNoDocument(this.Us(e.metadata.name),this.Ws(e.metadata.readTime))}Ws(e){return Qt(e)}}class F7{constructor(e,t,r){this.Qa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=P2(e)}$a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ka.namedQuery)this.queries.push(e.ka.namedQuery);else if(e.ka.documentMetadata){this.documents.push({metadata:e.ka.documentMetadata}),e.ka.documentMetadata.exists||++t;const r=$e.fromString(e.ka.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ka.document&&(this.documents[this.documents.length-1].document=e.ka.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ua(e){const t=new Map,r=new sC(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Us(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async complete(){const e=await d7(this.localStore,new sC(this.serializer),this.documents,this.Qa.id),t=this.Ua(this.documents);for(const r of this.queries)await f7(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ka:this.collectionGroups,Wa:e}}}function P2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.key=e}}class O2{constructor(e){this.key=e}}class D2{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=wD(e),this.Ja=new zu(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new nC,i=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Of(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let D=!1;v&&T?v.data.isEqual(T.data)?w!==I&&(r.track({type:3,doc:T}),D=!0):this.eu(v,T)||(r.track({type:2,doc:T}),D=!0,(f&&this.Ha(T,f)>0||d&&this.Ha(T,d)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),D=!0):v&&!T&&(r.track({type:1,doc:v}),D=!0,(f||d)&&(h=!0)),D&&(T?(u=u.add(T),o=I?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ja:u,Xa:r,Cs:h,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((g,_)=>function(T,w){const I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:D})}};return I(T)-I(w)}(g.type,_.type)||this.Ha(g.doc,_.doc)),this.tu(r),i=i!=null&&i;const h=t&&!i?this.nu():[],f=this.ja.size===0&&this.current&&!i?1:0,d=f!==this.za;return this.za=f,u.length!==0||d?{snapshot:new cc(this.query,e.Ja,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:h}:{ru:h}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new nC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new O2(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new x2(r))}),t}su(e){this.Ga=e.$s,this.ja=Ve();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return cc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const to="SyncEngine";class z7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class j7{constructor(e){this.key=e,this._u=!1}}class q7{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new Us(h=>ED(h),xf),this.cu=new Map,this.lu=new Set,this.hu=new vt(ve.comparator),this.Pu=new Map,this.Tu=new Kb,this.Iu={},this.Eu=new Map,this.du=fl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function H7(n,e,t=!0){const r=Iy(n);let i;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await N2(r,e,t,!0),i}async function $7(n,e){const t=Iy(n);await N2(t,e,!0,!1)}async function N2(n,e,t,r){const i=await oc(n.localStore,Qn(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await uw(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&Ay(n.remoteStore,i),h}async function uw(n,e,t,r,i){n.Ru=(_,v,T)=>async function(I,D,U,L){let V=D.view.Za(U);V.Cs&&(V=await Tg(I.localStore,D.query,!1).then(({documents:M})=>D.view.Za(M,V)));const q=L&&L.targetChanges.get(D.targetId),B=L&&L.targetMismatches.get(D.targetId)!=null,G=D.view.applyChanges(V,I.isPrimaryClient,q,B);return vE(I,D.targetId,G.ru),G.snapshot}(n,_,v,T);const o=await Tg(n.localStore,e,!0),u=new D2(e,o.$s),h=u.Za(o.documents),f=kf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=u.applyChanges(h,n.isPrimaryClient,f);vE(n,t,d.ru);const g=new z7(e,t,u);return n.uu.set(e,g),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),d.snapshot}async function G7(n,e,t){const r=Ee(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(u=>!xf(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&uc(r.remoteStore,i.targetId),hc(r,i.targetId)}).catch(Xa)):(hc(r,i.targetId),await lc(r.localStore,i.targetId,!0))}async function K7(n,e){const t=Ee(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),uc(t.remoteStore,r.targetId))}async function W7(n,e,t){const r=fw(n);try{const i=await function(u,h){const f=Ee(u),d=Pt.now(),g=h.reduce((T,w)=>T.add(w.key),Ve());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=sr(),I=Ve();return f.Bs.getEntries(T,g).next(D=>{w=D,w.forEach((U,L)=>{L.isValidDocument()||(I=I.add(U))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,w)).next(D=>{_=D;const U=[];for(const L of h){const V=gq(L,_.get(L.key).overlayedDocument);V!=null&&U.push(new Bs(L.key,V,hD(V.value.mapValue),Ct.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,U,h)}).next(D=>{v=D;const U=D.applyToLocalDocumentSet(_,I);return f.documentOverlayCache.saveOverlays(T,D.batchId,U)})}).then(()=>({batchId:v.batchId,changes:SD(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,f){let d=u.Iu[u.currentUser.toKey()];d||(d=new vt(De)),d=d.insert(h,f),u.Iu[u.currentUser.toKey()]=d}(r,i.batchId,t),await Fs(r,i.changes),await Cc(r.remoteStore)}catch(i){const o=xc(i,"Failed to persist write");t.reject(o)}}async function k2(n,e){const t=Ee(n);try{const r=await c7(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Pu.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u._u=!0:i.modifiedDocuments.size>0?Ae(u._u,14607):i.removedDocuments.size>0&&(Ae(u._u,42227),u._u=!1))}),await Fs(t,r,e)}catch(r){await Xa(r)}}function aC(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((o,u)=>{const h=u.view.Da(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const f=Ee(u);f.onlineState=h;let d=!1;f.queries.forEach((g,_)=>{for(const v of _.ya)v.Da(h)&&(d=!0)}),d&&ow(f)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Q7(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),o=i&&i.key;if(o){let u=new vt(ve.comparator);u=u.insert(o,Et.newNoDocument(o,Ie.min()));const h=Ve().add(o),f=new Nf(Ie.min(),new Map,new vt(De),u,h);await k2(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),dw(r)}else await lc(r.localStore,e,!1).then(()=>hc(r,e,t)).catch(Xa)}async function Y7(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await u7(t.localStore,e);hw(t,r,null),cw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fs(t,i)}catch(i){await Xa(i)}}async function X7(n,e,t){const r=Ee(n);try{const i=await function(u,h){const f=Ee(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next(_=>(Ae(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(d,_))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(r.localStore,e);hw(r,e,t),cw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fs(r,i)}catch(i){await Xa(i)}}async function J7(n,e){const t=Ee(n);eo(t.remoteStore)||pe(to,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===Oa)return void e.resolve();const i=t.Eu.get(r)||[];i.push(e),t.Eu.set(r,i)}catch(r){const i=xc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function cw(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function hw(n,e,t){const r=Ee(n);let i=r.Iu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function hc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||M2(n,r)})}function M2(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(uc(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),dw(n))}function vE(n,e,t){for(const r of t)r instanceof x2?(n.Tu.addReference(r.key,e),Z7(n,r)):r instanceof O2?(pe(to,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||M2(n,r.key)):be(19791,{mu:r})}function Z7(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(pe(to,"New document in limbo: "+t),n.lu.add(r),dw(n))}function dw(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new ve($e.fromString(e)),r=n.du.next();n.Pu.set(r,new j7(t)),n.hu=n.hu.insert(t,r),Ay(n.remoteStore,new Ts(Qn(Sc(t.path)),r,"TargetPurposeLimboResolution",rr.le))}}async function Fs(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((h,f)=>{u.push(r.Ru(f,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const _=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){i.push(d);const _=Xb.Rs(f.targetId,d);o.push(_)}}))}),await Promise.all(u),r.au.j_(i),await async function(f,d){const g=Ee(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(d,v=>X.forEach(v.ds,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.As,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!Ja(_))throw _;pe(Jb,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const T=g.xs.get(v),w=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(w);g.xs=g.xs.insert(v,I)}}}(r.localStore,o))}async function eH(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(to,"User change. New user:",e.toKey());const r=await d2(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(h=>{h.forEach(f=>{f.reject(new fe(re.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fs(t,r.ks)}}function tH(n,e){const t=Ee(n),r=t.Pu.get(e);if(r&&r._u)return Ve().add(r.key);{let i=Ve();const o=t.cu.get(e);if(!o)return i;for(const u of o){const h=t.uu.get(u);i=i.unionWith(h.view.Ya)}return i}}async function nH(n,e){const t=Ee(n),r=await Tg(t.localStore,e.query,!0),i=e.view.su(r);return t.isPrimaryClient&&vE(t,e.targetId,i.ru),i}async function rH(n,e){const t=Ee(n);return g2(t.localStore,e).then(r=>Fs(t,r))}async function iH(n,e,t,r){const i=Ee(n),o=await function(h,f){const d=Ee(h),g=Ee(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.tr(_,f).next(v=>v?d.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Cc(i.remoteStore):t==="acknowledged"||t==="rejected"?(hw(i,e,r||null),cw(i,e),function(h,f){Ee(Ee(h).mutationQueue).sr(f)}(i.localStore,e)):be(6720,"Unknown batchState",{fu:t}),await Fs(i,o)):pe(to,"Cannot apply mutation batch with id: "+e)}async function sH(n,e){const t=Ee(n);if(Iy(t),fw(t),e===!0&&t.Au!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await oC(t,r.toArray());t.Au=!0,await yE(t.remoteStore,!0);for(const o of i)Ay(t.remoteStore,o)}else if(e===!1&&t.Au!==!1){const r=[];let i=Promise.resolve();t.cu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(hc(t,u),lc(t.localStore,u,!0))),uc(t.remoteStore,u)}),await i,await oC(t,r),function(u){const h=Ee(u);h.Pu.forEach((f,d)=>{uc(h.remoteStore,d)}),h.Tu.Jr(),h.Pu=new Map,h.hu=new vt(ve.comparator)}(t),t.Au=!1,await yE(t.remoteStore,!1)}}async function oC(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const f=r.cu.get(u);if(f&&f.length!==0){h=await oc(r.localStore,Qn(f[0]));for(const d of f){const g=r.uu.get(d),_=await nH(r,g);_.snapshot&&o.push(_.snapshot)}}else{const d=await m2(r.localStore,u);h=await oc(r.localStore,d),await uw(r,V2(d),u,!1,h.resumeToken)}i.push(h)}return r.au.j_(o),i}function V2(n){return vD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function aH(n){return function(t){return Ee(Ee(t).persistence).Is()}(Ee(n).localStore)}async function oH(n,e,t,r){const i=Ee(n);if(i.Au)return void pe(to,"Ignoring unexpected query state notification.");const o=i.cu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await g2(i.localStore,bD(o[0])),h=Nf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ft.EMPTY_BYTE_STRING);await Fs(i,u,h);break}case"rejected":await lc(i.localStore,e,!0),hc(i,e,r);break;default:be(64155,t)}}async function lH(n,e,t){const r=Iy(n);if(r.Au){for(const i of e){if(r.cu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(to,"Adding an already active target "+i);continue}const o=await m2(r.localStore,i),u=await oc(r.localStore,o);await uw(r,V2(o),u.targetId,!1,u.resumeToken),Ay(r.remoteStore,u)}for(const i of t)r.cu.has(i)&&await lc(r.localStore,i,!1).then(()=>{uc(r.remoteStore,i),hc(r,i)}).catch(Xa)}}function Iy(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q7.bind(null,e),e.au.j_=L7.bind(null,e.eventManager),e.au.Vu=U7.bind(null,e.eventManager),e}function fw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X7.bind(null,e),e}function uH(n,e,t){const r=Ee(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await function(T,w){const I=Ee(T),D=Qt(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",U=>I.Ei.getBundleMetadata(U,w.id)).then(U=>!!U&&U.createTime.compareTo(D)>=0)}(o.localStore,f))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(f)),Promise.resolve(new Set);h._updateProgress(P2(f));const d=new F7(f,o.localStore,u.serializer);let g=await u.gu();for(;g;){const v=await d.$a(g);v&&h._updateProgress(v),g=await u.gu()}const _=await d.complete();return await Fs(o,_.Wa,void 0),await function(T,w){const I=Ee(T);return I.persistence.runTransaction("Save bundle","readwrite",D=>I.Ei.saveBundleMetadata(D,w))}(o.localStore,f),h._completeWith(_.progress),Promise.resolve(_.Ka)}catch(f){return ji(to,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return h2(this.persistence,new c2,e.initialUser,this.serializer)}yu(e){return new Wb(Sy.fi,this.serializer)}pu(e){return new b2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class cH extends nf{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ae(this.persistence.referenceDelegate instanceof wg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new i2(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new Wb(r=>wg.fi(r,t),this.serializer)}}class L2 extends nf{constructor(e,t,r){super(),this.Du=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await fw(this.Du.syncEngine),await Cc(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return h2(this.persistence,new c2,e.initialUser,this.serializer)}Su(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new i2(r,e.asyncQueue,t)}bu(e,t){const r=new v8(t,this.persistence);return new _8(e.asyncQueue,r)}yu(e){const t=Yb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new Qb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,w2(),Km(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new b2}}class hH extends L2{constructor(e,t){super(e,t,!1),this.Du=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Du.syncEngine;this.sharedClientState instanceof w0&&(this.sharedClientState.syncEngine={Co:iH.bind(null,t),Fo:oH.bind(null,t),Mo:lH.bind(null,t),Is:aH.bind(null,t),vo:rH.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await sH(this.Du.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}pu(e){const t=w2();if(!w0.C(t))throw new fe(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Yb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new w0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class rf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eH.bind(null,this.syncEngine),await yE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V7}()}createDatastore(e){const t=Mf(e.databaseInfo.databaseId),r=function(o){return new _7(o)}(e.databaseInfo);return function(o,u,h,f){return new w7(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new S7(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>aC(this.syncEngine,t,0),function(){return Z1.C()?new Z1:new p7}())}createSyncEngine(e,t){return function(i,o,u,h,f,d,g){const _=new q7(i,o,u,h,f,d);return g&&(_.Au=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(pl,"RemoteStore shutting down."),o.Ta.add(5),await Rc(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}rf.provider={build:()=>new rf};function lC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,t){this.Fu=e,this.serializer=t,this.metadata=new Dn,this.buffer=new Uint8Array,this.Mu=function(){return new TextDecoder("utf-8")}(),this.xu().then(r=>{r&&r.qa()?this.metadata.resolve(r.ka.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ka)}`))},r=>this.metadata.reject(r))}close(){return this.Fu.cancel()}async getMetadata(){return this.metadata.promise}async gu(){return await this.getMetadata(),this.xu()}async xu(){const e=await this.Ou();if(e===null)return null;const t=this.Mu.decode(e),r=Number(t);isNaN(r)&&this.Nu(`length string (${t}) is not valid number`);const i=await this.Bu(r);return new B7(JSON.parse(i),e.length+r)}Lu(){return this.buffer.findIndex(e=>e===123)}async Ou(){for(;this.Lu()<0&&!await this.ku(););if(this.buffer.length===0)return null;const e=this.Lu();e<0&&this.Nu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Bu(e){for(;this.buffer.length<e;)await this.ku()&&this.Nu("Reached the end of bundle when more is expected.");const t=this.Mu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Nu(e){throw this.Fu.cancel(),new Error(`Invalid bundle format: ${e}`)}async ku(){const e=await this.Fu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>ef(u.serializer,_))},f=await u.Yo("BatchGetDocuments",u.serializer.databaseId,$e.emptyPath(),h,o.length),d=new Map;f.forEach(_=>{const v=Aq(u.serializer,_);d.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=d.get(_.toString());Ae(!!v,55234,{key:_}),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ic(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ve.fromPath(r);this.mutations.push(new Ub(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>tf(o.serializer,h))};await o.zo("Commit",o.serializer.databaseId,$e.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw be(50498,{qu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new fe(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?Ct.exists(!1):Ct.updateTime(t):Ct.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new fe(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ct.updateTime(t)}return Ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Qu=r.maxAttempts,this.C_=new ew(this.asyncQueue,"transaction_retry")}$u(){this.Qu-=1,this.Uu()}Uu(){this.C_.f_(async()=>{const e=new fH(this.datastore),t=this.Ku(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Wu(i)}))}).catch(r=>{this.Wu(r)})})}Ku(e){try{const t=this.updateFunction(e);return!Rf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Wu(e){this.Qu>0&&this.Gu(e)?(this.Qu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Uu(),Promise.resolve()))):this.deferred.reject(e)}Gu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!kD(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="FirestoreClient";class mH{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=bn.UNAUTHENTICATED,this.clientId=UO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe($a,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe($a,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=xc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function S0(n,e){n.asyncQueue.verifyOperationInProgress(),pe($a,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await d2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function uC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await pw(n);pe($a,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>tC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>tC(e.remoteStore,i)),n._onlineComponents=e}async function pw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe($a,"Using user provided OfflineComponentProvider");try{await S0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ji("Error using user provided cache. Falling back to memory cache: "+t),await S0(n,new nf)}}else pe($a,"Using default OfflineComponentProvider"),await S0(n,new cH(void 0));return n._offlineComponents}async function Cy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe($a,"Using user provided OnlineComponentProvider"),await uC(n,n._uninitializedComponentsProvider._online)):(pe($a,"Using default OnlineComponentProvider"),await uC(n,new rf))),n._onlineComponents}function U2(n){return pw(n).then(e=>e.persistence)}function mw(n){return pw(n).then(e=>e.localStore)}function B2(n){return Cy(n).then(e=>e.remoteStore)}function gw(n){return Cy(n).then(e=>e.syncEngine)}function gH(n){return Cy(n).then(e=>e.datastore)}async function dc(n){const e=await Cy(n),t=e.eventManager;return t.onListen=H7.bind(null,e.syncEngine),t.onUnlisten=G7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=K7.bind(null,e.syncEngine),t}function yH(n){return n.asyncQueue.enqueue(async()=>{const e=await U2(n),t=await B2(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.Ta.delete(0),Vf(o)}(t)})}function _H(n){return n.asyncQueue.enqueue(async()=>{const e=await U2(n),t=await B2(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.Ta.add(0),await Rc(o),o.da.set("Offline")}(t)})}function vH(n,e){const t=new Dn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(d,g){const _=Ee(d);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new fe(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=xc(h,`Failed to get document '${o} from cache`);u.reject(f)}}(await mw(n),e,t)),t.promise}function F2(n,e,t={}){const r=new Dn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Ry({next:v=>{g.Cu(),u.enqueueAndForget(()=>aw(o,_));const T=v.docs.has(h);!T&&v.fromCache?d.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&f&&f.source==="server"?d.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new lw(Sc(h.path),g,{includeMetadataChanges:!0,La:!0});return sw(o,_)}(await dc(n),n.asyncQueue,e,t,r)),r.promise}function EH(n,e){const t=new Dn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Tg(i,o,!0),f=new D2(o,h.$s),d=f.Za(h.documents),g=f.applyChanges(d,!1);u.resolve(g.snapshot)}catch(h){const f=xc(h,`Failed to execute query '${o} against cache`);u.reject(f)}}(await mw(n),e,t)),t.promise}function z2(n,e,t={}){const r=new Dn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Ry({next:v=>{g.Cu(),u.enqueueAndForget(()=>aw(o,_)),v.fromCache&&f.source==="server"?d.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new lw(h,g,{includeMetadataChanges:!0,La:!0});return sw(o,_)}(await dc(n),n.asyncQueue,e,t,r)),r.promise}function bH(n,e){const t=new Ry(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ba.add(o),o.next()}(await dc(n),t)),()=>{t.Cu(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ba.delete(o)}(await dc(n),t))}}function wH(n,e,t,r){const i=function(u,h){let f;return f=typeof u=="string"?Ab().encode(u):u,function(g,_){return new dH(g,_)}(function(g,_){if(g instanceof Uint8Array)return lC(g,_);if(g instanceof ArrayBuffer)return lC(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),h)}(t,Mf(e));n.asyncQueue.enqueueAndForget(async()=>{uH(await gw(n),i,r)})}function TH(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ei.getNamedQuery(u,i))}(await mw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(n,e,t){if(!t)throw new fe(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function q2(n,e,t,r){if(e===!0&&r===!0)throw new fe(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hC(n){if(!ve.isDocumentKey(n))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dC(n){if(ve.isDocumentKey(n))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Py(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function Je(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Py(n);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function H2(n,e){if(e<=0)throw new fe(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firestore.googleapis.com",fC=!0;class pC{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$2,this.ssl=fC}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:fC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hq)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o8;switch(r.type){case"firstParty":return new h8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=cC.get(t);r&&(pe("ComponentProvider","Removing Datastore"),cC.delete(t),r.terminate())}(this),Promise.resolve()}}function G2(n,e,t,r={}){var i;n=Je(n,Lf);const o=_f(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&(mx(`https://${f}`),gx("Firestore",!0)),u.host!==$2&&u.host!==f&&ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!Ps(d,h)&&(n._setSettings(d),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=bn.MOCK_USER;else{g=h9(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new bn(v)}n._authCredentials=new l8(new LO(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yn=class K2{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new K2(this.firestore,e,this._query)}},Dt=class W2{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new W2(this.firestore,e,this._key)}},Da=class Q2 extends Yn{constructor(e,t,r){super(e,t,Sc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new ve(e))}withConverter(e){return new Q2(this.firestore,e,this._path)}};function Y2(n,e,...t){if(n=Ce(n),yw("collection","path",e),n instanceof Lf){const r=$e.fromString(e,...t);return dC(r),new Da(n,null,r)}{if(!(n instanceof Dt||n instanceof Da))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return dC(r),new Da(n.firestore,null,r)}}function SH(n,e){if(n=Je(n,Lf),yw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yn(n,null,function(r){return new Ls($e.emptyPath(),r)}(e))}function Rg(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=UO.newId()),yw("doc","path",e),n instanceof Lf){const r=$e.fromString(e,...t);return hC(r),new Dt(n,null,new ve(r))}{if(!(n instanceof Dt||n instanceof Da))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return hC(r),new Dt(n.firestore,n instanceof Da?n.converter:null,new ve(r))}}function X2(n,e){return n=Ce(n),e=Ce(e),(n instanceof Dt||n instanceof Da)&&(e instanceof Dt||e instanceof Da)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function J2(n,e){return n=Ce(n),e=Ce(e),n instanceof Yn&&e instanceof Yn&&n.firestore===e.firestore&&xf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="AsyncQueue";class gC{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new ew(this,"async_queue_retry"),this.ec=()=>{const r=Km();r&&pe(mC,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=Km();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Km();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Dn;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ja(e))throw e;pe(mC,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Wt("INTERNAL UNHANDLED ERROR: ",yC(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=iw.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&be(47125,{_c:yC(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function yC(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class AH{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=-1;let Yt=class extends Lf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new gC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gC(e),this._firestoreClient=void 0,await e}}};function RH(n,e){const t=typeof n=="object"?n:ib(),r=typeof n=="string"?n:mg,i=vf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=u9("firestore");o&&G2(i,...o)}return i}function zn(n){if(n._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Z2(n),n._firestoreClient}function Z2(n){var e,t,r;const i=n._freezeSettings(),o=function(h,f,d,g){return new W8(h,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,j2(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new mH(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}function CH(n,e){ji("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return eN(n,rf.provider,{build:r=>new L2(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function PH(n){ji("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();eN(n,rf.provider,{build:t=>new hH(t,e.cacheSizeBytes)})}function eN(n,e,t){if((n=Je(n,Yt))._firestoreClient||n._terminated)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new fe(re.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},Z2(n)}function xH(n){if(n._initialized&&!n._terminated)throw new fe(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Dn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ui.C())return Promise.resolve();const i=r+u2;await Ui.delete(i)}(Yb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function OH(n){return function(t){const r=new Dn;return t.asyncQueue.enqueueAndForget(async()=>J7(await gw(t),r)),r.promise}(zn(n=Je(n,Yt)))}function DH(n){return yH(zn(n=Je(n,Yt)))}function NH(n){return _H(zn(n=Je(n,Yt)))}function kH(n,e){const t=zn(n=Je(n,Yt)),r=new AH;return wH(t,n._databaseId,e,r),r}function MH(n,e){return TH(zn(n=Je(n,Yt)),e).then(t=>t?new Yn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hi(Ft.fromBase64String(e))}catch(t){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hi(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=/^__.*__$/;class LH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ac(e,this.data,t,this.fieldTransforms)}}class tN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{hc:n})}}class Oy{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Cg(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(nN(this.hc)&&VH.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class UH{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mf(e)}gc(e,t,r,i=!1){return new Oy({hc:e,methodName:t,fc:r,path:Rt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wl(n){const e=n._freezeSettings(),t=Mf(n._databaseId);return new UH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dy(n,e,t,r,i,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,i);Aw("Data must be an object, but it was:",u,r);const h=sN(r,u);let f,d;if(o.merge)f=new ir(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=bE(e,_,t);if(!u.contains(v))throw new fe(re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);oN(g,v)||g.push(v)}f=new ir(g),d=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,d=u.fieldTransforms;return new LH(new On(h),f,d)}class Uf extends bl{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}function rN(n,e,t){return new Oy({hc:3,fc:e.settings.fc,methodName:n._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vw extends bl{_toFieldTransform(e){return new Df(e.path,new ic)}isEqual(e){return e instanceof vw}}class Ew extends bl{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=rN(this,e,!0),r=this.yc.map(o=>Tl(o,t)),i=new ul(r);return new Df(e.path,i)}isEqual(e){return e instanceof Ew&&Ps(this.yc,e.yc)}}class bw extends bl{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=rN(this,e,!0),r=this.yc.map(o=>Tl(o,t)),i=new cl(r);return new Df(e.path,i)}isEqual(e){return e instanceof bw&&Ps(this.yc,e.yc)}}class ww extends bl{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new sc(e.serializer,RD(e.serializer,this.wc));return new Df(e.path,t)}isEqual(e){return e instanceof ww&&this.wc===e.wc}}function Tw(n,e,t,r){const i=n.gc(1,e,t);Aw("Data must be an object, but it was:",i,r);const o=[],u=On.empty();Za(r,(f,d)=>{const g=Iw(e,f,t);d=Ce(d);const _=i.Ac(g);if(d instanceof Uf)o.push(g);else{const v=Tl(d,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new ir(o);return new tN(u,h,i.fieldTransforms)}function Sw(n,e,t,r,i,o){const u=n.gc(1,e,t),h=[bE(e,r,t)],f=[i];if(o.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(bE(e,o[v])),f.push(o[v+1]);const d=[],g=On.empty();for(let v=h.length-1;v>=0;--v)if(!oN(d,h[v])){const T=h[v];let w=f[v];w=Ce(w);const I=u.Ac(T);if(w instanceof Uf)d.push(T);else{const D=Tl(w,I);D!=null&&(d.push(T),g.set(T,D))}}const _=new ir(d);return new tN(g,_,u.fieldTransforms)}function iN(n,e,t,r=!1){return Tl(t,n.gc(r?4:3,e))}function Tl(n,e){if(aN(n=Ce(n)))return Aw("Unsupported field value:",e,n),sN(n,e);if(n instanceof bl)return function(r,i){if(!nN(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let f=Tl(h,i.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:ac(i.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ac(i.serializer,o)}}if(r instanceof xy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hi)return{bytesValue:UD(i.serializer,r._byteString)};if(r instanceof Dt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _w)return function(u,h){return{mapValue:{fields:{[Db]:{stringValue:Nb},[tc]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Vc("VectorValues must only contain numeric values.");return Lb(h.serializer,d)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Py(r)}`)}(n,e)}function sN(n,e){const t={};return nD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(n,(r,i)=>{const o=Tl(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function aN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof xy||n instanceof Hi||n instanceof Dt||n instanceof bl||n instanceof _w)}function Aw(n,e,t){if(!aN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Py(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function bE(n,e,t){if((e=Ce(e))instanceof Ga)return e._internalPath;if(typeof e=="string")return Iw(n,e);throw Cg("Field path arguments must be of type string or ",n,!1,void 0,t)}const BH=new RegExp("[~\\*/\\[\\]]");function Iw(n,e,t){if(e.search(BH)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ga(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new fe(re.INVALID_ARGUMENT,h+n+f)}function oN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ny("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FH extends sf{data(){return super.data()}}function Ny(n,e){return typeof e=="string"?Iw(n,e):e instanceof Ga?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rw{}class Bf extends Rw{}function va(n,e,...t){let r=[];e instanceof Rw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof Cw).length,h=o.filter(f=>f instanceof ky).length;if(u>1||u>0&&h>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ky extends Bf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ky(e,t,r)}_apply(e){const t=this._parse(e);return cN(e._query,t),new Yn(e.firestore,e.converter,oE(e._query,t))}_parse(e){const t=wl(e.firestore);return function(o,u,h,f,d,g,_){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){vC(_,g);const w=[];for(const I of _)w.push(_C(f,o,I));v={arrayValue:{values:w}}}else v=_C(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||vC(_,g),v=iN(h,u,_,g==="in"||g==="not-in");return Ge.create(d,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zH(n,e,t){const r=e,i=Ny("where",n);return ky._create(i,r,t)}class Cw extends Rw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const f of h)cN(u,f),u=oE(u,f)}(e._query,t),new Yn(e.firestore,e.converter,oE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pw extends Bf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Pw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zd(o,u)}(e._query,this._field,this._direction);return new Yn(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new Ls(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function jH(n,e="asc"){const t=e,r=Ny("orderBy",n);return Pw._create(r,t)}class My extends Bf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new My(e,t,r)}_apply(e){return new Yn(e.firestore,e.converter,_g(e._query,this._limit,this._limitType))}}function qH(n){return H2("limit",n),My._create("limit",n,"F")}function HH(n){return H2("limitToLast",n),My._create("limitToLast",n,"L")}class Vy extends Bf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Vy(e,t,r)}_apply(e){const t=uN(e,this.type,this._docOrFields,this._inclusive);return new Yn(e.firestore,e.converter,function(i,o){return new Ls(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function $H(...n){return Vy._create("startAt",n,!0)}function GH(...n){return Vy._create("startAfter",n,!1)}class Ly extends Bf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ly(e,t,r)}_apply(e){const t=uN(e,this.type,this._docOrFields,this._inclusive);return new Yn(e.firestore,e.converter,function(i,o){return new Ls(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function KH(...n){return Ly._create("endBefore",n,!1)}function WH(...n){return Ly._create("endAt",n,!0)}function uN(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof sf)return function(o,u,h,f,d){if(!f)throw new fe(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of Fu(o))if(_.field.isKeyField())g.push(ol(u,f.key));else{const v=f.data.field(_.field);if(yy(v))throw new fe(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new fe(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new qa(g,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=wl(n.firestore);return function(u,h,f,d,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new fe(re.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let w=0;w<g.length;w++){const I=g[w];if(v[w].field.isKeyField()){if(typeof I!="string")throw new fe(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof I}`);if(!Mb(u)&&I.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${I}' contains a slash.`);const D=u.path.child($e.fromString(I));if(!ve.isDocumentKey(D))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const U=new ve(D);T.push(ol(h,U))}else{const D=iN(f,d,I);T.push(D)}}return new qa(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function _C(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mb(e)&&t.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($e.fromString(t));if(!ve.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ol(n,new ve(r))}if(t instanceof Dt)return ol(n,t._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Py(t)}.`)}function vC(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cN(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class xw{convertValue(e,t="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Za(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[tc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>At(u.doubleValue));return new _w(o)}convertGeoPoint(e){return new xy(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_y(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yd(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$e.fromString(e);Ae(QD(r),9688,{name:e});const i=new Fa(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(t)||Wt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class QH extends xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ks=class extends sf{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ny("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Od=class extends ks{data(e={}){return super.data(e)}},Ka=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Od(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const f=new Od(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Yo(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Od(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Yo(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:YH(h.type),doc:f,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function YH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}function hN(n,e){return n instanceof ks&&e instanceof ks?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ka&&e instanceof Ka&&n._firestore===e._firestore&&J2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(n){n=Je(n,Dt);const e=Je(n.firestore,Yt);return F2(zn(e),n._key).then(t=>Ow(e,n,t))}class Sl extends xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function JH(n){n=Je(n,Dt);const e=Je(n.firestore,Yt),t=zn(e),r=new Sl(e);return vH(t,n._key).then(i=>new ks(e,r,n._key,i,new Yo(i!==null&&i.hasLocalMutations,!0),n.converter))}function ZH(n){n=Je(n,Dt);const e=Je(n.firestore,Yt);return F2(zn(e),n._key,{source:"server"}).then(t=>Ow(e,n,t))}function e$(n){n=Je(n,Yn);const e=Je(n.firestore,Yt),t=zn(e),r=new Sl(e);return lN(n._query),z2(t,n._query).then(i=>new Ka(e,r,n,i))}function t$(n){n=Je(n,Yn);const e=Je(n.firestore,Yt),t=zn(e),r=new Sl(e);return EH(t,n._query).then(i=>new Ka(e,r,n,i))}function n$(n){n=Je(n,Yn);const e=Je(n.firestore,Yt),t=zn(e),r=new Sl(e);return z2(t,n._query,{source:"server"}).then(i=>new Ka(e,r,n,i))}function EC(n,e,t){n=Je(n,Dt);const r=Je(n.firestore,Yt),i=Uy(n.converter,e,t);return Ff(r,[Dy(wl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ct.none())])}function bC(n,e,t,...r){n=Je(n,Dt);const i=Je(n.firestore,Yt),o=wl(i);let u;return u=typeof(e=Ce(e))=="string"||e instanceof Ga?Sw(o,"updateDoc",n._key,e,t,r):Tw(o,"updateDoc",n._key,e),Ff(i,[u.toMutation(n._key,Ct.exists(!0))])}function r$(n){return Ff(Je(n.firestore,Yt),[new Ic(n._key,Ct.none())])}function i$(n,e){const t=Je(n.firestore,Yt),r=Rg(n),i=Uy(n.converter,e);return Ff(t,[Dy(wl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ct.exists(!1))]).then(()=>r)}function dN(n,...e){var t,r,i;n=Ce(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||EE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(EE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let f,d,g;if(n instanceof Dt)d=Je(n.firestore,Yt),g=Sc(n._key.path),f={next:_=>{e[u]&&e[u](Ow(d,n,_))},error:e[u+1],complete:e[u+2]};else{const _=Je(n,Yn);d=Je(_.firestore,Yt),g=_._query;const v=new Sl(d);f={next:T=>{e[u]&&e[u](new Ka(d,v,_,T))},error:e[u+1],complete:e[u+2]},lN(n._query)}return function(v,T,w,I){const D=new Ry(I),U=new lw(T,D,w);return v.asyncQueue.enqueueAndForget(async()=>sw(await dc(v),U)),()=>{D.Cu(),v.asyncQueue.enqueueAndForget(async()=>aw(await dc(v),U))}}(zn(d),g,h,f)}function s$(n,e){return bH(zn(n=Je(n,Yt)),EE(e)?e:{next:e})}function Ff(n,e){return function(r,i){const o=new Dn;return r.asyncQueue.enqueueAndForget(async()=>W7(await gw(r),i,o)),o.promise}(zn(n),e)}function Ow(n,e,t){const r=t.docs.get(e._key),i=new Sl(n);return new ks(n,i,e._key,r,new Yo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o$=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wl(e)}set(e,t,r){this._verifyNotCommitted();const i=Sa(e,this._firestore),o=Uy(i.converter,t,r),u=Dy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,Ct.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Sa(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Ga?Sw(this._dataReader,"WriteBatch.update",o._key,t,r,i):Tw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sa(e,this._firestore);return this._mutations=this._mutations.concat(new Ic(t._key,Ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Sa(n,e){if((n=Ce(n)).firestore!==e)throw new fe(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wl(e)}get(e){const t=Sa(e,this._firestore),r=new QH(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return be(24041);const o=i[0];if(o.isFoundDocument())return new sf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new sf(this._firestore,r,t._key,null,t.converter);throw be(18433,{doc:o})})}set(e,t,r){const i=Sa(e,this._firestore),o=Uy(i.converter,t,r),u=Dy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Sa(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Ga?Sw(this._dataReader,"Transaction.update",o._key,t,r,i):Tw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Sa(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u$=class extends l${constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sa(e,this._firestore),r=new Sl(this._firestore);return super.get(e).then(i=>new ks(this._firestore,r,t._key,i._document,new Yo(!1,!1),t.converter))}};function c$(n,e,t){n=Je(n,Yt);const r=Object.assign(Object.assign({},a$),t);return function(o){if(o.maxAttempts<1)throw new fe(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const f=new Dn;return o.asyncQueue.enqueueAndForget(async()=>{const d=await gH(o);new pH(o.asyncQueue,d,h,u,f).$u()}),f.promise}(zn(n),i=>e(new u$(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(){return new Uf("deleteField")}function d$(){return new vw("serverTimestamp")}function f$(...n){return new Ew("arrayUnion",n)}function p$(...n){return new bw("arrayRemove",n)}function m$(n){return new ww("increment",n)}(function(e,t=!0){(function(i){Tc=i})(Qa),La(new Fi("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Yt(new u8(r.getProvider("auth-internal")),new d8(u,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(d.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),qr(YR,XR,e),qr(YR,XR,"esm2017")})();const g$="@firebase/firestore-compat",y$="0.3.51";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function TC(){if(!G8())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let fN=class wE{constructor(e){this._delegate=e}static fromBase64String(e){return TC(),new wE(Hi.fromBase64String(e))}static fromUint8Array(e){return wC(),new wE(Hi.fromUint8Array(e))}toBase64(){return TC(),this._delegate.toBase64()}toUint8Array(){return wC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n){return _$(n,["next","error","complete"])}function _$(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${enableIndexedDbPersistence(e,t){return CH(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return PH(e._delegate)}clearIndexedDbPersistence(e){return xH(e._delegate)}}class pN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ji("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){G2(this._delegate,e,t,r)}enableNetwork(){return DH(this._delegate)}disableNetwork(){return NH(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,q2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return OH(this._delegate)}onSnapshotsInSync(e){return s$(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fc(this,Y2(this._delegate,e))}catch(t){throw Kn(t,"collection()","Firestore.collection()")}}doc(e){try{return new zr(this,Rg(this._delegate,e))}catch(t){throw Kn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gn(this,SH(this._delegate,e))}catch(t){throw Kn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return c$(this._delegate,t=>e(new mN(this,t)))}batch(){return zn(this._delegate),new gN(new o$(this._delegate,e=>Ff(this._delegate,e)))}loadBundle(e){return kH(this._delegate,e)}namedQuery(e){return MH(this._delegate,e).then(t=>t?new Gn(this,t):null)}}class By extends xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new fN(new Hi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return zr.forKey(t,this.firestore,null)}}function E$(n){s8(n)}class mN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new By(e)}get(e){const t=Xo(e);return this._delegate.get(t).then(r=>new af(this._firestore,new ks(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Xo(e);return r?(Dw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Xo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Xo(e);return this._delegate.delete(t),this}}class gN{constructor(e){this._delegate=e}set(e,t,r){const i=Xo(e);return r?(Dw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Xo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Xo(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ml{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Od(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new of(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ml.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new ml(e,new By(e),t),i.set(t,o)),o}}ml.INSTANCES=new WeakMap;class zr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new By(e)}static forPath(e,t,r){if(e.length%2!==0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zr(t,new Dt(t._delegate,r,new ve(e)))}static forKey(e,t,r){return new zr(t,new Dt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fc(this.firestore,Y2(this._delegate,e))}catch(t){throw Kn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Dt?X2(this._delegate,e):!1}set(e,t){t=Dw("DocumentReference.set",t);try{return t?EC(this._delegate,e,t):EC(this._delegate,e)}catch(r){throw Kn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?bC(this._delegate,e):bC(this._delegate,e,t,...r)}catch(i){throw Kn(i,"updateDoc()","DocumentReference.update()")}}delete(){return r$(this._delegate)}onSnapshot(...e){const t=yN(e),r=_N(e,i=>new af(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return dN(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=JH(this._delegate):(e==null?void 0:e.source)==="server"?t=ZH(this._delegate):t=XH(this._delegate),t.then(r=>new af(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new zr(this.firestore,e?this._delegate.withConverter(ml.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Kn(n,e,t){return n.message=n.message.replace(e,t),n}function yN(n){for(const e of n)if(typeof e=="object"&&!TE(e))return e;return{}}function _N(n,e){var t,r;let i;return TE(n[0])?i=n[0]:TE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class af{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new zr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hN(this._delegate,e._delegate)}}class of extends af{data(e){const t=this._delegate.data(e);return this._delegate._converter||a8(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Gn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new By(e)}where(e,t,r){try{return new Gn(this.firestore,va(this._delegate,zH(e,t,r)))}catch(i){throw Kn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gn(this.firestore,va(this._delegate,jH(e,t)))}catch(r){throw Kn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gn(this.firestore,va(this._delegate,qH(e)))}catch(t){throw Kn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Gn(this.firestore,va(this._delegate,HH(e)))}catch(t){throw Kn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gn(this.firestore,va(this._delegate,$H(...e)))}catch(t){throw Kn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gn(this.firestore,va(this._delegate,GH(...e)))}catch(t){throw Kn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gn(this.firestore,va(this._delegate,KH(...e)))}catch(t){throw Kn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gn(this.firestore,va(this._delegate,WH(...e)))}catch(t){throw Kn(t,"endAt()","Query.endAt()")}}isEqual(e){return J2(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=t$(this._delegate):(e==null?void 0:e.source)==="server"?t=n$(this._delegate):t=e$(this._delegate),t.then(r=>new SE(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=yN(e),r=_N(e,i=>new SE(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return dN(this._delegate,t,r)}withConverter(e){return new Gn(this.firestore,e?this._delegate.withConverter(ml.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class b${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new of(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new of(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new b$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new of(this._firestore,r))})}isEqual(e){return hN(this._delegate,e._delegate)}}class fc extends Gn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zr(this.firestore,e):null}doc(e){try{return e===void 0?new zr(this.firestore,Rg(this._delegate)):new zr(this.firestore,Rg(this._delegate,e))}catch(t){throw Kn(t,"doc()","CollectionReference.doc()")}}add(e){return i$(this._delegate,e).then(t=>new zr(this.firestore,t))}isEqual(e){return X2(this._delegate,e._delegate)}withConverter(e){return new fc(this.firestore,e?this._delegate.withConverter(ml.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xo(n){return Je(n,Dt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(...e){this._delegate=new Ga(...e)}static documentId(){return new Nw(Rt.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof Ga?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static serverTimestamp(){const e=d$();return e._methodName="FieldValue.serverTimestamp",new Go(e)}static delete(){const e=h$();return e._methodName="FieldValue.delete",new Go(e)}static arrayUnion(...e){const t=f$(...e);return t._methodName="FieldValue.arrayUnion",new Go(t)}static arrayRemove(...e){const t=p$(...e);return t._methodName="FieldValue.arrayRemove",new Go(t)}static increment(e){const t=m$(e);return t._methodName="FieldValue.increment",new Go(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$={Firestore:pN,GeoPoint:xy,Timestamp:Pt,Blob:fN,Transaction:mN,WriteBatch:gN,DocumentReference:zr,DocumentSnapshot:af,Query:Gn,QueryDocumentSnapshot:of,QuerySnapshot:SE,CollectionReference:fc,FieldPath:Nw,FieldValue:Go,setLogLevel:E$,CACHE_SIZE_UNLIMITED:IH};function T$(n,e){n.INTERNAL.registerComponent(new Fi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},w$)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(n){T$(n,(e,t)=>new pN(e,t,new v$)),n.registerVersion(g$,y$)}S$(dy);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=2e3;async function I$(n,e,t){var r;const{BuildInfo:i}=gl();ii(e.sessionId,"AuthEvent did not contain a session ID");const o=await O$(e.sessionId),u={};return wf()?u.ibi=i.packageName:bf()?u.apn=i.packageName:Tn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,W0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function R$(n){const{BuildInfo:e}=gl(),t={};wf()?t.iosBundleId=e.packageName:bf()?t.androidPackageName=e.packageName:Tn(n,"operation-not-supported-in-this-environment"),await IO(n,t)}function C$(n){const{cordova:e}=gl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,sF()?"_blank":"_system","location=yes"),t(i)})})}async function P$(n,e,t){const{cordova:r}=gl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function d(){h||(h=window.setTimeout(()=>{u(fn(n,"redirect-cancelled-by-user"))},A$))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(f),document.addEventListener("resume",d,!1),bf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function x$(n){var e,t,r,i,o,u,h,f,d,g;const _=gl();ge(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof((f=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof((g=(d=_==null?void 0:_.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function O$(n){const e=D$(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function D$(n){if(ii(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=20;class k$ extends SO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function M$(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:U$(),postBody:null,tenantId:n.tenantId,error:fn(n,"no-auth-event")}}function V$(n,e){return AE()._set(IE(n),e)}async function SC(n){const e=await AE()._get(IE(n));return e&&await AE()._remove(IE(n)),e}function L$(n,e){var t,r;const i=F$(e);if(i.includes("/__/auth/callback")){const o=Wm(i),u=o.firebaseError?B$(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=h?fn(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function U$(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<N$;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function AE(){return wr(oy)}function IE(n){return el("authEvent",n.config.apiKey,n.name)}function B$(n){try{return JSON.parse(n)}catch{return null}}function F$(n){const e=Wm(n),t=e.link?decodeURIComponent(e.link):void 0,r=Wm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Wm(i).link||i||r||t||n}function Wm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Nu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=500;class j${constructor(){this._redirectPersistence=Ua,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hy,this._overrideRedirectResult=wb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new k$(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Tn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){x$(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),oj(),await this._originValidation(e);const u=M$(e,r,i);await V$(e,u);const h=await I$(e,u,t),f=await C$(h);return P$(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=R$(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=gl(),u=setTimeout(async()=>{await SC(e),t.onEvent(AC())},z$),h=async g=>{clearTimeout(u);const _=await SC(e);let v=null;_&&(g!=null&&g.url)&&(v=L$(_,g.url)),t.onEvent(v||AC())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=i,d=`${o.packageName.toLowerCase()}://`;gl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(d)&&h({url:g}),typeof f=="function")try{f(g)}catch(_){console.error(_)}}}}const q$=j$;function AC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(n,e){Mt(n)._logFramework(e)}var $$="@firebase/auth-compat",G$="0.5.26";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=1e3;function Dd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function W$(){return Dd()==="http:"||Dd()==="https:"}function vN(n=kt()){return!!((Dd()==="file:"||Dd()==="ionic:"||Dd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Q$(){return tb()||Jg()}function Y$(){return vx()&&(document==null?void 0:document.documentMode)===11}function X$(n=kt()){return/Edge\/\d+/.test(n)}function J$(n=kt()){return Y$()||X$(n)}function EN(){try{const n=self.localStorage,e=Af();if(n)return n.setItem(e,"1"),n.removeItem(e),J$()?Bd():!0}catch{return kw()&&Bd()}return!1}function kw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function A0(){return(W$()||_x()||vN())&&!Q$()&&EN()&&!kw()}function bN(){return vN()&&typeof document<"u"}async function Z$(){return bN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},K$);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function eG(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er={LOCAL:"local",NONE:"none",SESSION:"session"},sd=ge,wN="persistence";function tG(n,e){if(sd(Object.values(Er).includes(e),n,"invalid-persistence-type"),tb()){sd(e!==Er.SESSION,n,"unsupported-persistence-type");return}if(Jg()){sd(e===Er.NONE,n,"unsupported-persistence-type");return}if(kw()){sd(e===Er.NONE||e===Er.LOCAL&&Bd(),n,"unsupported-persistence-type");return}sd(e===Er.NONE||EN(),n,"unsupported-persistence-type")}async function RE(n){await n._initializationPromise;const e=TN(),t=el(wN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function nG(n,e){const t=TN();if(!t)return[];const r=el(wN,n,e);switch(t.getItem(r)){case Er.NONE:return[Gu];case Er.LOCAL:return[Wu,Ua];case Er.SESSION:return[Ua];default:return[]}}function TN(){var n;try{return((n=eG())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=ge;class Aa{constructor(){this.browserResolver=wr(RO),this.cordovaResolver=wr(q$),this.underlyingResolver=null,this._redirectPersistence=Ua,this._completeRedirectFn=hy,this._overrideRedirectResult=wb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return bN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rG(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Z$();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){return n.unwrap()}function iG(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(n){return AN(n)}function aG(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new oG(n,wz(n,e))}else if(r){const i=AN(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function AN(n){const{_tokenResponse:e}=n instanceof Wn?n.customData:n;if(!e)return null;if(!(n instanceof Wn)&&"temporaryProof"in e&&"phoneNumber"in e)return al.credentialFromResult(n);const t=e.providerId;if(!t||t===Jh.PASSWORD)return null;let r;switch(t){case Jh.GOOGLE:r=Oi;break;case Jh.FACEBOOK:r=xi;break;case Jh.GITHUB:r=Di;break;case Jh.TWITTER:r=Ni;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?Ku._create(t,h):zi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new Uu(t).credential({idToken:i,accessToken:o,rawNonce:f})}return n instanceof Wn?r.credentialFromError(n):r.credentialFromResult(n)}function tr(n,e){return e.catch(t=>{throw t instanceof Wn&&aG(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:sG(t),additionalUserInfo:vz(t),user:Ss.getOrCreate(i)}})}async function CE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>tr(n,t.confirm(r))}}class oG{constructor(e,t){this.resolver=t,this.auth=iG(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return tr(SN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._delegate=e,this.multiFactor=Az(e)}static getOrCreate(e){return Ss.USER_MAP.has(e)||Ss.USER_MAP.set(e,new Ss(e)),Ss.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return tr(this.auth,oO(this._delegate,e))}async linkWithPhoneNumber(e,t){return CE(this.auth,Wz(this._delegate,e,t))}async linkWithPopup(e){return tr(this.auth,rj(this._delegate,e,Aa))}async linkWithRedirect(e){return await RE(Mt(this.auth)),dj(this._delegate,e,Aa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return tr(this.auth,lO(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return CE(this.auth,Qz(this._delegate,e,t))}reauthenticateWithPopup(e){return tr(this.auth,nj(this._delegate,e,Aa))}async reauthenticateWithRedirect(e){return await RE(Mt(this.auth)),cj(this._delegate,e,Aa)}sendEmailVerification(e){return lz(this._delegate,e)}async unlink(e){return await YF(this._delegate,e),this}updateEmail(e){return dz(this._delegate,e)}updatePassword(e){return fz(this._delegate,e)}updatePhoneNumber(e){return Yz(this._delegate,e)}updateProfile(e){return hz(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return uz(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ss.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=ge;let PE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;ad(r,"invalid-api-key",{appName:e.name}),ad(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Aa:void 0;this._delegate=t.initialize({options:{persistence:lG(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(BB),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ss.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Zx(this._delegate,e,t)}applyActionCode(e){return tz(this._delegate,e)}checkActionCode(e){return uO(this._delegate,e)}confirmPasswordReset(e,t){return ez(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return tr(this._delegate,cO(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return oz(this._delegate,e)}isSignInWithEmailLink(e){return iz(this._delegate,e)}async getRedirectResult(){ad(A0(),this._delegate,"operation-not-supported-in-this-environment");const e=await pj(this._delegate,Aa);return e?tr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){H$(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=IC(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=IC(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return rz(this._delegate,e,t)}sendPasswordResetEmail(e,t){return ZF(this._delegate,e,t||void 0)}async setPersistence(e){tG(this._delegate,e);let t;switch(e){case Er.SESSION:t=Ua;break;case Er.LOCAL:t=await wr(Wu)._isAvailable()?Wu:oy;break;case Er.NONE:t=Gu;break;default:return Tn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return tr(this._delegate,QF(this._delegate))}signInWithCredential(e){return tr(this._delegate,sy(this._delegate,e))}signInWithCustomToken(e){return tr(this._delegate,JF(this._delegate,e))}signInWithEmailAndPassword(e,t){return tr(this._delegate,hO(this._delegate,e,t))}signInWithEmailLink(e,t){return tr(this._delegate,sz(this._delegate,e,t))}signInWithPhoneNumber(e,t){return CE(this._delegate,Kz(this._delegate,e,t))}async signInWithPopup(e){return ad(A0(),this._delegate,"operation-not-supported-in-this-environment"),tr(this._delegate,tj(this._delegate,e,Aa))}async signInWithRedirect(e){return ad(A0(),this._delegate,"operation-not-supported-in-this-environment"),await RE(this._delegate),lj(this._delegate,e,Aa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return nz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};PE.Persistence=Er;function IC(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ss.getOrCreate(u)),error:e,complete:t}}function lG(n,e){const t=nG(n,e);if(typeof self<"u"&&!t.includes(Wu)&&t.push(Wu),typeof window<"u")for(const r of[oy,Ua])t.includes(r)||t.push(r);return t.includes(Gu)||t.push(Gu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{static credential(e,t){return al.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new al(SN(dy.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Mw.PHONE_SIGN_IN_METHOD=al.PHONE_SIGN_IN_METHOD;Mw.PROVIDER_ID=al.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=ge;class cG{constructor(e,t,r=dy.app()){var i;uG((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new $z(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG="auth-compat";function dG(n){n.INTERNAL.registerComponent(new Fi(hG,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new PE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bu.EMAIL_SIGNIN,PASSWORD_RESET:bu.PASSWORD_RESET,RECOVER_EMAIL:bu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:bu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:bu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:bu.VERIFY_EMAIL}},EmailAuthProvider:Ya,FacebookAuthProvider:xi,GithubAuthProvider:Di,GoogleAuthProvider:Oi,OAuthProvider:Uu,SAMLAuthProvider:og,PhoneAuthProvider:Mw,PhoneMultiFactorGenerator:CO,RecaptchaVerifier:cG,TwitterAuthProvider:Ni,Auth:PE,AuthCredential:bc,Error:Wn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion($$,G$)}dG(dy);const fG={apiKey:"AIzaSyA6ApVc694NhGPsm3LFilm9qUsXnjFP9w4",authDomain:"clone-af8c8.firebaseapp.com",projectId:"clone-af8c8",storageBucket:"clone-af8c8.firebasestorage.app",messagingSenderId:"570383090667",appId:"1:570383090667:web:4ff9170ba847bab565cfae"},IN=ey(fG),RC=Yj(IN);RH(IN);function pG(){const[n,e]=Q.useState(""),[t,r]=Q.useState(""),[i,o]=Q.useState(""),[{user:u},h]=Q.useContext(hf);console.log(u);const f=async d=>{d.preventDefault();const g=d.target.name;console.log(g),g==="signin"?hO(RC,n,t).then(_=>{h({type:Ra.SET_USER,user:_.user})}).catch(_=>{o(_.message)}):g==="signup"&&cO(RC,n,t).then(_=>{h({type:Ra.SET_USER,user:_.user})}).catch(_=>{o(_.message)})};return K.jsxs("section",{className:a0.authContainer,children:[K.jsx(nr,{to:"/",children:K.jsx("img",{className:a0.logo,src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:"Amazon Logo"})}),K.jsxs("div",{className:a0.signupBox,children:[K.jsx("h1",{children:"Sign-in"}),K.jsxs("form",{children:[K.jsxs("div",{children:[K.jsx("label",{htmlFor:"email",children:"Email"}),K.jsx("input",{id:"email",type:"email",value:n,onChange:d=>e(d.target.value)})]}),K.jsx("label",{htmlFor:"password",children:"Password"}),K.jsx("input",{id:"password",type:"password",value:t,onChange:d=>r(d.target.value)}),i&&K.jsx("p",{style:{color:"red",fontSize:"12px"},children:i}),K.jsx("button",{type:"submit",name:"signin",onClick:f,children:"Sign In"})]}),K.jsxs("p",{children:["By continuing, you agree to Amazon's"," ",K.jsx(nr,{to:"#",children:"Conditions of Use"})," and"," ",K.jsx(nr,{to:"#",children:"Privacy Notice"}),"."]}),K.jsx("button",{type:"button",name:"signup",onClick:f,children:"Create your Amazon account"}),K.jsx(nr,{to:"/signin",children:"Already have an account? Sign in"})]})]})}function mG(){return K.jsx(rl,{children:K.jsx("div",{children:"Payment"})})}function gG(){return K.jsx(rl,{children:K.jsx("div",{children:"Orders"})})}const yG="_container_dsjop_1",_G="_cart_product_dsjop_23",vG="_btn_container_dsjop_31",EG="_btn_dsjop_31",bG="_cart_container_dsjop_67",wG="_subtotal_dsjop_93",TG="_checkoutBtn_dsjop_141",Ea={container:yG,cart_product:_G,btn_container:vG,btn:EG,cart_container:bG,subtotal:wG,checkoutBtn:TG};function SG(){const[{basket:n,user:e},t]=Q.useContext(hf),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:Ra.ADD_TO_BASKET,item:u})},o=u=>{t({type:Ra.REMOVE_FROM_BASKET,id:u.id})};return K.jsx(rl,{children:K.jsxs("section",{className:Ea.container,children:[K.jsxs("div",{className:Ea.cart_container,children:[K.jsx("h2",{children:"Hello"}),K.jsx("h3",{children:"Your Shopping Basket"}),K.jsx("hr",{}),(n==null?void 0:n.length)===0?K.jsx("p",{children:"Oops! No item in the cart."}):n.map((u,h)=>K.jsxs("section",{className:Ea.cart_product,children:[K.jsx(Yg,{product:u,renderDesc:!0,renderAdd:!1,flex:!0},h),K.jsxs("div",{className:Ea.btn_container,children:[K.jsx("button",{className:Ea.btn,onClick:()=>i(u),children:K.jsx(JV,{size:20})}),K.jsx("span",{children:u.amount}),K.jsx("button",{className:Ea.btn,onClick:()=>o(u),children:K.jsx(XV,{size:20})})]})]}))]}),(n==null?void 0:n.length)!==0&&K.jsxs("div",{className:Ea.subtotal,children:[K.jsxs("div",{children:[K.jsxs("p",{children:["Subtotal(",n==null?void 0:n.length," items)"]}),K.jsx(lx,{amount:r})]}),K.jsxs("span",{children:[K.jsx("input",{type:"checkbox"}),K.jsx("small",{children:"This Order Contains a Gift"})]}),K.jsx(nr,{to:"/payments",className:Ea.checkoutBtn,children:"Continue to Checkout"})]})]})})}const AG="_products_Container_8gmga_1",IG={products_Container:AG};function RG(){const{categoryName:n}=UC(),[e,t]=Q.useState([]),[r,i]=Q.useState(!0);return Q.useEffect(()=>{i(!0),Nt.get(`https://fakestoreapi.com/products/category/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.error("Error fetching products:",o),i(!1)})},[n]),K.jsx(rl,{children:K.jsxs("section",{children:[K.jsx("h1",{style:{padding:"30px"},children:"Results"}),K.jsxs("p",{style:{padding:"30px"},children:["Category / ",n]}),K.jsx("hr",{}),r?K.jsx(JE,{}):K.jsx("div",{className:IG.products_Container,children:e.map(o=>K.jsx(Yg,{product:o,renderDesc:!1,renderAdd:!0},o.id))})]})})}function CG(){const{productId:n}=UC(),[e,t]=Q.useState(null),[r,i]=Q.useState(!0);return Q.useEffect(()=>{Nt.get(`https://fakestoreapi.com/products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.error("Error fetching product:",o),i(!1)})},[n]),r?K.jsx(rl,{children:K.jsx(JE,{})}):K.jsx(rl,{children:K.jsx(Yg,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})}function PG(){return K.jsx(TV,{children:K.jsxs(ZM,{children:[K.jsx(ba,{path:"/",element:K.jsx(XU,{})}),K.jsx(ba,{path:"/signup",element:K.jsx(pG,{})}),K.jsx(ba,{path:"/payments",element:K.jsx(mG,{})}),K.jsx(ba,{path:"/orders",element:K.jsx(gG,{})}),K.jsx(ba,{path:"/cart",element:K.jsx(SG,{})}),K.jsx(ba,{path:"/category/:categoryName",element:K.jsx(RG,{})}),K.jsx(ba,{path:"/products/:productId",element:K.jsx(CG,{})})]})})}function xG(){return K.jsx(K.Fragment,{children:K.jsx(PG,{})})}oM.createRoot(document.getElementById("root")).render(K.jsx(nL,{reducer:QC,initialState:WC,children:K.jsx(xG,{})}));
